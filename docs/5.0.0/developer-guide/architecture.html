<!doctype html><html lang="en" class="no-js"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="keywords" content="JavaScript, Linter, Linting, Pluggable, Configurable, Code Quality"><meta name="description" content="A pluggable and configurable linter tool for identifying and reporting on patterns in JavaScript. Maintain your code quality with ease."><meta name="theme-color" content="#463fd4"><meta property="og:locale" content="en_US"><meta property="og:site_name" content="ESLint - Pluggable JavaScript linter"><meta property="og:title" content="Architecture"><meta property="og:url" content="/docs/5.0.0/developer-guide/architecture"><meta property="og:image" content="https://eslint.org/assets/img/favicon.512x512.png"><meta name="twitter:site" content="@geteslint"><meta name="twitter:title" content="Architecture"><meta name="twitter:description" content="A pluggable and configurable linter tool for identifying and reporting on patterns in JavaScript. Maintain your code quality with ease."><meta name="twitter:url" content="/docs/5.0.0/developer-guide/architecture"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://eslint.org/assets/img/favicon.512x512.png"><title>Architecture - ESLint - Pluggable JavaScript linter</title><link rel="preconnect" href="https://www.google-analytics.com"><link rel="canonical" href="/docs/5.0.0/developer-guide/architecture"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600"><link rel="stylesheet" href="/assets/styles/main.css"><link rel="manifest" href="/manifest.json"><link rel="icon" href="/assets/img/favicon.512x512.png"><link rel="alternate" type="application/rss+xml" title="ESLint - Pluggable JavaScript linter" href="/feed.xml"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"><script async src="https://media.ethicalads.io/media/client/ethicalads.min.js"></script></head><body><input type="checkbox" id="eslint-toggle-search" class="eslint-toggle-search-checkbox"><header class="navbar navbar-default navbar-demo navbar-fixed-top eslint-nav" id="top" role="banner"><div class="container"><a href="/" class="navbar-brand"><img alt="ESLint" src="/assets/img/logo.svg" itemprop="image">ESLint</a><div class="eslint-navbar-toggles"><button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#eslint-navbar" aria-controls="eslint-navbar" aria-expanded="false"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <label for="eslint-toggle-search" class="navbar-toggle eslint-toggle-search-open"><span class="sr-only">Open search</span> <span class="glyphicon glyphicon-search" aria-hidden="true"></span></label></div><nav id="eslint-navbar" class="collapse navbar-collapse eslint-navbar"><ul class="nav navbar-nav navbar-right"><li class="dropdown"><a href="/docs/user-guide" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">User guide<span class="caret"></span></a><ul class="dropdown-menu" role="menu"><li><a href="/docs/user-guide/getting-started">Getting Started</a></li><li><a href="/docs/user-guide/configuring">Configuring ESLint</a></li><li><a href="/docs/user-guide/command-line-interface">Command Line Interface</a></li><li><a href="/docs/rules">Rules</a></li><li><a href="/docs/user-guide/formatters">Formatters</a></li><li><a href="/docs/user-guide/integrations">Integrations</a></li><li class="divider"></li><li><a href="/docs/user-guide/migrating-to-7.0.0">Migrating to v7.0.0</a></li><li><a href="/docs/user-guide/migrating-to-6.0.0">Migrating to v6.0.0</a></li><li><a href="/docs/user-guide/migrating-to-5.0.0">Migrating to v5.0.0</a></li><li><a href="/docs/user-guide/migrating-to-4.0.0">Migrating to v4.0.0</a></li><li><a href="/docs/user-guide/migrating-to-3.0.0">Migrating to v3.0.0</a></li><li><a href="/docs/user-guide/migrating-to-2.0.0">Migrating to v2.0.0</a></li><li><a href="/docs/user-guide/migrating-to-1.0.0">Migrating to v1.0.0</a></li><li><a href="/docs/user-guide/migrating-from-jscs">Migrating from JSCS</a></li></ul></li><li class="dropdown"><a href="/docs/developer-guide" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Developer guide<span class="caret"></span></a><ul class="dropdown-menu" role="menu"><li><a href="/docs/developer-guide/architecture">Architecture</a></li><li><a href="/docs/developer-guide/contributing">Contributing</a></li><li><a href="/docs/developer-guide/source-code">Get the Source Code</a></li><li><a href="/docs/developer-guide/development-environment">Set up a Development Environment</a></li><li><a href="/docs/developer-guide/unit-tests">Run the Unit Tests</a></li><li><a href="/docs/developer-guide/working-with-rules">Working with Rules</a></li><li><a href="/docs/developer-guide/working-with-plugins">Working with Plugins</a></li><li><a href="/docs/developer-guide/working-with-custom-formatters">Working with Custom Formatters</a></li><li><a href="/docs/developer-guide/working-with-custom-parsers">Working with Custom Parsers</a></li><li><a href="/docs/developer-guide/shareable-configs">Shareable Configs</a></li><li><a href="/docs/developer-guide/nodejs-api">Node.js API</a></li><li><a href="/docs/maintainer-guide">Maintainer guide</a></li></ul></li><li><a href="/blog">Blog</a></li><li><a href="/demo">Demo</a></li><li class="dropdown"><a href="/docs/about" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">About<span class="caret"></span></a><ul class="dropdown-menu" role="menu"><li><a href="/users">Who's Using ESLint?</a></li><li><a href="/team">About the Team</a></li><li><a href="/docs/about">About ESLint</a></li></ul></li></ul><label for="eslint-toggle-search" class="navbar-toggle eslint-toggle-search-open"><span class="sr-only">Open search</span> <span class="glyphicon glyphicon-search" aria-hidden="true"></span></label><div class="navbar-form navbar-right eslint-search" role="search"><div class="input-group"><label class="sr-only" aria-label="Search" for="eslint-search-input">Search</label><div class="eslint-search-input-wrapper"><input type="text" class="form-control" id="eslint-search-input" accesskey="s" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search the docs..."> <label for="eslint-toggle-search" class="eslint-toggle-search-close"><span class="sr-only">Close search</span> <span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span></label></div></div></div></nav></div></header><main class="doc"><article class="container"><div class="eslint-ad-float hidden-xs hidden-sm"><div class="bordered" data-ea-publisher="eslint-org" data-ea-type="image"><div class="eslint-ad eslint-image-ad"><div class="eslint-ad-content"><a href="https://opencollective.com/eslint" rel="nofollow" target="_blank"><img src="/assets/img/logo.svg"></a><div class="eslint-ad-text"><a href="http://opencollective.com/eslint" rel="nofollow" target="_blank"><strong>Sponsor ESLint.</strong> ESLint depends on donations for ongoing maintenance and development.</a></div></div></div></div></div><h1 id="architecture-8">Architecture</h1><p>At a high level, there are a few key parts to ESLint:</p><ul><li><code>bin/eslint.js</code> - this is the file that actually gets executed with the command line utility. It's a dumb wrapper that does nothing more than bootstrap ESLint, passing the command line arguments to <code>cli</code>. This is intentionally small so as not to require heavy testing.</li><li><code>lib/cli.js</code> - this is the heart of the ESLint CLI. It takes an array of arguments and then uses <code>eslint</code> to execute the commands. By keeping this as a separate utility, it allows others to effectively call ESLint from within another Node.js program as if it were done on the command line. The main call is <code>cli.execute()</code>. This is also the part that does all the file reading, directory traversing, input, and output.</li><li><code>lib/linter.js</code> - this is the core Linter class that does code verifying based on configuration options. This file does no file I/O and does not interact with the <code>console</code> at all. For other Node.js programs that have JavaScript text to verify, they would be able to use this interface directly.</li><li><code>lib/api.js</code> - this exposes an object that contains Linter, CLIEngine, RuleTester, and SourceCode.</li><li><code>lib/testers/rule-tester.js</code> - this is a wrapper around Mocha, so that rules can be unit tested. This class lets us write consistently formatted tests for each rule that is implemented and be confident that each of the rules work. The RuleTester interface was modeled after Mocha and works with Mocha's global testing methods. RuleTester can also be modified to work with other testing frameworks.</li><li><code>lib/util/source-code.js</code> - this contains a SourceCode class that is used to represent the parsed source code. It takes in source code and the Program node of the AST representing the code.</li></ul><h2 id="the-cli-object-8">The <code>cli</code> object</h2><p>The <code>cli</code> object is the API for the command line interface. Literally, the <code>bin/eslint.js</code> file simply passes arguments to the <code>cli</code> object and then sets <code>process.exitCode</code> to the returned exit code.</p><p>The main method is <code>cli.execute()</code>, which accepts an array of strings that represent the command line options (as if <code>process.argv</code> were passed without the first two arguments). If you want to run ESLint from inside of another program and have it act like the CLI, then <code>cli</code> is the object to use.</p><p>This object's responsibilities include:</p><ul><li>Interpreting command line arguments</li><li>Reading from the file system</li><li>Outputting to the console</li><li>Outputting to the filesystem</li><li>Use a formatter</li><li>Returning the correct exit code</li></ul><p>This object may not:</p><ul><li>Call <code>process.exit()</code> directly</li><li>Perform any asynchronous operations</li></ul><h2 id="the-cliengine-object-8">The <code>CLIEngine</code> object</h2><p>The <code>CLIEngine</code> type represents the core functionality of the CLI except that it reads nothing from the command line and doesn't output anything by default. Instead, it accepts many (but not all) of the arguments that are passed into the CLI. It reads both configuration and source files as well as managing the environment that is passed into the <code>eslint</code> object.</p><p>The main method of the <code>CLIEngine</code> is <code>executeOnFiles()</code>, which accepts an array of file and directory names to run the linter on.</p><p>This object's responsibilities include:</p><ul><li>Managing the execution environment for <code>eslint</code></li><li>Reading from the file system</li><li>Loading rule definitions</li><li>Reading configuration information from config files (including <code>.eslintrc</code> and <code>package.json</code>)</li></ul><p>This object may not:</p><ul><li>Call <code>process.exit()</code> directly</li><li>Perform any asynchronous operations</li><li>Output to the console</li><li>Use formatters</li></ul><h2 id="the-eslint-object-7">The <code>eslint</code> object</h2><p>The main method of the <code>eslint</code> object is <code>verify()</code> and accepts two arguments: the source text to verify and a configuration object (the baked configuration of the given configuration file plus command line options). The method first parses the given text with <code>espree</code> (or whatever the configured parser is) and retrieves the AST. The AST is produced with both line/column and range locations which are useful for reporting location of issues and retrieving the source text related to an AST node, respectively.</p><p>Once the AST is available, <code>estraverse</code> is used to traverse the AST from top to bottom. At each node, the <code>eslint</code> object emits an event that has the same name as the node type (i.e., &quot;Identifier&quot;, &quot;WithStatement&quot;, etc.). On the way back up the subtree, an event is emitted with the AST type name and suffixed with &quot;:exit&quot;, such as &quot;Identifier:exit&quot; - this allows rules to take action both on the way down and on the way up in the traversal. Each event is emitted with the appropriate AST node available.</p><p>This object's responsibilities include:</p><ul><li>Inspecting JavaScript code strings</li><li>Creating an AST for the code</li><li>Executing rules on the AST</li><li>Reporting back the results of the execution</li></ul><p>This object may not:</p><ul><li>Call <code>process.exit()</code> directly</li><li>Perform any asynchronous operations</li><li>Use Node.js-specific features</li><li>Access the file system</li><li>Call <code>console.log()</code> or any other similar method</li></ul><h2 id="rules-33">Rules</h2><p>Individual rules are the most specialized part of the ESLint architecture. Rules can do very little, they are simply a set of instructions executed against an AST that is provided. They do get some context information passed in, but the primary responsibility of a rule is to inspect the AST and report warnings.</p><p>These objects' responsibilities are:</p><ul><li>Inspect the AST for specific patterns</li><li>Reporting warnings when certain patterns are found</li></ul><p>These objects may not:</p><ul><li>Call <code>process.exit()</code> directly</li><li>Perform any asynchronous operations</li><li>Use Node.js-specific features</li><li>Access the file system</li><li>Call <code>console.log()</code> or any other similar method</li></ul></article></main><hr><div class="container"><footer><ul class="list-inline"><li><a href="https://github.com/eslint/eslint/edit/master/docs/developer-guide/architecture.md">Edit this page</a></li><li><a href="https://groups.google.com/group/eslint">Mailing List</a></li><li><a href="https://github.com/eslint/eslint">GitHub</a></li><li><a href="https://twitter.com/geteslint">Twitter</a></li><li><a href="/chat">Chat Room</a></li><li>Copyright OpenJS Foundation and other contributors, <a href="https://openjsf.org/">https://openjsf.org/</a></li></ul></footer></div><script src="/assets/js/main.js"></script></body></html>