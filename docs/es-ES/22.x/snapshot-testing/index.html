<!DOCTYPE html><html lang="es-ES"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Snapshot Testing · Jest</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Los tests de instantánea son de gran utilidad cuando se quiere asegurar que la UI no cambia inesperadamente."/><meta name="docsearch:version" content="22.x"/><meta name="docsearch:language" content="es-ES"/><meta property="og:title" content="Snapshot Testing · Jest"/><meta property="og:type" content="website"/><meta property="og:url" content="https://jestjs.io/"/><meta property="og:description" content="Los tests de instantánea son de gran utilidad cuando se quiere asegurar que la UI no cambia inesperadamente."/><meta property="og:image" content="https://jestjs.io/img/opengraph.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://jestjs.io/img/jest.png"/><link rel="shortcut icon" href="/img/favicon/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://jestjs.io/blog/atom.xml" title="Jest Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://jestjs.io/blog/feed.xml" title="Jest Blog RSS Feed"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-44373548-17', 'auto');
              ga('send', 'pageview');
            </script><link rel="stylesheet" href="/css/code-block-buttons.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/js/code-block-buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/es-ES"><img class="logo" src="/img/jest.svg" alt="Jest"/><h2 class="headerTitleWithLogo">Jest</h2></a><a href="/es-ES/versions"><h3>22.x</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/es-ES/22.x/getting-started" target="_self">Documentación</a></li><li class="siteNavGroupActive"><a href="/docs/es-ES/22.x/api" target="_self">API</a></li><li class=""><a href="/es-ES/help" target="_self">Ayuda</a></li><li class=""><a href="/blog/" target="_self">Blog</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/img/language.svg" alt="Languages icon"/>Español</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/en/22.x/snapshot-testing">English</a></li><li><a href="/docs/ja/22.x/snapshot-testing">日本語</a></li><li><a href="/docs/pt-BR/22.x/snapshot-testing">Português (Brasil)</a></li><li><a href="/docs/ro/22.x/snapshot-testing">Română</a></li><li><a href="/docs/ru/22.x/snapshot-testing">Русский</a></li><li><a href="/docs/uk/22.x/snapshot-testing">Українська</a></li><li><a href="/docs/zh-Hans/22.x/snapshot-testing">简体中文</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><li class=""><a href="https://github.com/facebook/jest" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Guides</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Introduction</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/es-ES/22.x/getting-started">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/22.x/using-matchers">Using Matchers</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/22.x/asynchronous">Testing Asynchronous Code</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/22.x/setup-teardown">Setup and Teardown</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/22.x/mock-functions">Mock Functions</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/22.x/jest-platform">Jest Platform</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/22.x/more-resources">More Resources</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Guides</h3><ul class=""><li class="navListItem navListItemActive"><a class="navItem" href="/docs/es-ES/22.x/snapshot-testing">Snapshot Testing</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/22.x/tutorial-async">An Async Example</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/22.x/timer-mocks">Timer Mocks</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/22.x/manual-mocks">Manual Mocks</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/22.x/es6-class-mocks">ES6 Class Mocks</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/22.x/webpack">Using with webpack</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/22.x/puppeteer">Using with puppeteer</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/22.x/tutorial-jquery">DOM Manipulation</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/22.x/migration-guide">Migrating to Jest</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/22.x/troubleshooting">Troubleshooting</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Framework Guides</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/es-ES/22.x/tutorial-react">Testing React Apps</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/22.x/tutorial-react-native">Testing React Native Apps</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/22.x/testing-frameworks">Testing Web Frameworks</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">API Reference</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/es-ES/22.x/api">Globals</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/22.x/expect">Expect</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/22.x/mock-function-api">Mock Functions</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/22.x/jest-object">The Jest Object</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/22.x/configuration">Configuring Jest</a></li><li class="navListItem"><a class="navItem" href="/docs/es-ES/22.x/cli">Jest CLI Options</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/facebook/jest/edit/master/docs/SnapshotTesting.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">Snapshot Testing</h1></header><article><div><span><p>Los tests de instantánea son de gran utilidad cuando se quiere asegurar que la UI no cambia inesperadamente.</p>
<p>Un caso típico de test de instantánea para una aplicación móvil presenta un componente de interfaz, toma una instantánea, y entonces la compara con una imagen referencial guardada al lado del test. El test fallará si las dos imágenes no concuerdan: ya sea porque el cambio es inesperado, o porque la instantánea necesita ser actualizada a la nueva versión del componente de interfaz.</p>
<h2><a class="anchor" aria-hidden="true" id="comprobación-instantánea-con-jest"></a><a href="#comprobación-instantánea-con-jest" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Comprobación Instantánea con Jest</h2>
<p>Se puede tomar un enfoque similar cuando se trata de comprobar tus component de React. En lugar de presentar la interfaz gráfica de usuario, lo cual requeriría construir la app en su totalidad, se puede usar un renderer de tests para rápidamente generar un valor serializable para tu árbol de React. Consider this <a href="https://github.com/facebook/jest/blob/master/examples/snapshot/__tests__/link.react.test.js">example test</a> for a <a href="https://github.com/facebook/jest/blob/master/examples/snapshot/Link.react.js">Link component</a>:</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> Link <span class="hljs-keyword">from</span> <span class="hljs-string">'../Link.react'</span>;
<span class="hljs-keyword">import</span> renderer <span class="hljs-keyword">from</span> <span class="hljs-string">'react-test-renderer'</span>;

it(<span class="hljs-string">'renders correctly'</span>, () =&gt; {
  <span class="hljs-keyword">const</span> tree = renderer
    .create(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">page</span>=<span class="hljs-string">"http://www.facebook.com"</span>&gt;</span>Facebook<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span></span>)
    .toJSON();
  expect(tree).toMatchSnapshot();
});
</code></pre>
<p>The first time this test is run, Jest creates a <a href="https://github.com/facebook/jest/blob/master/examples/snapshot/__tests__/__snapshots__/link.react.test.js.snap">snapshot file</a> that looks like this:</p>
<pre><code class="hljs css language-javascript">exports[<span class="hljs-string">`renders correctly 1`</span>] = <span class="hljs-string">`
&lt;a
  className="normal"
  href="http://www.facebook.com"
  onMouseEnter={[Function]}
  onMouseLeave={[Function]}
&gt;
  Facebook
&lt;/a&gt;
`</span>;
</code></pre>
<p>El artefacto de la instantánea debe ser incluído (commit) con los cambios en el código, y revisado como parte de la revisión de código. Jest utiliza <a href="https://github.com/facebook/jest/tree/master/packages/pretty-format">&quot;pretty-format&quot;</a> para crear instantáneas legibles durante la revisión de código. On subsequent test runs Jest will compare the rendered output with the previous snapshot. Si coinciden, pasará el test. Si no coinciden, ya sea porque el &quot;test runner&quot; encontró un &quot;bug&quot; en el código que debe ser arreglado, o la implementación ha cambiado y la instantánea necesita ser actualizada.</p>
<p>Puede encontrarse más información sobre cómo funciona la comprobación de instantánea y por qué la hemos construido en el <a href="https://jestjs.io/blog/2016/07/27/jest-14.html">post de lanzamiento del blog</a>. Recomendamos leer <a href="http://benmccormick.org/2016/09/19/testing-with-jest-snapshots-first-impressions/">este post del blog</a> para hacerse la idea de cuando se debería usar comprobación de instantánea. We also recommend watching this <a href="https://egghead.io/lessons/javascript-use-jest-s-snapshot-testing-feature?pl=testing-javascript-with-jest-a36c4074">egghead video</a> on Snapshot Testing with Jest.</p>
<h3><a class="anchor" aria-hidden="true" id="actualizando-instantáneas"></a><a href="#actualizando-instantáneas" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Actualizando Instantáneas</h3>
<p>Es muy fácil detectar cuando una prueba de instantánea falla después de introducir un bug. Cuando eso ocurra, siga adelante y arregle el problema, y asegúrese de que sus tests de instantánea se ejecutan con éxito otra vez. A continuación vamos a hablar sobre el caso de cuando un test de instantánea está fallando debido a un cambio intencionado en la implementación.</p>
<p>Tal situación puede presentarse si intencionalmente cambiamos la dirección del enlace del componente Enlace en nuestro ejemplo.</p>
<pre><code class="hljs css language-javascript"><span class="hljs-comment">// estuche de prueba actualizado con un Link a dirección distinta</span>
it(<span class="hljs-string">'renders correctly'</span>, () =&gt; {
  <span class="hljs-keyword">const</span> tree = renderer
    .create(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">page</span>=<span class="hljs-string">"http://www.instagram.com"</span>&gt;</span>Instagram<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span></span>)
    .toJSON();
  expect(tree).toMatchSnapshot();
});
</code></pre>
<p>En ese caso, Jest imprimirá esta salida:</p>
<p><img src="/img/content/failedSnapshotTest.png" alt=""></p>
<p>Ya que sólo actualizamos nuestro componente para que apunte a una dirección diferente, es razonable esperar cambios en la instantánea de este componente. Nuestro test de instantánea está fallando porque la instantánea de nuestro componente actualizado ya no concuerda con el artefacto de instantáneas para este caso de test.</p>
<p>To resolve this, we will need to update our snapshot artifacts. You can run Jest with a flag that will tell it to re-generate snapshots:</p>
<pre><code class="hljs">jest --updateSnapshot
</code></pre>
<p>Prosiga y acepte los cambios ejecutando el comando anterior. También puede utilizar equivalente carácter único &quot;flag&quot; <code>-u</code> para volver a generar instantáneas si lo prefiere. Esto volverá a generar los artefactos de instantánea para todos los tests de instantánea fallidos. Si tuviéramos cualquier test de instantánea fallido adicional debido a un bug no intencionado, necesitaríamos arreglar el &quot;bug&quot; antes de volver a generar instantáneas para impedir grabar instantáneas con un comportamiento defectuoso.</p>
<p>Si se desea limitar que casos de test instantáneos se vuelven a generar, se puede pasar un &quot;flag&quot; adicional: <code>--nombreTestPatrón</code> para volver a grabar instantáneas sólo para esos tests que coinciden con el patrón.</p>
<p>Se puede probar esta funcionalidad clonando el <a href="https://github.com/facebook/jest/tree/master/examples/snapshot">ejemplo de instantánea</a>, modificando el componente <code>Enlance</code>, y ejecutando Jest.</p>
<h3><a class="anchor" aria-hidden="true" id="los-tests-deberían-ser-deterministas"></a><a href="#los-tests-deberían-ser-deterministas" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Los Tests Deberían Ser Deterministas</h3>
<p>Los tests deben ser deterministas. Es decir, ejecutando los mismos tests multiples veces en un componente que no ha cambiado debería producir los mismos resultados cada vez. Usted es responsable de asegurar que sus instantáneas generadas no incluyen información específica sobre la plataforma o cualquier otra información que no sea determinista.</p>
<p>Por ejemplo, si usted tiene un componente de <a href="https://github.com/facebook/jest/blob/master/examples/snapshot/Clock.react.js"> Reloj</a> que utiliza <code>Date.now()</code>, la instantánea que se generan a partir de este componente será diferente cada vez que se ejecuta el caso de test. En este caso se puede create un <a href="/docs/es-ES/22.x/mock-functions">&quot;mock&quot; del método Date.now()</a> para devolver un valor constante cada vez que la prueba se ejecuta:</p>
<pre><code class="hljs">Date.Now = jest.fn(() = &gt; 1482363367071);
</code></pre>
<p>Cada vez que se ejecuta el test de prueba instantánea, <code>Date.now()</code> devuelve <code>1482363367071</code> consistentemente. Esto resultará en la misma instantánea generada para este componente independientemente de cuando se ejecute el test.</p>
<h3><a class="anchor" aria-hidden="true" id="las-instantáneas-no-se-escriben-automáticamente-en-los-sistemas-de-integración-continua-ic"></a><a href="#las-instantáneas-no-se-escriben-automáticamente-en-los-sistemas-de-integración-continua-ic" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Las instantáneas no se escriben automáticamente en los sistemas de Integración Continua (IC)</h3>
<p>A partir de Jest 20, las instantáneas no se escriben automáticamente cuando Jest se ejecuta en un sistema de CI sin pasar explícitamente <code>--updateSnapshot</code>. Se espera que todas las instantáneas sean parte del código que se ejecuta en el CI, y ya que las nuevas instantáneas pasan automáticamente, no deberían pasar un test ejecutado en un sistema de CI. Se recomienda hacer siempre un &quot;commit&quot; de todas las instantáneas para mantenerlas en el control de versiones.</p>
<h2><a class="anchor" aria-hidden="true" id="preguntas-frecuentes"></a><a href="#preguntas-frecuentes" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Preguntas Frecuentes</h2>
<h3><a class="anchor" aria-hidden="true" id="¿deben-los-archivos-de-instantáneas-ser-incluidos-en-commits"></a><a href="#¿deben-los-archivos-de-instantáneas-ser-incluidos-en-commits" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>¿Deben los archivos de instantáneas ser incluidos en &quot;commits&quot;?</h3>
<p>Sí, todos los archivos de instantánea deben esta en &quot;commits&quot; junto a los módulos que están cubriendo y sus tests. Deberían ser considerados como parte del test, similar al valor de cualquier otra afirmación en Jest. De hecho, las instantáneas representan el estado de los módulos en cualquier momento dado en el tiempo. De esta manera, cuando se modifican los módulos, Jest puede saber lo que cambiado desde la versión anterior. También puede proporcionar mucho contexto adicional durante la revisión del código en la cual los revisores pueden estudiar los cambios mucho mejor.</p>
<h3><a class="anchor" aria-hidden="true" id="¿los-tests-de-instantánea-solo-funcionan-con-components-de-react"></a><a href="#¿los-tests-de-instantánea-solo-funcionan-con-components-de-react" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>¿Los tests de instantánea solo funcionan con components de React?</h3>
<p><a href="/docs/es-ES/22.x/tutorial-react">React</a> and <a href="/docs/es-ES/22.x/tutorial-react-native">React Native</a> components are a good use case for snapshot testing. Sin embargo, las instantáneas pueden capturar cualquier valor serializable y puede usarse en cualquier momento en que el objetivo sea comprobar si el resultado es correcto. El repositorio de Jest contiene muchos ejemplos del &quot;output&quot; de Jest en sí mismo, el &quot;output&quot; de la librería de afirmación de Jest, así como mensajes de &quot;log&quot; de varias partes de la base de código de Jest. See an example of <a href="https://github.com/facebook/jest/blob/master/e2e/__tests__/console.test.ts">snapshotting CLI output</a> in the Jest repo.</p>
<h3><a class="anchor" aria-hidden="true" id="¿cuál-es-la-diferencia-entre-tests-de-instantánea-y-tests-de-regresión-visual"></a><a href="#¿cuál-es-la-diferencia-entre-tests-de-instantánea-y-tests-de-regresión-visual" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>¿Cuál es la diferencia entre tests de instantánea y tests de regresión visual?</h3>
<p>Tests de instantánea y tests de regresión visual son dos maneras distintas de testear interfaces de usuario, y cumplen dos objetivos diferentes. Las herramientas de tests de regresión visual toman capturas de pantalla de páginas web y comparan las imágenes resultantes pixel por pixel. Con tests de instantánea los valores son serializados, guardados en archivos de text y comparados usando un algoritmo de diferenciación. There are different trade-offs to consider and we listed the reasons why snapshot testing was built in the <a href="https://jestjs.io/blog/2016/07/27/jest-14.html#why-snapshot-testing">Jest blog</a>.</p>
<h3><a class="anchor" aria-hidden="true" id="¿substituyen-los-tests-de-instantánea-a-los-tests-unitarios"></a><a href="#¿substituyen-los-tests-de-instantánea-a-los-tests-unitarios" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>¿Substituyen los tests de instantánea a los tests unitarios?</h3>
<p>Los tests de instantánea per-se es sólo una de las más de 20 afirmaciones que están incluidas en Jest. El objetivo de los tests de instantánea no debe reemplazar los tests unitarios ya existentes, sino proporcionar valor adicional a la vez que hace que escribir tests sea menos doloroso. En algunos escenarios, los tests de instantánea pueden potencialmente eliminar la necesidad de tests unitarios para un conjunto particular de funcionalidades (por ejemplo componentes de React), pero también pueden coexistir.</p>
<h3><a class="anchor" aria-hidden="true" id="¿cuál-es-el-rendimiento-de-tests-de-instantáneas-en-cuanto-a-velocidad-y-tamaño-de-los-archivos-generados"></a><a href="#¿cuál-es-el-rendimiento-de-tests-de-instantáneas-en-cuanto-a-velocidad-y-tamaño-de-los-archivos-generados" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>¿Cuál es el rendimiento de tests de instantáneas en cuanto a velocidad y tamaño de los archivos generados?</h3>
<p>Jest ha sido reescrito pensando en rendimiento, y tests de instantánea no es una excepción. Ya que las instantáneas se almacenan en archivos de texto, esta forma de prueba es rápida y fiable. Jest genera un nuevo archivo por cada archivo de test que invoca al marcador <code>toMatchSnapshot</code>. The size of the snapshots is pretty small: For reference, the size of all snapshot files in the Jest codebase itself is less than 300 KB.</p>
<h3><a class="anchor" aria-hidden="true" id="¿cómo-resuelvo-conflictos-dentro-de-archivos-de-instantáneas"></a><a href="#¿cómo-resuelvo-conflictos-dentro-de-archivos-de-instantáneas" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>¿Cómo resuelvo conflictos dentro de archivos de instantáneas?</h3>
<p>Los archivos de instantáneas siempre deben representar el estado actual de los módulos que están cubriendo. Por lo tanto, si se están fusionando dos &quot;branches&quot; y se encuentra un conflicto en los archivos de instantáneas, puede o bien resolver el conflicto manualmente o actualizar el archivo de instantánea ejecutando Jest e inspeccionando el resultado.</p>
<h3><a class="anchor" aria-hidden="true" id="¿es-posible-aplicar-los-principios-de-desarrollo-orientado-a-pruebas-con-tests-de-instantánea"></a><a href="#¿es-posible-aplicar-los-principios-de-desarrollo-orientado-a-pruebas-con-tests-de-instantánea" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>¿Es posible aplicar los principios de desarrollo orientado a pruebas con tests de instantánea?</h3>
<p>Aunque es posible escribir archivos de instantáneas manualmente, generalmente no es accesible. Las instantáneas ayudan a averiguar si cambia el &quot;output&quot; de los módulos objeto de los tests, en lugar de dar orientación para diseñar el código en primer lugar.</p>
<h3><a class="anchor" aria-hidden="true" id="¿funciona-la-cobertura-de-código-con-tests-de-instantánea"></a><a href="#¿funciona-la-cobertura-de-código-con-tests-de-instantánea" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>¿Funciona la cobertura de código con tests de instantánea?</h3>
<p>Yes, as well as with any other test.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/es-ES/22.x/more-resources"><span class="arrow-prev">← </span><span>More Resources</span></a><a class="docs-next button" href="/docs/es-ES/22.x/tutorial-async"><span>An Async Example</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#comprobación-instantánea-con-jest">Comprobación Instantánea con Jest</a><ul class="toc-headings"><li><a href="#actualizando-instantáneas">Actualizando Instantáneas</a></li><li><a href="#los-tests-deberían-ser-deterministas">Los Tests Deberían Ser Deterministas</a></li><li><a href="#las-instantáneas-no-se-escriben-automáticamente-en-los-sistemas-de-integración-continua-ic">Las instantáneas no se escriben automáticamente en los sistemas de Integración Continua (IC)</a></li></ul></li><li><a href="#preguntas-frecuentes">Preguntas Frecuentes</a><ul class="toc-headings"><li><a href="#¿deben-los-archivos-de-instantáneas-ser-incluidos-en-commits">¿Deben los archivos de instantáneas ser incluidos en &quot;commits&quot;?</a></li><li><a href="#¿los-tests-de-instantánea-solo-funcionan-con-components-de-react">¿Los tests de instantánea solo funcionan con components de React?</a></li><li><a href="#¿cuál-es-la-diferencia-entre-tests-de-instantánea-y-tests-de-regresión-visual">¿Cuál es la diferencia entre tests de instantánea y tests de regresión visual?</a></li><li><a href="#¿substituyen-los-tests-de-instantánea-a-los-tests-unitarios">¿Substituyen los tests de instantánea a los tests unitarios?</a></li><li><a href="#¿cuál-es-el-rendimiento-de-tests-de-instantáneas-en-cuanto-a-velocidad-y-tamaño-de-los-archivos-generados">¿Cuál es el rendimiento de tests de instantáneas en cuanto a velocidad y tamaño de los archivos generados?</a></li><li><a href="#¿cómo-resuelvo-conflictos-dentro-de-archivos-de-instantáneas">¿Cómo resuelvo conflictos dentro de archivos de instantáneas?</a></li><li><a href="#¿es-posible-aplicar-los-principios-de-desarrollo-orientado-a-pruebas-con-tests-de-instantánea">¿Es posible aplicar los principios de desarrollo orientado a pruebas con tests de instantánea?</a></li><li><a href="#¿funciona-la-cobertura-de-código-con-tests-de-instantánea">¿Funciona la cobertura de código con tests de instantánea?</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/jest-outline.svg" alt="Jest" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/es-ES/getting-started.html">Getting Started</a><a href="/docs/es-ES/snapshot-testing.html">Guides</a><a href="/docs/es-ES/api.html">API Reference</a></div><div><h5>Community</h5><a href="https://stackoverflow.com/questions/tagged/jestjs" target="_blank">Stack Overflow</a><a href="https://www.reactiflux.com/">Reactiflux</a><a href="https://twitter.com/fbjest" target="_blank">Twitter</a></div><div><h5>More</h5><a href="/blog">Blog</a><a href="https://github.com/facebook/jest">GitHub</a><a class="github-button" href="https://github.com/facebook/jest" data-icon="octicon-star" data-count-href="/facebook/jest/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star facebook/jest on GitHub">Star</a></div></section><a href="https://code.facebook.com/projects/" target="_blank" class="fbOpenSource"><img src="/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2020 Facebook Inc.</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>window.twttr=(function(d,s, id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src='https://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js, fjs);t._e = [];t.ready = function(f) {t._e.push(f);};return t;}(document, 'script', 'twitter-wjs'));</script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '833906d7486e4059359fa58823c4ef56',
                indexName: 'jest',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["language:es-ES","version:22.x"]}
              });
            </script></body></html>