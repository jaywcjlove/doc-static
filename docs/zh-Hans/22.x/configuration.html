<!DOCTYPE html><html lang="zh-Hans"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Configuring Jest · Jest</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Jest 的配置可以通过项目中的 `package.json` 文件、`jest.config.js` 文件或者 `--config &lt;path/to/js|json&gt;` 选项来指定 如果你倾向于在 `package.json` 文件中处理 Jest 配置参数，那么 「jest」属性需要放到最外层，才能被 Jest 正确识别。"/><meta name="docsearch:version" content="22.x"/><meta name="docsearch:language" content="zh-Hans"/><meta property="og:title" content="Configuring Jest · Jest"/><meta property="og:type" content="website"/><meta property="og:url" content="https://jestjs.io/"/><meta property="og:description" content="Jest 的配置可以通过项目中的 `package.json` 文件、`jest.config.js` 文件或者 `--config &lt;path/to/js|json&gt;` 选项来指定 如果你倾向于在 `package.json` 文件中处理 Jest 配置参数，那么 「jest」属性需要放到最外层，才能被 Jest 正确识别。"/><meta property="og:image" content="https://jestjs.io/img/opengraph.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://jestjs.io/img/jest.png"/><link rel="shortcut icon" href="/img/favicon/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://jestjs.io/blog/atom.xml" title="Jest Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://jestjs.io/blog/feed.xml" title="Jest Blog RSS Feed"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-44373548-17', 'auto');
              ga('send', 'pageview');
            </script><link rel="stylesheet" href="/css/code-block-buttons.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/js/code-block-buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/zh-Hans"><img class="logo" src="/img/jest.svg" alt="Jest"/><h2 class="headerTitleWithLogo">Jest</h2></a><a href="/zh-Hans/versions"><h3>22.x</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/zh-Hans/22.x/getting-started" target="_self">文档</a></li><li class="siteNavGroupActive"><a href="/docs/zh-Hans/22.x/api" target="_self">API</a></li><li class=""><a href="/zh-Hans/help" target="_self">帮助</a></li><li class=""><a href="/blog/" target="_self">博客</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/img/language.svg" alt="Languages icon"/>简体中文</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/en/22.x/configuration">English</a></li><li><a href="/docs/ja/22.x/configuration">日本語</a></li><li><a href="/docs/es-ES/22.x/configuration">Español</a></li><li><a href="/docs/pt-BR/22.x/configuration">Português (Brasil)</a></li><li><a href="/docs/ro/22.x/configuration">Română</a></li><li><a href="/docs/ru/22.x/configuration">Русский</a></li><li><a href="/docs/uk/22.x/configuration">Українська</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li><li class=""><a href="https://github.com/facebook/jest" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>API Reference</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Introduction</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/22.x/getting-started">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/22.x/using-matchers">Using Matchers</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/22.x/asynchronous">Testing Asynchronous Code</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/22.x/setup-teardown">Setup and Teardown</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/22.x/mock-functions">Mock Functions</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/22.x/jest-platform">Jest Platform</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/22.x/more-resources">More Resources</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Guides</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/22.x/snapshot-testing">Snapshot Testing</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/22.x/tutorial-async">An Async Example</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/22.x/timer-mocks">Timer Mocks</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/22.x/manual-mocks">Manual Mocks</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/22.x/es6-class-mocks">ES6 Class Mocks</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/22.x/webpack">Using with webpack</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/22.x/puppeteer">Using with puppeteer</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/22.x/tutorial-jquery">DOM Manipulation</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/22.x/migration-guide">Migrating to Jest</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/22.x/troubleshooting">Troubleshooting</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">框架指南</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/22.x/tutorial-react">Testing React Apps</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/22.x/tutorial-react-native">Testing React Native Apps</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/22.x/testing-frameworks">Testing Web Frameworks</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">API Reference</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/22.x/api">Globals</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/22.x/expect">Expect</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/22.x/mock-function-api">Mock Functions</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/22.x/jest-object">The Jest Object</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/zh-Hans/22.x/configuration">Configuring Jest</a></li><li class="navListItem"><a class="navItem" href="/docs/zh-Hans/22.x/cli">Jest CLI Options</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/facebook/jest/edit/master/docs/Configuration.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">Configuring Jest</h1></header><article><div><span><p>Jest 的配置可以通过项目中的 <code>package.json</code> 文件、<code>jest.config.js</code> 文件或者 <code>--config &lt;path/to/js|json&gt;</code> 选项来指定 如果你倾向于在 <code>package.json</code> 文件中处理 Jest 配置参数，那么 「jest」属性需要放到最外层，才能被 Jest 正确识别。</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"name"</span>: <span class="hljs-string">"my-project"</span>,
  <span class="hljs-attr">"jest"</span>: {
    <span class="hljs-attr">"verbose"</span>: <span class="hljs-literal">true</span>
  }
}
</code></pre>
<p>或者通过 JavaScript：</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// jest.config.js</span>
<span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">verbose</span>: <span class="hljs-literal">true</span>,
};
</code></pre>
<p>请记住最后拿到的配置必须是可被 JSON 序列化的。</p>
<p>使用<code>--config</code>配置选项时，JSON 文件绝不能有&quot;jest&quot;键值︰</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"bail"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"verbose"</span>: <span class="hljs-literal">true</span>
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="选项"></a><a href="#选项" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>选项</h2>
<p>These options let you control Jest's behavior in your <code>package.json</code> file. The Jest philosophy is to work great by default, but sometimes you just need more configuration power.</p>
<ul>
<li><a href="#automock-boolean"><code>automock</code> [boolean]</a></li>
<li><a href="#browser-boolean"><code>browser</code> [boolean]</a></li>
<li><a href="#bail-boolean"><code>bail</code> [boolean]</a></li>
<li><a href="#cachedirectory-string"><code>cacheDirectory</code> [string]</a></li>
<li><a href="#collectcoverage-boolean"><code>collectCoverage</code> [boolean]</a></li>
<li><a href="#collectcoveragefrom-array"><code>collectCoverageFrom</code> [array]</a></li>
<li><a href="#coveragedirectory-string"><code>coverageDirectory</code> [string]</a></li>
<li><a href="#coveragepathignorepatterns-数组string"><code>coveragePathIgnorePatterns</code> [数组&lt;string&gt;]</a></li>
<li><a href="#coveragereporters-数组string"><code>coverageReporters</code> [数组&lt;string&gt;]</a></li>
<li><a href="#coveragethreshold-object"><code>coverageThreshold</code> [object]</a></li>
<li><a href="#displayname-string"><code>displayName</code> [string]</a></li>
<li><a href="#forcecoveragematch-数组string"><code>forceCoverageMatch</code> [数组&lt;string&gt;]</a></li>
<li><a href="#globals-object"><code>globals</code> [object]</a></li>
<li><a href="#globalsetup-string"><code>globalSetup</code> [string]</a></li>
<li><a href="#globalteardown-string"><code>globalTeardown</code> [string]</a></li>
<li><a href="#modulefileextensions-数组string"><code>moduleFileExtensions</code> [数组&lt;string&gt;]</a></li>
<li><a href="#moduledirectories-数组string"><code>moduleDirectories</code> [数组&lt;string&gt;]</a></li>
<li><a href="#modulenamemapper-objectstring-string"><code>moduleNameMapper</code> [object&lt;string, string&gt;]</a></li>
<li><a href="#modulepathignorepatterns-数组string"><code>modulePathIgnorePatterns</code> [数组&lt;string&gt;]</a></li>
<li><a href="#modulepaths-数组string"><code>modulePaths</code> [数组&lt;string&gt;]</a></li>
<li><a href="#notify-boolean"><code>notify</code> [boolean]</a></li>
<li><a href="#notifymode-string"><code>notifyMode</code> [string]</a></li>
<li><a href="#preset-string"><code>preset</code> [string]</a></li>
<li><a href="#projects-数组string--projectconfig"><code>projects</code> [数组&lt;string | projectconfig&gt;]</a></li>
<li><a href="#clearmocks-boolean"><code>clearMocks</code> [boolean]</a></li>
<li><a href="#reporters-数组modulename--modulename-options"><code>reporters</code> [数组&lt;modulename | [modulename, options]&gt;]</a></li>
<li><a href="#resetmocks-boolean"><code>resetMocks</code> [boolean]</a></li>
<li><a href="#resetmodules-boolean"><code>resetModules</code> [boolean]</a></li>
<li><a href="#resolver-string"><code>resolver</code> [string]</a></li>
<li><a href="#restoremocks-boolean"><code>restoreMocks</code> [boolean]</a></li>
<li><a href="#rootdir-string"><code>rootDir</code> [string]</a></li>
<li><a href="#roots-数组string"><code>roots</code> [数组&lt;string&gt;]</a></li>
<li><a href="#runner-string"><code>runner</code> [string]</a></li>
<li><a href="#setupfiles-array"><code>setupFiles</code> [array]</a></li>
<li><a href="#setuptestframeworkscriptfile-string"><code>setupTestFrameworkScriptFile</code> [string]</a></li>
<li><a href="#snapshotserializers-数组string"><code>snapshotSerializers</code> [数组&lt;string&gt;]</a></li>
<li><a href="#testenvironment-string"><code>testEnvironment</code> [string]</a></li>
<li><a href="#testenvironmentoptions-object"><code>testEnvironmentOptions</code> [Object]</a></li>
<li><a href="#testmatch-数组string"><code>testMatch</code> [数组&lt;string&gt;]</a></li>
<li><a href="#testpathignorepatterns-数组string"><code>testPathIgnorePatterns</code> [数组&lt;string&gt;]</a></li>
<li><a href="#testregex-string"><code>testRegex</code> [string]</a></li>
<li><a href="#testresultsprocessor-string"><code>testResultsProcessor</code> [string]</a></li>
<li><a href="#testrunner-string"><code>testRunner</code> [string]</a></li>
<li><a href="#testurl-string"><code>testURL</code> [string]</a></li>
<li><a href="#timers-string"><code>timers</code> [string]</a></li>
<li><a href="#transform-objectstring-string"><code>transform</code> [object&lt;string, string&gt;]</a></li>
<li><a href="#transformignorepatterns-数组string"><code>transformIgnorePatterns</code> [数组&lt;string&gt;]</a></li>
<li><a href="#unmockedmodulepathpatterns-数组string"><code>unmockedModulePathPatterns</code> [数组&lt;string&gt;]</a></li>
<li><a href="#verbose-boolean"><code>verbose</code> [boolean]</a></li>
<li><a href="#watchpathignorepatterns-数组string"><code>watchPathIgnorePatterns</code> [数组&lt;string&gt;]</a></li>
</ul>
<hr>
<h2><a class="anchor" aria-hidden="true" id="参考"></a><a href="#参考" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>参考</h2>
<h3><a class="anchor" aria-hidden="true" id="automock-boolean"></a><a href="#automock-boolean" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>automock</code> [boolean]</h3>
<p>默认值︰<code>false</code></p>
<p>This option tells Jest that all imported modules in your tests should be mocked automatically. All modules used in your tests will have a replacement implementation, keeping the API surface.</p>
<p>示例：</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// utils.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">authorize</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-string">'token'</span>;
  },
  <span class="hljs-attr">isAuthorized</span>: <span class="hljs-function"><span class="hljs-params">secret</span> =&gt;</span> secret === <span class="hljs-string">'wizard'</span>,
};
</code></pre>
<pre><code class="hljs css language-js"><span class="hljs-comment">//__tests__/automocking.test.js</span>
<span class="hljs-keyword">import</span> utils <span class="hljs-keyword">from</span> <span class="hljs-string">'../utils'</span>;

test(<span class="hljs-string">'if utils mocked automatically'</span>, () =&gt; {
  <span class="hljs-comment">// Public methods of `utils` are now mock functions</span>
  expect(utils.authorize.mock).toBeTruthy();
  expect(utils.isAuthorized.mock).toBeTruthy();

  <span class="hljs-comment">// You can provide them with your own implementation</span>
  <span class="hljs-comment">// or pass the expected return value</span>
  utils.authorize.mockReturnValue(<span class="hljs-string">'mocked_token'</span>);
  utils.isAuthorized.mockReturnValue(<span class="hljs-literal">true</span>);

  expect(utils.authorize()).toBe(<span class="hljs-string">'mocked_token'</span>);
  expect(utils.isAuthorized(<span class="hljs-string">'not_wizard'</span>)).toBeTruthy();
});
</code></pre>
<p><em>Note: Node modules are automatically mocked when you have a manual mock in place (e.g.: <code>__mocks__/lodash.js</code>). More info <a href="manual-mocks.html#mocking-node-modules">here</a>.</em></p>
<p><em>Note: Core modules, like <code>fs</code>, are not mocked by default. They can be mocked explicitly, like <code>jest.mock('fs')</code>.</em></p>
<h3><a class="anchor" aria-hidden="true" id="browser-boolean"></a><a href="#browser-boolean" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>browser</code> [boolean]</h3>
<p>默认值︰<code>false</code></p>
<p>当解析模块时，是否遵循在 <code>package.json</code> 中的 Browserify 的 <a href="https://github.com/substack/browserify-handbook#browser-field"><code>&quot;browser&quot;</code> 字段</a>。 有些模块会导出不一样的版本，这取决于你是在 Node 还是在一个浏览器中进行操作。</p>
<h3><a class="anchor" aria-hidden="true" id="bail-boolean"></a><a href="#bail-boolean" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>bail</code> [boolean]</h3>
<p>默认值︰<code>false</code></p>
<p>By default, Jest runs all tests and produces all errors into the console upon completion. The bail config option can be used here to have Jest stop running tests after the first failure.</p>
<h3><a class="anchor" aria-hidden="true" id="cachedirectory-string"></a><a href="#cachedirectory-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>cacheDirectory</code> [string]</h3>
<p>默认值︰ <code>&quot;/tmp/&lt;path&gt;&quot;</code></p>
<p>Jest用来储存依赖信息缓存的目录。</p>
<p>Jest 尝试去扫描你的依赖树一次（前期）并且把依赖树缓存起来，其目的就是抹去某些在运行测试时需要进行的文件系统排序。 这一配置选项让你可以自定义Jest将缓存数据储存在磁盘的那个位置。</p>
<h3><a class="anchor" aria-hidden="true" id="collectcoverage-boolean"></a><a href="#collectcoverage-boolean" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>collectCoverage</code> [boolean]</h3>
<p>默认值︰<code>false</code></p>
<p>指出是否收集测试时的覆盖率信息。 由于要带上覆盖率搜集语句重新访问所有执行过的文件，这可能会让你的测试执行速度被明显减慢。</p>
<h3><a class="anchor" aria-hidden="true" id="collectcoveragefrom-array"></a><a href="#collectcoveragefrom-array" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>collectCoverageFrom</code> [array]</h3>
<p>默认值：<code>undefined</code></p>
<p>An array of <a href="https://github.com/jonschlinkert/micromatch">glob patterns</a> indicating a set of files for which coverage information should be collected. If a file matches the specified glob pattern, coverage information will be collected for it even if no tests exist for this file and it's never required in the test suite.</p>
<p>示例：</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"collectCoverageFrom"</span>: [
    <span class="hljs-string">"**/*.{js,jsx}"</span>,
    <span class="hljs-string">"!**/node_modules/**"</span>,
    <span class="hljs-string">"!**/vendor/**"</span>
  ]
}
</code></pre>
<p>This will collect coverage information for all the files inside the project's <code>rootDir</code>, except the ones that match <code>**/node_modules/**</code> or <code>**/vendor/**</code>.</p>
<p><em>注意：该选项要求 <code>collectCoverage</code> 被设成true，或者通过 <code>--coverage</code> 参数来调用 Jest。</em></p>
<h3><a class="anchor" aria-hidden="true" id="coveragedirectory-string"></a><a href="#coveragedirectory-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>coverageDirectory</code> [string]</h3>
<p>默认值：<code>undefined</code></p>
<p>Jest输出覆盖信息文件的目录。</p>
<h3><a class="anchor" aria-hidden="true" id="coveragepathignorepatterns-数组string"></a><a href="#coveragepathignorepatterns-数组string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>coveragePathIgnorePatterns</code> [数组&lt;string&gt;]</h3>
<p>默认值︰<code>[&quot;node_modules&quot;]</code></p>
<p>An array of regexp pattern strings that are matched against all file paths before executing the test. If the file path matches any of the patterns, coverage information will be skipped.</p>
<p>These pattern strings match against the full path. Use the <code>&lt;rootDir&gt;</code> string token to include the path to your project's root directory to prevent it from accidentally ignoring all of your files in different environments that may have different root directories. Example: <code>[&quot;&lt;rootDir&gt;/build/&quot;, &quot;&lt;rootDir&gt;/node_modules/&quot;]</code>.</p>
<h3><a class="anchor" aria-hidden="true" id="coveragereporters-数组string"></a><a href="#coveragereporters-数组string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>coverageReporters</code> [数组&lt;string&gt;]</h3>
<p>Default: <code>[&quot;json&quot;, &quot;lcov&quot;, &quot;text&quot;, &quot;clover&quot;]</code></p>
<p>A list of reporter names that Jest uses when writing coverage reports. Any <a href="https://github.com/gotwarlost/istanbul/tree/master/lib/report">istanbul reporter</a> can be used.</p>
<p><em>Note: Setting this option overwrites the default values. Add <code>&quot;text&quot;</code> or <code>&quot;text-summary&quot;</code> to see a coverage summary in the console output.</em></p>
<h3><a class="anchor" aria-hidden="true" id="coveragethreshold-object"></a><a href="#coveragethreshold-object" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>coverageThreshold</code> [object]</h3>
<p>默认值：<code>undefined</code></p>
<p>This will be used to configure minimum threshold enforcement for coverage results. Thresholds can be specified as <code>global</code>, as a <a href="https://github.com/isaacs/node-glob#glob-primer">glob</a>, and as a directory or file path. 如果没有达到阈值，Jest 执行测试时将会失败。 Thresholds specified as a positive number are taken to be the minimum percentage required. Thresholds specified as a negative number represent the maximum number of uncovered entities allowed.</p>
<p>For example, with the following configuration jest will fail if there is less than 80% branch, line, and function coverage, or if there are more than 10 uncovered statements:</p>
<pre><code class="hljs css language-json">{
  ...
  "jest": {
    "coverageThreshold": {
      "global": {
        "branches": 80,
        "functions": 80,
        "lines": 80,
        "statements": -10
      }
    }
  }
}
</code></pre>
<p>If globs or paths are specified alongside <code>global</code>, coverage data for matching paths will be subtracted from overall coverage and thresholds will be applied independently. 通配符模式设置的阈值将应用到所匹配的所有文件上并单独计算。 If the file specified by path is not found, error is returned.</p>
<p>例如，基于下面的配置：</p>
<pre><code class="hljs css language-json">{
  ...
  "jest": {
    "coverageThreshold": {
      "global": {
        "branches": 50,
        "functions": 50,
        "lines": 50,
        "statements": 50
      },
      "./src/components/": {
        "branches": 40,
        "statements": 40
      },
      "./src/reducers/**/*.js": {
        "statements": 90
      },
      "./src/api/very-important-module.js": {
        "branches": 100,
        "functions": 100,
        "lines": 100,
        "statements": 100
      }
    }
  }
}
</code></pre>
<p>Jest 在以下情况下将失败：</p>
<ul>
<li>The <code>./src/components</code> directory has less than 40% branch or statement coverage.</li>
<li>One of the files matching the <code>./src/reducers/**/*.js</code> glob has less than 90% statement coverage.</li>
<li>文件 <code>./src/api/very-important-module.js</code> 的任意一种覆盖率低于 100%</li>
<li>所有剩下的文件的任意一种覆盖率总计低于 50% (根据 <code>global</code>)</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="displayname-string"></a><a href="#displayname-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>displayName</code> [string]</h3>
<p>默认值：<code>undefined</code></p>
<p>Allows for a label to be printed along side a test while it is running. This becomes more useful in multiproject repositories where there can be many jest configuration files. This visually tells which project a test belongs to.</p>
<h3><a class="anchor" aria-hidden="true" id="forcecoveragematch-数组string"></a><a href="#forcecoveragematch-数组string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>forceCoverageMatch</code> [数组&lt;string&gt;]</h3>
<p>Default: <code>['']</code></p>
<p>Test files are normally ignored from collecting code coverage. With this option, you can overwrite this behavior and include otherwise ignored files in code coverage.</p>
<p>For example, if you have tests in source files named with <code>.t.js</code> extension as following:</p>
<pre><code class="hljs css language-javascript"><span class="hljs-comment">// sum.t.js</span>

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sum</span>(<span class="hljs-params">a, b</span>) </span>{
  <span class="hljs-keyword">return</span> a + b;
}

<span class="hljs-keyword">if</span> (process.env.NODE_ENV === <span class="hljs-string">'test'</span>) {
  test(<span class="hljs-string">'sum'</span>, () =&gt; {
    expect(sum(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)).toBe(<span class="hljs-number">3</span>);
  });
}
</code></pre>
<p>你可以通过设置 <code>forceCoverageMatch</code> 从这些文件中收集覆盖率。</p>
<pre><code class="hljs css language-json">{
  ...
  "jest": {
    "forceCoverageMatch": ["**/*.t.js"]
  }
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="globals-object"></a><a href="#globals-object" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>globals</code> [object]</h3>
<p>默认值：<code>{}</code></p>
<p>一组全局变量，在所有测试环境下都可以访问。</p>
<p>例如，下面这段代码将为所有测试环境创建一个值为<code>true</code>的全局变量<code>__DEV__</code>：</p>
<pre><code class="hljs css language-json">{
  ...
  "jest": {
    "globals": {
      "__DEV__": true
    }
  }
}
</code></pre>
<p>注意，如果你在这指定了一个全局引用值（例如，对象或者数组），之后在测试运行中有些代码改变了这个被引用的值，这个改动对于其他测试<em>不会</em>生效。 In addition the <code>globals</code> object must be json-serializable, so it can't be used to specify global functions. 要实现这种功能，应该使用 <code>setupFiles</code>。</p>
<h3><a class="anchor" aria-hidden="true" id="globalsetup-string"></a><a href="#globalsetup-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>globalSetup</code> [string]</h3>
<p>默认值：<code>undefined</code></p>
<p>This option allows the use of a custom global setup module which exports an async function that is triggered once before all test suites.</p>
<h3><a class="anchor" aria-hidden="true" id="globalteardown-string"></a><a href="#globalteardown-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>globalTeardown</code> [string]</h3>
<p>默认值：<code>undefined</code></p>
<p>This option allows the use of a custom global teardown module which exports an async function that is triggered once after all test suites.</p>
<h3><a class="anchor" aria-hidden="true" id="modulefileextensions-数组string"></a><a href="#modulefileextensions-数组string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>moduleFileExtensions</code> [数组&lt;string&gt;]</h3>
<p>默认值：<code>[&quot;js&quot;、&quot;json&quot;、&quot;jsx&quot;、&quot;node&quot;]</code></p>
<p>An array of file extensions your modules use. If you require modules without specifying a file extension, these are the extensions Jest will look for, in left-to-right order.</p>
<p>If you are using TypeScript, you will want to add <code>&quot;ts&quot;</code> and/or <code>&quot;tsx&quot;</code> to the above default. Where you place these is up to you - we recommend placing the extensions most commonly used in your project on the left.</p>
<h3><a class="anchor" aria-hidden="true" id="moduledirectories-数组string"></a><a href="#moduledirectories-数组string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>moduleDirectories</code> [数组&lt;string&gt;]</h3>
<p>默认值︰<code>[&quot;node_modules&quot;]</code></p>
<p>An array of directory names to be searched recursively up from the requiring module's location. Setting this option will <em>override</em> the default, if you wish to still search <code>node_modules</code> for packages include it along with any other options: <code>[&quot;node_modules&quot;, &quot;bower_components&quot;]</code></p>
<h3><a class="anchor" aria-hidden="true" id="modulenamemapper-objectstring-string"></a><a href="#modulenamemapper-objectstring-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>moduleNameMapper</code> [object&lt;string, string&gt;]</h3>
<p>默认值︰<code>null</code></p>
<p>A map from regular expressions to module names that allow to stub out resources, like images or styles with a single module.</p>
<p>Modules that are mapped to an alias are unmocked by default, regardless of whether automocking is enabled or not.</p>
<p>Use <code>&lt;rootDir&gt;</code> string token to refer to <a href="#rootdir-string"><code>rootDir</code></a> value if you want to use file paths.</p>
<p>Additionally, you can substitute captured regex groups using numbered backreferences.</p>
<p>示例：</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"moduleNameMapper"</span>: {
    <span class="hljs-attr">"^image![a-zA-Z0-9$_-]+$"</span>: <span class="hljs-string">"GlobalImageStub"</span>,
    <span class="hljs-attr">"^[./a-zA-Z0-9$_-]+\\.png$"</span>: <span class="hljs-string">"&lt;rootDir&gt;/RelativeImageStub.js"</span>,
    <span class="hljs-attr">"module_name_(.*)"</span>: <span class="hljs-string">"&lt;rootDir&gt;/substituted_module_$1.js"</span>
  }
}
</code></pre>
<p>The order in which the mappings are defined matters. Patterns are checked one by one until one fits. The most specific rule should be listed first.</p>
<p><em>Note: If you provide module name without boundaries <code>^$</code> it may cause hard to spot errors. E.g. <code>relay</code> will replace all modules which contain <code>relay</code> as a substring in its name: <code>relay</code>, <code>react-relay</code> and <code>graphql-relay</code> will all be pointed to your stub.</em></p>
<h3><a class="anchor" aria-hidden="true" id="modulepathignorepatterns-数组string"></a><a href="#modulepathignorepatterns-数组string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>modulePathIgnorePatterns</code> [数组&lt;string&gt;]</h3>
<p>默认值：<code>[]</code></p>
<p>An array of regexp pattern strings that are matched against all module paths before those paths are to be considered 'visible' to the module loader. If a given module's path matches any of the patterns, it will not be <code>require()</code>-able in the test environment.</p>
<p>These pattern strings match against the full path. Use the <code>&lt;rootDir&gt;</code> string token to include the path to your project's root directory to prevent it from accidentally ignoring all of your files in different environments that may have different root directories. Example: <code>[&quot;&lt;rootDir&gt;/build/&quot;]</code>.</p>
<h3><a class="anchor" aria-hidden="true" id="modulepaths-数组string"></a><a href="#modulepaths-数组string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>modulePaths</code> [数组&lt;string&gt;]</h3>
<p>默认值：<code>[]</code></p>
<p>An alternative API to setting the <code>NODE_PATH</code> env variable, <code>modulePaths</code> is an array of absolute paths to additional locations to search when resolving modules. Use the <code>&lt;rootDir&gt;</code> string token to include the path to your project's root directory. Example: <code>[&quot;&lt;rootDir&gt;/app/&quot;]</code>.</p>
<h3><a class="anchor" aria-hidden="true" id="notify-boolean"></a><a href="#notify-boolean" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>notify</code> [boolean]</h3>
<p>默认值︰<code>false</code></p>
<p>Activates notifications for test results.</p>
<h3><a class="anchor" aria-hidden="true" id="notifymode-string"></a><a href="#notifymode-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>notifyMode</code> [string]</h3>
<p>Default: <code>always</code></p>
<p>Specifies notification mode. Requires <code>notify: true</code>.</p>
<h4><a class="anchor" aria-hidden="true" id="modes"></a><a href="#modes" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Modes</h4>
<ul>
<li><code>always</code>: always send a notification.</li>
<li><code>failure</code>: send a notification when tests fail.</li>
<li><code>success</code>: send a notification when tests pass.</li>
<li><code>change</code>: send a notification when the status changed.</li>
<li><code>success-change</code>: send a notification when tests pass or once when it fails.</li>
<li><code>failure-change</code>: send a notification when tests fails or once when it passes.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="preset-string"></a><a href="#preset-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>preset</code> [string]</h3>
<p>默认值：<code>undefined</code></p>
<p>A preset that is used as a base for Jest's configuration. A preset should point to an npm module that exports a <code>jest-preset.json</code> module on its top level.</p>
<h3><a class="anchor" aria-hidden="true" id="projects-数组string--projectconfig"></a><a href="#projects-数组string--projectconfig" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>projects</code> [数组&lt;string | projectconfig&gt;]</h3>
<p>默认值：<code>undefined</code></p>
<p>When the <code>projects</code> configuration is provided with an array of paths or glob patterns, Jest will run tests in all of the specified projects at the same time. This is great for monorepos or when working on multiple projects at the same time.</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"projects"</span>: [<span class="hljs-string">"&lt;rootDir&gt;"</span>, <span class="hljs-string">"&lt;rootDir&gt;/examples/*"</span>]
}
</code></pre>
<p>This example configuration will run Jest in the root directory as well as in every folder in the examples directory. You can have an unlimited amount of projects running in the same Jest instance.</p>
<p>The projects feature can also be used to run multiple configurations or multiple <a href="#runner-string">runners</a>. For this purpose you can pass an array of configuration objects. For example, to run both tests and ESLint (via <a href="https://github.com/jest-community/jest-runner-eslint">jest-runner-eslint</a>) in the same invocation of Jest:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"projects"</span>: [
    {
      <span class="hljs-attr">"displayName"</span>: <span class="hljs-string">"test"</span>
    },
    {
      <span class="hljs-attr">"displayName"</span>: <span class="hljs-string">"lint"</span>,
      <span class="hljs-attr">"runner"</span>: <span class="hljs-string">"jest-runner-eslint"</span>,
      <span class="hljs-attr">"testMatch"</span>: [<span class="hljs-string">"&lt;rootDir&gt;/**/*.js"</span>]
    }
  ]
}
</code></pre>
<p><em>Note: When using multi project runner, it's recommended to add a <code>displayName</code> for each project. This will show the <code>displayName</code> of a project next to its tests.</em></p>
<h3><a class="anchor" aria-hidden="true" id="clearmocks-boolean"></a><a href="#clearmocks-boolean" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>clearMocks</code> [boolean]</h3>
<p>默认值︰<code>false</code></p>
<p>Automatically clear mock calls and instances before every test. Equivalent to calling <code>jest.clearAllMocks()</code> before each test. This does not remove any mock implementation that may have been provided.</p>
<h3><a class="anchor" aria-hidden="true" id="reporters-数组modulename--modulename-options"></a><a href="#reporters-数组modulename--modulename-options" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>reporters</code> [数组&lt;modulename | [modulename, options]&gt;]</h3>
<p>默认值：<code>undefined</code></p>
<p>Use this configuration option to add custom reporters to Jest. A custom reporter is a class that implements <code>onRunStart</code>, <code>onTestStart</code>, <code>onTestResult</code>, <code>onRunComplete</code> methods that will be called when any of those events occurs.</p>
<p>If custom reporters are specified, the default Jest reporters will be overridden. To keep default reporters, <code>default</code> can be passed as a module name.</p>
<p>This will override default reporters:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"reporters"</span>: [<span class="hljs-string">"&lt;rootDir&gt;/my-custom-reporter.js"</span>]
}
</code></pre>
<p>This will use custom reporter in addition to default reporters that Jest provides:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"reporters"</span>: [<span class="hljs-string">"default"</span>, <span class="hljs-string">"&lt;rootDir&gt;/my-custom-reporter.js"</span>]
}
</code></pre>
<p>Additionally, custom reporters can be configured by passing an <code>options</code> object as a second argument:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"reporters"</span>: [
    <span class="hljs-string">"default"</span>,
    [<span class="hljs-string">"&lt;rootDir&gt;/my-custom-reporter.js"</span>, {<span class="hljs-attr">"banana"</span>: <span class="hljs-string">"yes"</span>, <span class="hljs-attr">"pineapple"</span>: <span class="hljs-string">"no"</span>}]
  ]
}
</code></pre>
<p>Custom reporter modules must define a class that takes a <code>GlobalConfig</code> and reporter options as constructor arguments:</p>
<p>Example reporter:</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// my-custom-reporter.js</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyCustomReporter</span> </span>{
  <span class="hljs-keyword">constructor</span>(globalConfig, options) {
    <span class="hljs-keyword">this</span>._globalConfig = globalConfig;
    <span class="hljs-keyword">this</span>._options = options;
  }

  onRunComplete(contexts, results) {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Custom reporter output:'</span>);
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'GlobalConfig: '</span>, <span class="hljs-keyword">this</span>._globalConfig);
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Options: '</span>, <span class="hljs-keyword">this</span>._options);
  }
}

<span class="hljs-built_in">module</span>.exports = MyCustomReporter;
</code></pre>
<p>Custom reporters can also force Jest to exit with non-0 code by returning an Error from <code>getLastError()</code> methods</p>
<pre><code class="hljs css language-js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyCustomReporter</span> </span>{
  <span class="hljs-comment">// ...</span>
  getLastError() {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._shouldFail) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'my-custom-reporter.js reported an error'</span>);
    }
  }
}
</code></pre>
<p>For the full list of methods and argument types see <code>Reporter</code> interface in <a href="https://github.com/facebook/jest/blob/master/packages/jest-reporters/src/types.ts">packages/jest-reporters/src/types.ts</a></p>
<h3><a class="anchor" aria-hidden="true" id="resetmocks-boolean"></a><a href="#resetmocks-boolean" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>resetMocks</code> [boolean]</h3>
<p>默认值︰<code>false</code></p>
<p>Automatically reset mock state before every test. Equivalent to calling <code>jest.resetAllMocks()</code> before each test. This will lead to any mocks having their fake implementations removed but does not restore their initial implementation.</p>
<h3><a class="anchor" aria-hidden="true" id="resetmodules-boolean"></a><a href="#resetmodules-boolean" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>resetModules</code> [boolean]</h3>
<p>默认值︰<code>false</code></p>
<p>If enabled, the module registry for every test file will be reset before running each individual test. This is useful to isolate modules for every test so that local module state doesn't conflict between tests. This can be done programmatically using <a href="/docs/zh-Hans/22.x/jest-object#jestresetmodules"><code>jest.resetModules()</code></a>.</p>
<h3><a class="anchor" aria-hidden="true" id="resolver-string"></a><a href="#resolver-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>resolver</code> [string]</h3>
<p>默认值：<code>undefined</code></p>
<p>This option allows the use of a custom resolver. This resolver must be a node module that exports a function expecting a string as the first argument for the path to resolve and an object with the following structure as the second argument:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"basedir"</span>: string,
  <span class="hljs-attr">"browser"</span>: bool,
  <span class="hljs-attr">"extensions"</span>: [string],
  <span class="hljs-attr">"moduleDirectory"</span>: [string],
  <span class="hljs-attr">"paths"</span>: [string],
  <span class="hljs-attr">"rootDir"</span>: [string]
}
</code></pre>
<p>The function should either return a path to the module that should be resolved or throw an error if the module can't be found.</p>
<h3><a class="anchor" aria-hidden="true" id="restoremocks-boolean"></a><a href="#restoremocks-boolean" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>restoreMocks</code> [boolean]</h3>
<p>默认值︰<code>false</code></p>
<p>Automatically restore mock state before every test. Equivalent to calling <code>jest.restoreAllMocks()</code> before each test. This will lead to any mocks having their fake implementations removed and restores their initial implementation.</p>
<h3><a class="anchor" aria-hidden="true" id="rootdir-string"></a><a href="#rootdir-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>rootDir</code> [string]</h3>
<p>Default: The root of the directory containing your Jest <a href="#">config file</a> <em>or</em> the <code>package.json</code> <em>or</em> the <a href="http://en.wikipedia.org/wiki/Pwd"><code>pwd</code></a> if no <code>package.json</code> is found</p>
<p>The root directory that Jest should scan for tests and modules within. If you put your Jest config inside your <code>package.json</code> and want the root directory to be the root of your repo, the value for this config param will default to the directory of the <code>package.json</code>.</p>
<p>Oftentimes, you'll want to set this to <code>'src'</code> or <code>'lib'</code>, corresponding to where in your repository the code is stored.</p>
<p><em>Note that using <code>'&lt;rootDir&gt;'</code> as a string token in any other path-based config settings will refer back to this value. So, for example, if you want your <a href="#setupfiles-array"><code>setupFiles</code></a> config entry to point at the <code>env-setup.js</code> file at the root of your project, you could set its value to <code>[&quot;&lt;rootDir&gt;/env-setup.js&quot;]</code>.</em></p>
<h3><a class="anchor" aria-hidden="true" id="roots-数组string"></a><a href="#roots-数组string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>roots</code> [数组&lt;string&gt;]</h3>
<p>默认值︰<code>[&quot;&lt;rootDir&gt;&quot;]</code></p>
<p>A list of paths to directories that Jest should use to search for files in.</p>
<p>There are times where you only want Jest to search in a single sub-directory (such as cases where you have a <code>src/</code> directory in your repo), but prevent it from accessing the rest of the repo.</p>
<p><em>Note: While <code>rootDir</code> is mostly used as a token to be re-used in other configuration options, <code>roots</code> is used by the internals of Jest to locate <strong>test files and source files</strong>. This applies also when searching for manual mocks for modules from <code>node_modules</code> (<code>__mocks__</code> will need to live in one of the <code>roots</code>).</em></p>
<p><em>Note: By default, <code>roots</code> has a single entry <code>&lt;rootDir&gt;</code> but there are cases where you may want to have multiple roots within one project, for example <code>roots: [&quot;&lt;rootDir&gt;/src/&quot;, &quot;&lt;rootDir&gt;/tests/&quot;]</code>.</em></p>
<h3><a class="anchor" aria-hidden="true" id="runner-string"></a><a href="#runner-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>runner</code> [string]</h3>
<p>Default: <code>&quot;jest-runner&quot;</code></p>
<p>This option allows you to use a custom runner instead of Jest's default test runner. Examples of runners include:</p>
<ul>
<li><a href="https://github.com/jest-community/jest-runner-eslint"><code>jest-runner-eslint</code></a></li>
<li><a href="https://github.com/rogeliog/jest-runner-mocha"><code>jest-runner-mocha</code></a></li>
<li><a href="https://github.com/azz/jest-runner-tsc"><code>jest-runner-tsc</code></a></li>
<li><a href="https://github.com/keplersj/jest-runner-prettier"><code>jest-runner-prettier</code></a></li>
</ul>
<p>To write a test-runner, export a class with which accepts <code>globalConfig</code> in the constructor, and has a <code>runTests</code> method with the signature:</p>
<pre><code class="hljs css language-ts"><span class="hljs-keyword">async</span> runTests(
  tests: <span class="hljs-built_in">Array</span>&lt;Test&gt;,
  watcher: TestWatcher,
  onStart: OnTestStart,
  onResult: OnTestSuccess,
  onFailure: OnTestFailure,
  options: TestRunnerOptions,
): <span class="hljs-built_in">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt;
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="setupfiles-array"></a><a href="#setupfiles-array" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>setupFiles</code> [array]</h3>
<p>默认值：<code>[]</code></p>
<p>The paths to modules that run some code to configure or set up the testing environment before each test file in the suite is executed. Since every test runs in its own environment, these scripts will be executed in the testing environment immediately before executing the test code itself.</p>
<p>It's worth noting that this code will execute <em>before</em> <a href="#setuptestframeworkscriptfile-string"><code>setupTestFrameworkScriptFile</code></a>.</p>
<h3><a class="anchor" aria-hidden="true" id="setuptestframeworkscriptfile-string"></a><a href="#setuptestframeworkscriptfile-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>setupTestFrameworkScriptFile</code> [string]</h3>
<p>默认值：<code>undefined</code></p>
<p>模块路径是可以在每个测试运行前，通过运行一些代码来配置或设置测试框架。 Since <a href="#setupfiles-array"><code>setupFiles</code></a> executes before the test framework is installed in the environment, this script file presents you the opportunity of running some code immediately after the test framework has been installed in the environment.</p>
<p>For example, Jest ships with several plug-ins to <code>jasmine</code> that work by monkey-patching the jasmine API. If you wanted to add even more jasmine plugins to the mix (or if you wanted some custom, project-wide matchers for example), you could do so in this module.</p>
<h3><a class="anchor" aria-hidden="true" id="snapshotserializers-数组string"></a><a href="#snapshotserializers-数组string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>snapshotSerializers</code> [数组&lt;string&gt;]</h3>
<p>默认值：<code>[]</code></p>
<p>A list of paths to snapshot serializer modules Jest should use for snapshot testing.</p>
<p>Jest has default serializers for built-in JavaScript types, HTML elements (Jest 20.0.0+), ImmutableJS (Jest 20.0.0+) and for React elements. See <a href="/docs/zh-Hans/22.x/tutorial-react-native#snapshot-test">snapshot test tutorial</a> for more information.</p>
<p>Example serializer module:</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// my-serializer-module</span>
<span class="hljs-built_in">module</span>.exports = {
  serialize(val, config, indentation, depth, refs, printer) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">'Pretty foo: '</span> + printer(val.foo);
  },

  test(val) {
    <span class="hljs-keyword">return</span> val &amp;&amp; val.hasOwnProperty(<span class="hljs-string">'foo'</span>);
  },
};
</code></pre>
<p><code>printer</code> is a function that serializes a value using existing plugins.</p>
<p>To use <code>my-serializer-module</code> as a serializer, configuration would be as follows:</p>
<pre><code class="hljs css language-json">{
  ...
  "jest": {
    "snapshotSerializers": ["my-serializer-module"]
  }
}
</code></pre>
<p>Finally tests would look as follows:</p>
<pre><code class="hljs css language-js">test(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> bar = {
    <span class="hljs-attr">foo</span>: {
      <span class="hljs-attr">x</span>: <span class="hljs-number">1</span>,
      <span class="hljs-attr">y</span>: <span class="hljs-number">2</span>,
    },
  };

  expect(bar).toMatchSnapshot();
});
</code></pre>
<p>Rendered snapshot:</p>
<pre><code class="hljs css language-json">Pretty foo: Object {
  "x": 1,
  "y": 2,
}
</code></pre>
<p>To make a dependency explicit instead of implicit, you can call <a href="/docs/zh-Hans/22.x/expect#expectaddsnapshotserializerserializer"><code>expect.addSnapshotSerializer</code></a> to add a module for an individual test file instead of adding its path to <code>snapshotSerializers</code> in Jest configuration.</p>
<p>More about serializers API can be found <a href="https://github.com/facebook/jest/tree/master/packages/pretty-format#serialize">here</a>.</p>
<h3><a class="anchor" aria-hidden="true" id="testenvironment-string"></a><a href="#testenvironment-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>testEnvironment</code> [string]</h3>
<p>默认值︰<code>&quot;jsdom&quot;</code></p>
<p>The test environment that will be used for testing. The default environment in Jest is a browser-like environment through <a href="https://github.com/jsdom/jsdom">jsdom</a>. If you are building a node service, you can use the <code>node</code> option to use a node-like environment instead.</p>
<p>If some tests require another environment, you can add a <code>@jest-environment</code> docblock.</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@jest</span>-environment jsdom
 */</span>

test(<span class="hljs-string">'use jsdom in this test file'</span>, () =&gt; {
  <span class="hljs-keyword">const</span> element = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'div'</span>);
  expect(element).not.toBeNull();
});
</code></pre>
<p>You can create your own module that will be used for setting up the test environment. The module must export a class with <code>setup</code>, <code>teardown</code> and <code>runScript</code> methods. You can also pass variables from this module to your test suites by assigning them to <code>this.global</code> object – this will make them available in your test suites as global variables.</p>
<p><em>Note: TestEnvironment is sandboxed. Each test suite will trigger setup/teardown in their own TestEnvironment.</em></p>
<p>示例：</p>
<pre><code class="hljs css language-js"><span class="hljs-comment">// my-custom-environment</span>
<span class="hljs-keyword">const</span> NodeEnvironment = <span class="hljs-built_in">require</span>(<span class="hljs-string">'jest-environment-node'</span>);

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CustomEnvironment</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">NodeEnvironment</span> </span>{
  <span class="hljs-keyword">constructor</span>(config) {
    <span class="hljs-keyword">super</span>(config);
  }

  <span class="hljs-keyword">async</span> setup() {
    <span class="hljs-keyword">await</span> <span class="hljs-keyword">super</span>.setup();
    <span class="hljs-keyword">await</span> someSetupTasks();
    <span class="hljs-keyword">this</span>.global.someGlobalObject = createGlobalObject();
  }

  <span class="hljs-keyword">async</span> teardown() {
    <span class="hljs-keyword">this</span>.global.someGlobalObject = destroyGlobalObject();
    <span class="hljs-keyword">await</span> someTeardownTasks();
    <span class="hljs-keyword">await</span> <span class="hljs-keyword">super</span>.teardown();
  }

  runScript(script) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">super</span>.runScript(script);
  }
}
</code></pre>
<pre><code class="hljs css language-js"><span class="hljs-comment">// my-test-suite</span>
<span class="hljs-keyword">let</span> someGlobalObject;

beforeAll(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  someGlobalObject = global.someGlobalObject;
});
</code></pre>
<p><em>Note: Jest comes with JSDOM@11 by default. Due to JSDOM 12 and newer dropping support for Node 6, Jest is unable to upgrade for the time being. However, you can install a custom <code>testEnvironment</code> with whichever version of JSDOM you want. E.g. <a href="https://www.npmjs.com/package/jest-environment-jsdom-thirteen">jest-environment-jsdom-thirteen</a>, which has JSDOM@13.</em></p>
<h3><a class="anchor" aria-hidden="true" id="testenvironmentoptions-object"></a><a href="#testenvironmentoptions-object" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>testEnvironmentOptions</code> [Object]</h3>
<p>默认值：<code>{}</code></p>
<p>Test environment options that will be passed to the <code>testEnvironment</code>. The relevant options depend on the environment. For example you can override options given to <a href="https://github.com/jsdom/jsdom">jsdom</a> such as <code>{userAgent: &quot;Agent/007&quot;}</code>.</p>
<h3><a class="anchor" aria-hidden="true" id="testmatch-数组string"></a><a href="#testmatch-数组string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>testMatch</code> [数组&lt;string&gt;]</h3>
<p>(default: <code>[ '**/__tests__/**/*.js?(x)', '**/?(*.)(spec|test).js?(x)' ]</code>)</p>
<p>The glob patterns Jest uses to detect test files. By default it looks for <code>.js</code> and <code>.jsx</code> files inside of <code>__tests__</code> folders, as well as any files with a suffix of <code>.test</code> or <code>.spec</code> (e.g. <code>Component.test.js</code> or <code>Component.spec.js</code>). It will also find files called <code>test.js</code> or <code>spec.js</code>.</p>
<p>See the <a href="https://github.com/jonschlinkert/micromatch">micromatch</a> package for details of the patterns you can specify.</p>
<p>See also <a href="#testregex-string"><code>testRegex</code> [string]</a>, but note that you cannot specify both options.</p>
<h3><a class="anchor" aria-hidden="true" id="testpathignorepatterns-数组string"></a><a href="#testpathignorepatterns-数组string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>testPathIgnorePatterns</code> [数组&lt;string&gt;]</h3>
<p>默认值︰<code>[&quot;node_modules&quot;]</code></p>
<p>An array of regexp pattern strings that are matched against all test paths before executing the test. If the test path matches any of the patterns, it will be skipped.</p>
<p>These pattern strings match against the full path. Use the <code>&lt;rootDir&gt;</code> string token to include the path to your project's root directory to prevent it from accidentally ignoring all of your files in different environments that may have different root directories. Example: <code>[&quot;&lt;rootDir&gt;/build/&quot;, &quot;&lt;rootDir&gt;/node_modules/&quot;]</code>.</p>
<h3><a class="anchor" aria-hidden="true" id="testregex-string"></a><a href="#testregex-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>testRegex</code> [string]</h3>
<p>默认值：<code>(/__tests__/.*|(\\.|/)(test|spec))\\.jsx?$</code></p>
<p>The pattern Jest uses to detect test files. By default it looks for <code>.js</code> and <code>.jsx</code> files inside of <code>__tests__</code> folders, as well as any files with a suffix of <code>.test</code> or <code>.spec</code> (e.g. <code>Component.test.js</code> or <code>Component.spec.js</code>). It will also find files called <code>test.js</code> or <code>spec.js</code>. See also <a href="#testmatch-arraystring"><code>testMatch</code> [array&lt;string&gt;]</a>, but note that you cannot specify both options.</p>
<p>The following is a visualization of the default regex:</p>
<pre><code class="hljs css language-bash">├── __tests__
│   └── component.spec.js <span class="hljs-comment"># test</span>
│   └── anything <span class="hljs-comment"># test</span>
├── package.json <span class="hljs-comment"># not test</span>
├── foo.test.js <span class="hljs-comment"># test</span>
├── bar.spec.jsx <span class="hljs-comment"># test</span>
└── component.js <span class="hljs-comment"># not test</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="testresultsprocessor-string"></a><a href="#testresultsprocessor-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>testResultsProcessor</code> [string]</h3>
<p>默认值：<code>undefined</code></p>
<p>This option allows the use of a custom results processor. This processor must be a node module that exports a function expecting an object with the following structure as the first argument and return it:</p>
<pre><code class="hljs css language-json">{
  <span class="hljs-attr">"success"</span>: bool,
  <span class="hljs-attr">"startTime"</span>: epoch,
  <span class="hljs-attr">"numTotalTestSuites"</span>: number,
  <span class="hljs-attr">"numPassedTestSuites"</span>: number,
  <span class="hljs-attr">"numFailedTestSuites"</span>: number,
  <span class="hljs-attr">"numRuntimeErrorTestSuites"</span>: number,
  <span class="hljs-attr">"numTotalTests"</span>: number,
  <span class="hljs-attr">"numPassedTests"</span>: number,
  <span class="hljs-attr">"numFailedTests"</span>: number,
  <span class="hljs-attr">"numPendingTests"</span>: number,
  <span class="hljs-attr">"testResults"</span>: [{
    <span class="hljs-attr">"numFailingTests"</span>: number,
    <span class="hljs-attr">"numPassingTests"</span>: number,
    <span class="hljs-attr">"numPendingTests"</span>: number,
    <span class="hljs-attr">"testResults"</span>: [{
      <span class="hljs-attr">"title"</span>: string (message in it block),
      <span class="hljs-attr">"status"</span>: <span class="hljs-string">"failed"</span> | <span class="hljs-string">"pending"</span> | <span class="hljs-string">"passed"</span>,
      <span class="hljs-attr">"ancestorTitles"</span>: [string (message in describe blocks)],
      <span class="hljs-attr">"failureMessages"</span>: [string],
      <span class="hljs-attr">"numPassingAsserts"</span>: number,
      <span class="hljs-attr">"location"</span>: {
        <span class="hljs-attr">"column"</span>: number,
        <span class="hljs-attr">"line"</span>: number
      }
    },
    ...
    ],
    <span class="hljs-attr">"perfStats"</span>: {
      <span class="hljs-attr">"start"</span>: epoch,
      <span class="hljs-attr">"end"</span>: epoch
    },
    <span class="hljs-attr">"testFilePath"</span>: absolute path to test file,
    <span class="hljs-attr">"coverage"</span>: {}
  },
  ...
  ]
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="testrunner-string"></a><a href="#testrunner-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>testRunner</code> [string]</h3>
<p>默认值︰<code>jasmine2</code></p>
<p>This option allows use of a custom test runner. The default is jasmine2. A custom test runner can be provided by specifying a path to a test runner implementation.</p>
<p>The test runner module must export a function with the following signature:</p>
<pre><code class="hljs css language-ts"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">testRunner</span>(<span class="hljs-params">
  globalConfig: GlobalConfig,
  config: ProjectConfig,
  environment: Environment,
  runtime: Runtime,
  testPath: <span class="hljs-built_in">string</span>,
</span>): <span class="hljs-title">Promise</span>&lt;<span class="hljs-title">TestResult</span>&gt;</span>;
</code></pre>
<p>An example of such function can be found in our default <a href="https://github.com/facebook/jest/blob/master/packages/jest-jasmine2/src/index.ts">jasmine2 test runner package</a>.</p>
<h3><a class="anchor" aria-hidden="true" id="testurl-string"></a><a href="#testurl-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>testURL</code> [string]</h3>
<p>默认值：<code>about:blank</code></p>
<p>This option sets the URL for the jsdom environment. It is reflected in properties such as <code>location.href</code>.</p>
<h3><a class="anchor" aria-hidden="true" id="timers-string"></a><a href="#timers-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>timers</code> [string]</h3>
<p>默认值︰<code>real</code></p>
<p>Setting this value to <code>fake</code> allows the use of fake timers for functions such as <code>setTimeout</code>. Fake timers are useful when a piece of code sets a long timeout that we don't want to wait for in a test.</p>
<h3><a class="anchor" aria-hidden="true" id="transform-objectstring-string"></a><a href="#transform-objectstring-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>transform</code> [object&lt;string, string&gt;]</h3>
<p>Default: <code>{&quot;^.+\\.[jt]sx?$&quot;: &quot;babel-jest&quot;}</code></p>
<p>A map from regular expressions to paths to transformers. A transformer is a module that provides a synchronous function for transforming source files. For example, if you wanted to be able to use a new language feature in your modules or tests that isn't yet supported by node, you might plug in one of many compilers that compile a future version of JavaScript to a current one. Example: see the <a href="https://github.com/facebook/jest/blob/master/examples/typescript/package.json#L16">examples/typescript</a> example or the <a href="/docs/zh-Hans/22.x/webpack">webpack tutorial</a>.</p>
<p>Examples of such compilers include:</p>
<ul>
<li><a href="https://babeljs.io/">Babel</a></li>
<li><a href="http://www.typescriptlang.org/">TypeScript</a></li>
<li><a href="http://github.com/leebyron/async-to-gen#jest">async-to-gen</a></li>
<li>To build your own please visit the <a href="/docs/zh-Hans/22.x/tutorial-react#custom-transformers">Custom Transformer</a> section</li>
</ul>
<p><em>Note: a transformer is only run once per file unless the file has changed. During development of a transformer it can be useful to run Jest with <code>--no-cache</code> to frequently <a href="/docs/zh-Hans/22.x/troubleshooting#caching-issues">delete Jest's cache</a>.</em></p>
<p><em>Note: when adding additional code transformers, this will overwrite the default config and <code>babel-jest</code> is no longer automatically loaded. If you want to use it to compile JavaScript or Typescript, it has to be explicitly defined by adding <code>{&quot;^.+\\.[jt]sx?$&quot;: &quot;babel-jest&quot;}</code> to the transform property. See <a href="https://github.com/facebook/jest/tree/master/packages/babel-jest#setup">babel-jest plugin</a></em></p>
<h3><a class="anchor" aria-hidden="true" id="transformignorepatterns-数组string"></a><a href="#transformignorepatterns-数组string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>transformIgnorePatterns</code> [数组&lt;string&gt;]</h3>
<p>默认值︰<code>[&quot;node_modules&quot;]</code></p>
<p>An array of regexp pattern strings that are matched against all source file paths before transformation. If the test path matches any of the patterns, it will not be transformed.</p>
<p>These pattern strings match against the full path. Use the <code>&lt;rootDir&gt;</code> string token to include the path to your project's root directory to prevent it from accidentally ignoring all of your files in different environments that may have different root directories.</p>
<p>Example: <code>[&quot;&lt;rootDir&gt;/bower_components/&quot;, &quot;&lt;rootDir&gt;/node_modules/&quot;]</code>.</p>
<p>Sometimes it happens (especially in React Native or TypeScript projects) that 3rd party modules are published as untranspiled. Since all files inside <code>node_modules</code> are not transformed by default, Jest will not understand the code in these modules, resulting in syntax errors. To overcome this, you may use <code>transformIgnorePatterns</code> to allow transpiling such modules. You'll find a good example of this use case in <a href="https://jestjs.io/docs/en/tutorial-react-native.html#transformignorepatterns-customization">React Native Guide</a>.</p>
<h3><a class="anchor" aria-hidden="true" id="unmockedmodulepathpatterns-数组string"></a><a href="#unmockedmodulepathpatterns-数组string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>unmockedModulePathPatterns</code> [数组&lt;string&gt;]</h3>
<p>默认值：<code>[]</code></p>
<p>An array of regexp pattern strings that are matched against all modules before the module loader will automatically return a mock for them. If a module's path matches any of the patterns in this list, it will not be automatically mocked by the module loader.</p>
<p>This is useful for some commonly used 'utility' modules that are almost always used as implementation details almost all the time (like underscore/lo-dash, etc). It's generally a best practice to keep this list as small as possible and always use explicit <code>jest.mock()</code>/<code>jest.unmock()</code> calls in individual tests. Explicit per-test setup is far easier for other readers of the test to reason about the environment the test will run in.</p>
<p>It is possible to override this setting in individual tests by explicitly calling <code>jest.mock()</code> at the top of the test file.</p>
<h3><a class="anchor" aria-hidden="true" id="verbose-boolean"></a><a href="#verbose-boolean" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>verbose</code> [boolean]</h3>
<p>默认值︰<code>false</code></p>
<p>Indicates whether each individual test should be reported during the run. All errors will also still be shown on the bottom after execution. Note that if there is only one test file being run it will default to <code>true</code>.</p>
<h3><a class="anchor" aria-hidden="true" id="watchpathignorepatterns-数组string"></a><a href="#watchpathignorepatterns-数组string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>watchPathIgnorePatterns</code> [数组&lt;string&gt;]</h3>
<p>默认值：<code>[]</code></p>
<p>An array of RegExp patterns that are matched against all source file paths before re-running tests in watch mode. If the file path matches any of the patterns, when it is updated, it will not trigger a re-run of tests.</p>
<p>These patterns match against the full path. Use the <code>&lt;rootDir&gt;</code> string token to include the path to your project's root directory to prevent it from accidentally ignoring all of your files in different environments that may have different root directories. Example: <code>[&quot;&lt;rootDir&gt;/node_modules/&quot;]</code>.</p>
<p>Even if nothing is specified here, the watcher will ignore changes to any hidden files and directories, i.e. files and folders that begins with a dot (<code>.</code>).</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/zh-Hans/22.x/jest-object"><span class="arrow-prev">← </span><span>The Jest Object</span></a><a class="docs-next button" href="/docs/zh-Hans/22.x/cli"><span>Jest CLI Options</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#选项">选项</a></li><li><a href="#参考">参考</a><ul class="toc-headings"><li><a href="#automock-boolean"><code>automock</code> [boolean]</a></li><li><a href="#browser-boolean"><code>browser</code> [boolean]</a></li><li><a href="#bail-boolean"><code>bail</code> [boolean]</a></li><li><a href="#cachedirectory-string"><code>cacheDirectory</code> [string]</a></li><li><a href="#collectcoverage-boolean"><code>collectCoverage</code> [boolean]</a></li><li><a href="#collectcoveragefrom-array"><code>collectCoverageFrom</code> [array]</a></li><li><a href="#coveragedirectory-string"><code>coverageDirectory</code> [string]</a></li><li><a href="#coveragepathignorepatterns-数组string"><code>coveragePathIgnorePatterns</code> [数组&lt;string&gt;]</a></li><li><a href="#coveragereporters-数组string"><code>coverageReporters</code> [数组&lt;string&gt;]</a></li><li><a href="#coveragethreshold-object"><code>coverageThreshold</code> [object]</a></li><li><a href="#displayname-string"><code>displayName</code> [string]</a></li><li><a href="#forcecoveragematch-数组string"><code>forceCoverageMatch</code> [数组&lt;string&gt;]</a></li><li><a href="#globals-object"><code>globals</code> [object]</a></li><li><a href="#globalsetup-string"><code>globalSetup</code> [string]</a></li><li><a href="#globalteardown-string"><code>globalTeardown</code> [string]</a></li><li><a href="#modulefileextensions-数组string"><code>moduleFileExtensions</code> [数组&lt;string&gt;]</a></li><li><a href="#moduledirectories-数组string"><code>moduleDirectories</code> [数组&lt;string&gt;]</a></li><li><a href="#modulenamemapper-objectstring-string"><code>moduleNameMapper</code> [object&lt;string, string&gt;]</a></li><li><a href="#modulepathignorepatterns-数组string"><code>modulePathIgnorePatterns</code> [数组&lt;string&gt;]</a></li><li><a href="#modulepaths-数组string"><code>modulePaths</code> [数组&lt;string&gt;]</a></li><li><a href="#notify-boolean"><code>notify</code> [boolean]</a></li><li><a href="#notifymode-string"><code>notifyMode</code> [string]</a></li><li><a href="#preset-string"><code>preset</code> [string]</a></li><li><a href="#projects-数组string--projectconfig"><code>projects</code> [数组&lt;string | projectconfig&gt;]</a></li><li><a href="#clearmocks-boolean"><code>clearMocks</code> [boolean]</a></li><li><a href="#reporters-数组modulename--modulename-options"><code>reporters</code> [数组&lt;modulename | [modulename, options]&gt;]</a></li><li><a href="#resetmocks-boolean"><code>resetMocks</code> [boolean]</a></li><li><a href="#resetmodules-boolean"><code>resetModules</code> [boolean]</a></li><li><a href="#resolver-string"><code>resolver</code> [string]</a></li><li><a href="#restoremocks-boolean"><code>restoreMocks</code> [boolean]</a></li><li><a href="#rootdir-string"><code>rootDir</code> [string]</a></li><li><a href="#roots-数组string"><code>roots</code> [数组&lt;string&gt;]</a></li><li><a href="#runner-string"><code>runner</code> [string]</a></li><li><a href="#setupfiles-array"><code>setupFiles</code> [array]</a></li><li><a href="#setuptestframeworkscriptfile-string"><code>setupTestFrameworkScriptFile</code> [string]</a></li><li><a href="#snapshotserializers-数组string"><code>snapshotSerializers</code> [数组&lt;string&gt;]</a></li><li><a href="#testenvironment-string"><code>testEnvironment</code> [string]</a></li><li><a href="#testenvironmentoptions-object"><code>testEnvironmentOptions</code> [Object]</a></li><li><a href="#testmatch-数组string"><code>testMatch</code> [数组&lt;string&gt;]</a></li><li><a href="#testpathignorepatterns-数组string"><code>testPathIgnorePatterns</code> [数组&lt;string&gt;]</a></li><li><a href="#testregex-string"><code>testRegex</code> [string]</a></li><li><a href="#testresultsprocessor-string"><code>testResultsProcessor</code> [string]</a></li><li><a href="#testrunner-string"><code>testRunner</code> [string]</a></li><li><a href="#testurl-string"><code>testURL</code> [string]</a></li><li><a href="#timers-string"><code>timers</code> [string]</a></li><li><a href="#transform-objectstring-string"><code>transform</code> [object&lt;string, string&gt;]</a></li><li><a href="#transformignorepatterns-数组string"><code>transformIgnorePatterns</code> [数组&lt;string&gt;]</a></li><li><a href="#unmockedmodulepathpatterns-数组string"><code>unmockedModulePathPatterns</code> [数组&lt;string&gt;]</a></li><li><a href="#verbose-boolean"><code>verbose</code> [boolean]</a></li><li><a href="#watchpathignorepatterns-数组string"><code>watchPathIgnorePatterns</code> [数组&lt;string&gt;]</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/jest-outline.svg" alt="Jest" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/zh-Hans/getting-started.html">Getting Started</a><a href="/docs/zh-Hans/snapshot-testing.html">Guides</a><a href="/docs/zh-Hans/api.html">API Reference</a></div><div><h5>Community</h5><a href="https://stackoverflow.com/questions/tagged/jestjs" target="_blank">Stack Overflow</a><a href="https://www.reactiflux.com/">Reactiflux</a><a href="https://twitter.com/fbjest" target="_blank">Twitter</a></div><div><h5>More</h5><a href="/blog">Blog</a><a href="https://github.com/facebook/jest">GitHub</a><a class="github-button" href="https://github.com/facebook/jest" data-icon="octicon-star" data-count-href="/facebook/jest/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star facebook/jest on GitHub">Star</a></div></section><a href="https://code.facebook.com/projects/" target="_blank" class="fbOpenSource"><img src="/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2020 Facebook Inc.</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>window.twttr=(function(d,s, id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src='https://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js, fjs);t._e = [];t.ready = function(f) {t._e.push(f);};return t;}(document, 'script', 'twitter-wjs'));</script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '833906d7486e4059359fa58823c4ef56',
                indexName: 'jest',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["language:zh-Hans","version:22.x"]}
              });
            </script></body></html>