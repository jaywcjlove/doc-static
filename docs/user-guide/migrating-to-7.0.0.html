<!doctype html><html lang="en" class="no-js"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="keywords" content="JavaScript, Linter, Linting, Pluggable, Configurable, Code Quality"><meta name="description" content="A pluggable and configurable linter tool for identifying and reporting on patterns in JavaScript. Maintain your code quality with ease."><meta name="theme-color" content="#463fd4"><meta property="og:locale" content="en_US"><meta property="og:site_name" content="ESLint - Pluggable JavaScript linter"><meta property="og:title" content="Migrating to v7.0.0"><meta property="og:url" content="/docs/user-guide/migrating-to-7.0.0"><meta property="og:image" content="https://eslint.org/assets/img/favicon.512x512.png"><meta name="twitter:site" content="@geteslint"><meta name="twitter:title" content="Migrating to v7.0.0"><meta name="twitter:description" content="A pluggable and configurable linter tool for identifying and reporting on patterns in JavaScript. Maintain your code quality with ease."><meta name="twitter:url" content="/docs/user-guide/migrating-to-7.0.0"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://eslint.org/assets/img/favicon.512x512.png"><title>Migrating to v7.0.0 - ESLint - Pluggable JavaScript linter</title><link rel="preconnect" href="https://www.google-analytics.com"><link rel="canonical" href="/docs/user-guide/migrating-to-7.0.0"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600"><link rel="stylesheet" href="/assets/styles/main.css"><link rel="manifest" href="/manifest.json"><link rel="icon" href="/assets/img/favicon.512x512.png"><link rel="alternate" type="application/rss+xml" title="ESLint - Pluggable JavaScript linter" href="/feed.xml"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"></head><body class="banner-displayed"><input type="checkbox" id="eslint-toggle-search" class="eslint-toggle-search-checkbox"><header class="navbar navbar-default navbar-demo navbar-fixed-top eslint-nav" id="top" role="banner"><div class="eslint-banner" style="color: #ffffff; background-color: #150b29"><p><a href="https://code2040-2020.funraise.org/" style="color: #a486df">Donate to Code2040</a></p></div><div class="container"><a href="/" class="navbar-brand"><img alt="ESLint" src="/assets/img/logo.svg" itemprop="image">ESLint</a><div class="eslint-navbar-toggles"><button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#eslint-navbar" aria-controls="eslint-navbar" aria-expanded="false"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <label for="eslint-toggle-search" class="navbar-toggle eslint-toggle-search-open"><span class="sr-only">Open search</span> <span class="glyphicon glyphicon-search" aria-hidden="true"></span></label></div><nav id="eslint-navbar" class="collapse navbar-collapse eslint-navbar"><ul class="nav navbar-nav navbar-right"><li class="dropdown"><a href="/docs/user-guide" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">User guide<span class="caret"></span></a><ul class="dropdown-menu" role="menu"><li><a href="/docs/user-guide/getting-started">Getting Started</a></li><li><a href="/docs/user-guide/configuring">Configuring ESLint</a></li><li><a href="/docs/user-guide/command-line-interface">Command Line Interface</a></li><li><a href="/docs/rules">Rules</a></li><li><a href="/docs/user-guide/formatters">Formatters</a></li><li><a href="/docs/user-guide/integrations">Integrations</a></li><li class="divider"></li><li><a href="/docs/user-guide/migrating-to-7.0.0">Migrating to v7.0.0</a></li><li><a href="/docs/user-guide/migrating-to-6.0.0">Migrating to v6.0.0</a></li><li><a href="/docs/user-guide/migrating-to-5.0.0">Migrating to v5.0.0</a></li><li><a href="/docs/user-guide/migrating-to-4.0.0">Migrating to v4.0.0</a></li><li><a href="/docs/user-guide/migrating-to-3.0.0">Migrating to v3.0.0</a></li><li><a href="/docs/user-guide/migrating-to-2.0.0">Migrating to v2.0.0</a></li><li><a href="/docs/user-guide/migrating-to-1.0.0">Migrating to v1.0.0</a></li><li><a href="/docs/user-guide/migrating-from-jscs">Migrating from JSCS</a></li></ul></li><li class="dropdown"><a href="/docs/developer-guide" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Developer guide<span class="caret"></span></a><ul class="dropdown-menu" role="menu"><li><a href="/docs/developer-guide/architecture">Architecture</a></li><li><a href="/docs/developer-guide/contributing">Contributing</a></li><li><a href="/docs/developer-guide/source-code">Get the Source Code</a></li><li><a href="/docs/developer-guide/development-environment">Set up a Development Environment</a></li><li><a href="/docs/developer-guide/unit-tests">Run the Unit Tests</a></li><li><a href="/docs/developer-guide/working-with-rules">Working with Rules</a></li><li><a href="/docs/developer-guide/working-with-plugins">Working with Plugins</a></li><li><a href="/docs/developer-guide/working-with-custom-formatters">Working with Custom Formatters</a></li><li><a href="/docs/developer-guide/working-with-custom-parsers">Working with Custom Parsers</a></li><li><a href="/docs/developer-guide/shareable-configs">Shareable Configs</a></li><li><a href="/docs/developer-guide/nodejs-api">Node.js API</a></li><li><a href="/docs/maintainer-guide">Maintainer guide</a></li></ul></li><li><a href="/blog">Blog</a></li><li><a href="/demo">Demo</a></li><li class="dropdown"><a href="/docs/about" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">About<span class="caret"></span></a><ul class="dropdown-menu" role="menu"><li><a href="/users">Who's Using ESLint?</a></li><li><a href="/team">About the Team</a></li><li><a href="/docs/about">About ESLint</a></li></ul></li></ul><label for="eslint-toggle-search" class="navbar-toggle eslint-toggle-search-open"><span class="sr-only">Open search</span> <span class="glyphicon glyphicon-search" aria-hidden="true"></span></label><div class="navbar-form navbar-right eslint-search" role="search"><div class="input-group"><label class="sr-only" aria-label="Search" for="eslint-search-input">Search</label><div class="eslint-search-input-wrapper"><input type="text" class="form-control" id="eslint-search-input" accesskey="s" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search the docs..."> <label for="eslint-toggle-search" class="eslint-toggle-search-close"><span class="sr-only">Close search</span> <span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span></label></div></div></div></nav></div></header><main class="doc"><article class="container"><h1 id="migrating-to-v700">Migrating to v7.0.0</h1><p>ESLint v7.0.0 is a major release of ESLint. We have made a few breaking changes in this release. This guide is intended to walk you through the breaking changes.</p><p>The lists below are ordered roughly by the number of users each change is expected to affect, where the first items are expected to affect the most users.</p><h2 id="table-of-content">Table of Content</h2><h3 id="breaking-changes-for-users-3">Breaking changes for users</h3><ul><li><a href="#drop-node-8">Node.js 8 is no longer supported</a></li><li><a href="#additional-lint-targets">Lint files matched by <code>overrides[].files</code> by default</a></li><li><a href="#base-path-change">The base path of <code>overrides</code> and <code>ignorePatterns</code> is changed if the config file is given by the <code>--config</code>/<code>--ignore-path</code> options</a></li><li><a href="#plugin-loading-change">The place where ESLint loads plugins from is changed</a></li><li><a href="#runtime-deprecation-on-personal-config-files">Runtime deprecation warnings for <code>~/.eslintrc.*</code> config files</a></li><li><a href="#default-ignore-patterns">Default ignore patterns have changed</a></li><li><a href="#description-in-directive-comments">Description in directive comments</a></li><li><a href="#deprecate-node-rules">Node.js/CommonJS rules are deprecated</a></li><li><a href="#rules-strict">Several rules have been updated to cover more cases</a></li><li><a href="#eslint-recommended"><code>eslint:recommended</code> has been updated</a></li></ul><h3 id="breaking-changes-for-plugin-developers">Breaking changes for plugin developers</h3><ul><li><a href="#drop-node-8">Node.js 8 is no longer supported</a></li><li><a href="#additional-lint-targets">Lint files matched by <code>overrides[].files</code> by default</a></li><li><a href="#plugin-loading-change">Plugin resolution has been updated</a></li><li><a href="#rule-tester-strict">Additional validation added to the <code>RuleTester</code> class</a></li></ul><h3 id="breaking-changes-for-integration-developers-3">Breaking changes for integration developers</h3><ul><li><a href="#drop-node-8">Node.js 8 is no longer supported</a></li><li><a href="#plugin-loading-change">Plugin resolution has been updated</a></li><li><a href="#deprecate-cliengine">The <code>CLIEngine</code> class has been deprecated</a></li></ul><hr><h2 id="nodejs-8-is-no-longer-supported"><a name="drop-node-8"></a> Node.js 8 is no longer supported</h2><p>Node.js 8 reached EOL in December 2019, and we are officially dropping support for it in this release. ESLint now supports the following versions of Node.js:</p><ul><li>Node.js 10 (<code>10.12.0</code> and above)</li><li>Node.js 12 and above</li></ul><p><strong>To address:</strong> Make sure you upgrade to at least Node.js <code>10.12.0</code> when using ESLint v7.0.0. One important thing to double check is the Node.js version supported by your editor when using ESLint via editor integrations. If you are unable to upgrade, we recommend continuing to use ESLint 6 until you are able to upgrade Node.js.</p><p><strong>Related issue(s):</strong> <a href="https://github.com/eslint/rfcs/blob/master/designs/2019-drop-node8/README.md">RFC44</a>, <a href="https://github.com/eslint/eslint/pull/12700">#12700</a></p><h2 id="lint-files-matched-by-overridesfiles-by-default"><a name="additional-lint-targets"></a> Lint files matched by <code>overrides[].files</code> by default</h2><p>Previously to v7.0.0, ESLint would only lint files with a <code>.js</code> extension by default if you give directories like <code>eslint src</code>.</p><p>ESLint v7.0.0 will now additionally lint files with other extensions (<code>.ts</code>, <code>.vue</code>, etc.) if the extension is explicitly matched by an <code>overrides[].files</code> entry. This will allow for users to lint files that don't end with <code>*.js</code> to be linted without having to use the <code>--ext</code> command line flag, as well as allow shared configuration authors to enable linting of these files without additional overhead for the end user. Please note that patterns that end with <code>*</code> are exempt from this behavior and will behave as they did previously. For example, if the following config file is present,</p><pre class="hljs highlight-yml"><code><span class="hljs-comment"># .eslintrc.yml</span>
<span class="hljs-attr">extends:</span> <span class="hljs-string">my-config-js</span>
<span class="hljs-attr">overrides:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">files:</span> <span class="hljs-string">&quot;*.ts&quot;</span>
    <span class="hljs-attr">extends:</span> <span class="hljs-string">my-config-ts</span>
</code></pre><p>then running <code>eslint src</code> would check both <code>*.js</code> and <code>*.ts</code> files in the <code>src</code> directory.</p><p><strong>To address:</strong> Using the <code>--ext</code> CLI option will override this new behavior. Run ESLint with <code>--ext .js</code> if you are using <code>overrides</code> but only want to lint files that have a <code>.js</code> extension.</p><p>If you maintain plugins that check files with extensions other than <code>.js</code>, this feature will allow you to check these files by default by configuring an <code>overrides</code> setting in your <code>recommended</code> preset.</p><p><strong>Related issue(s):</strong> <a href="https://github.com/eslint/rfcs/blob/master/designs/2019-additional-lint-targets/README.md">RFC20</a>, <a href="https://github.com/eslint/eslint/pull/12677">#12677</a></p><h2 id="the-base-path-of-overrides-and-ignorepatterns-has-changed-when-using-the-config-ignore-path-options"><a name="base-path-change"></a> The base path of <code>overrides</code> and <code>ignorePatterns</code> has changed when using the <code>--config</code>/<code>--ignore-path</code> options</h2><p>Up until now, ESLint has resolved the following paths relative to the directory path of the <em>entry</em> configuration file:</p><ul><li>Configuration files (<code>.eslintrc.*</code>)<ul><li>relative paths in the <code>overrides[].files</code> setting</li><li>relative paths in the <code>overrides[].excludedFiles</code> setting</li><li>paths which start with <code>/</code> in the <code>ignorePatterns</code> setting</li></ul></li><li>Ignore files (<code>.eslintignore</code>)<ul><li>paths which start with <code>/</code></li></ul></li></ul><p>Starting in ESLint v7.0.0, configuration files and ignore files passed to ESLint using the <code>--config path/to/a-config</code> and <code>--ignore-path path/to/a-ignore</code> CLI flags, respectively, will resolve from the current working directory rather than the file location. This allows for users to utilize shared plugins without having to install them directly in their project.</p><p><strong>To address:</strong> Update the affected paths if you are using a configuration or ignore file via the <code>--config</code> or <code>--ignore-path</code> CLI options.</p><p><strong>Related issue(s):</strong> <a href="https://github.com/eslint/rfcs/blob/master/designs/2019-changing-base-path-in-config-files-that-cli-options-specify/README.md">RFC37</a>, <a href="https://github.com/eslint/eslint/pull/12887">#12887</a></p><h2 id="plugin-resolution-has-been-updated"><a name="plugin-loading-change"></a> Plugin resolution has been updated</h2><p>In previous versions, ESLint resolved all plugins from the current working directory by default.</p><p>Starting in ESLint v7.0.0, <code>plugins</code> are resolved relative to the directory path of the <em>entry</em> configuration file.</p><p>This will not change anything in most cases. If a configuration file in a subdirectory has <code>plugins</code> defined, the plugins will be loaded from the subdirectory (or ancestor directories that include the current working directory if not found).</p><p>This means that if you are using a config file from a shared location via <code>--config</code> option, the plugins that the config file declare will be loaded from the shared config file location.</p><p><strong>To address:</strong> Ensure that plugins are installed in a place that can be resolved relative to your configuration file or use <code>--resolve-plugins-relative-to .</code> to override this change.</p><p><strong>Related issue(s):</strong> <a href="https://github.com/eslint/rfcs/blob/master/designs/2019-plugin-loading-improvement/README.md">RFC47</a>, <a href="https://github.com/eslint/eslint/pull/12922">#12922</a></p><h2 id="runtime-deprecation-warnings-for-eslintrc-config-files"><a name="runtime-deprecation-on-personal-config-files"></a> Runtime deprecation warnings for <code>~/.eslintrc.*</code> config files</h2><p>Personal config files have been deprecated since <a href="https://eslint.org/blog/2019/11/eslint-v6.7.0-released">v6.7.0</a>. ESLint v7.0.0 will start printing runtime deprecation warnings. It will print a warning for the following situations:</p><ol><li>When a project does not have a configuration file present and ESLint loads configuration from <code>~/.eslintrc.*</code>.</li><li>When a project has a configuration file and ESLint ignored a <code>~/.eslintrc.*</code> configuration file. This occurs when the <code>$HOME</code> directory is an ancestor directory of the project and the project's configuration files doesn't contain <code>root:true</code>.</li></ol><p><strong>To address:</strong> Remove <code>~/.eslintrc.*</code> configuration files and add a <code>.eslintrc.*</code> configuration file to your project. Alternatively, use the <code>--config</code> option to use shared config files.</p><p><strong>Related issue(s):</strong> <a href="https://github.com/eslint/rfcs/tree/master/designs/2019-deprecating-personal-config/README.md">RFC32</a>, <a href="https://github.com/eslint/eslint/pull/12678">#12678</a></p><h2 id="default-ignore-patterns-have-changed"><a name="default-ignore-patterns"></a> Default ignore patterns have changed</h2><p>Up until now, ESLint has ignored the following files by default:</p><ul><li>Dotfiles (<code>.*</code>)</li><li><code>node_modules</code> in the current working directory (<code>/node_modules/*</code>)</li><li><code>bower_components</code> in the current working directory (<code>/bower_components/*</code>)</li></ul><p>ESLint v7.0.0 ignores <code>node_modules/*</code> of subdirectories as well, but no longer ignores <code>bower_components/*</code> and <code>.eslintrc.js</code>. Therefore, the new default ignore patterns are:</p><ul><li>Dotfiles except <code>.eslintrc.*</code> (<code>.*</code> but not <code>.eslintrc.*</code>)</li><li><code>node_modules</code> (<code>/**/node_modules/*</code>)</li></ul><p><strong>To address:</strong> Modify your <code>.eslintignore</code> or the <code>ignorePatterns</code> property of your config file if you don't want to lint <code>bower_components/*</code> and <code>.eslintrc.js</code>.</p><p><strong>Related issue(s):</strong> <a href="https://github.com/eslint/rfcs/blob/master/designs/2019-update-default-ignore-patterns/README.md">RFC51</a>, <a href="https://github.com/eslint/eslint/pull/12888">#12888</a></p><h2 id="descriptions-in-directive-comments-1"><a name="description-in-directive-comments"></a> Descriptions in directive comments</h2><p>In older version of ESLint, there was no convenient way to indicate why a directive comment – such as <code>/*eslint-disable*/</code> – was necessary.</p><p>To allow for the colocation of comments that provide context with the directive, ESLint v7.0.0 adds the ability to append arbitrary text in directive comments by ignoring text following <code>--</code> surrounded by whitespace. For example:</p><pre class="hljs highlight-js"><code><span class="hljs-comment">// eslint-disable-next-line a-rule, another-rule -- those are buggy!!</span>
</code></pre><p><strong>To address:</strong> If you have <code>--</code> surrounded by whitespace in directive comments, consider moving it into your configuration file.</p><p><strong>Related issue(s):</strong> <a href="https://github.com/eslint/rfcs/blob/master/designs/2019-description-in-directive-comments/README.md">RFC33</a>, <a href="https://github.com/eslint/eslint/pull/12699">#12699</a></p><h2 id="nodejscommonjs-rules-have-been-deprecated"><a name="deprecate-node-rules"></a> Node.js/CommonJS rules have been deprecated</h2><p>The ten Node.js/CommonJS rules in core have been deprecated and moved to the <a href="https://github.com/mysticatea/eslint-plugin-node">eslint-plugin-node</a> plugin.</p><p><strong>To address:</strong> As per <a href="https://eslint.org/docs/user-guide/rule-deprecation">our deprecation policy</a>, the deprecated rules will remain in core for the foreseeable future and are still available for use. However, we will no longer be updating or fixing any bugs in those rules. To use a supported version of the rules, we recommend using the corresponding rules in the plugin instead.</p><table><thead><tr><th style="text-align:left">Deprecated Rules</th><th style="text-align:left">Replacement</th></tr></thead><tbody><tr><td style="text-align:left"><a href="https://eslint.org/docs/rules/callback-return">callback-return</a></td><td style="text-align:left"><a href="https://github.com/mysticatea/eslint-plugin-node/blob/v11.1.0/docs/rules/callback-return.md">node/callback-return</a></td></tr><tr><td style="text-align:left"><a href="https://eslint.org/docs/rules/global-require">global-require</a></td><td style="text-align:left"><a href="https://github.com/mysticatea/eslint-plugin-node/blob/v11.1.0/docs/rules/global-require.md">node/global-require</a></td></tr><tr><td style="text-align:left"><a href="https://eslint.org/docs/rules/handle-callback-err">handle-callback-err</a></td><td style="text-align:left"><a href="https://github.com/mysticatea/eslint-plugin-node/blob/v11.1.0/docs/rules/handle-callback-err.md">node/handle-callback-err</a></td></tr><tr><td style="text-align:left"><a href="https://eslint.org/docs/rules/no-mixed-requires">no-mixed-requires</a></td><td style="text-align:left"><a href="https://github.com/mysticatea/eslint-plugin-node/blob/v11.1.0/docs/rules/no-mixed-requires.md">node/no-mixed-requires</a></td></tr><tr><td style="text-align:left"><a href="https://eslint.org/docs/rules/no-new-require">no-new-require</a></td><td style="text-align:left"><a href="https://github.com/mysticatea/eslint-plugin-node/blob/v11.1.0/docs/rules/no-new-require.md">node/no-new-require</a></td></tr><tr><td style="text-align:left"><a href="https://eslint.org/docs/rules/no-path-concat">no-path-concat</a></td><td style="text-align:left"><a href="https://github.com/mysticatea/eslint-plugin-node/blob/v11.1.0/docs/rules/no-path-concat.md">node/no-path-concat</a></td></tr><tr><td style="text-align:left"><a href="https://eslint.org/docs/rules/no-process-env">no-process-env</a></td><td style="text-align:left"><a href="https://github.com/mysticatea/eslint-plugin-node/blob/v11.1.0/docs/rules/no-process-env.md">node/no-process-env</a></td></tr><tr><td style="text-align:left"><a href="https://eslint.org/docs/rules/no-process-exit">no-process-exit</a></td><td style="text-align:left"><a href="https://github.com/mysticatea/eslint-plugin-node/blob/v11.1.0/docs/rules/no-process-exit.md">node/no-process-exit</a></td></tr><tr><td style="text-align:left"><a href="https://eslint.org/docs/rules/no-restricted-modules">no-restricted-modules</a></td><td style="text-align:left"><a href="https://github.com/mysticatea/eslint-plugin-node/blob/v11.1.0/docs/rules/no-restricted-require.md">node/no-restricted-require</a></td></tr><tr><td style="text-align:left"><a href="https://eslint.org/docs/rules/no-sync">no-sync</a></td><td style="text-align:left"><a href="https://github.com/mysticatea/eslint-plugin-node/blob/v11.1.0/docs/rules/no-sync.md">node/no-sync</a></td></tr></tbody></table><p><strong>Related issue(s):</strong> <a href="https://github.com/eslint/eslint/pull/12898">#12898</a></p><h2 id="several-rules-have-been-updated-to-cover-more-cases"><a name="rules-strict"></a> Several rules have been updated to cover more cases</h2><p>Several rules have been enhanced and now report additional errors:</p><ul><li><a href="https://eslint.org/docs/rules/accessor-pairs">accessor-pairs</a> rule now recognizes class members by default.</li><li><a href="https://eslint.org/docs/rules/array-callback-return">array-callback-return</a> rule now recognizes <code>flatMap</code> method.</li><li><a href="https://eslint.org/docs/rules/computed-property-spacing">computed-property-spacing</a> rule now recognizes class members by default.</li><li><a href="https://eslint.org/docs/rules/func-names">func-names</a> rule now recognizes function declarations in default exports.</li><li><a href="https://eslint.org/docs/rules/no-extra-parens">no-extra-parens</a> rule now recognizes parentheses in assignment targets.</li><li><a href="https://eslint.org/docs/rules/no-dupe-class-members">no-dupe-class-members</a> rule now recognizes computed keys for static class members.</li><li><a href="https://eslint.org/docs/rules/no-magic-number">no-magic-number</a> rule now recognizes bigint literals.</li><li><a href="https://eslint.org/docs/rules/radix">radix</a> rule now recognizes invalid numbers for the second parameter of <code>parseInt()</code>.</li><li><a href="https://eslint.org/docs/rules/use-isnan">use-isnan</a> rule now recognizes class members by default.</li><li><a href="https://eslint.org/docs/rules/yoda">yoda</a> rule now recognizes bigint literals.</li></ul><p><strong>To address:</strong> Fix errors or disable these rules.</p><p><strong>Related issue(s):</strong> <a href="https://github.com/eslint/eslint/pull/12490">#12490</a>, <a href="https://github.com/eslint/eslint/pull/12608">#12608</a>, <a href="https://github.com/eslint/eslint/pull/12670">#12670</a>, <a href="https://github.com/eslint/eslint/pull/12701">#12701</a>, <a href="https://github.com/eslint/eslint/pull/12765">#12765</a>, <a href="https://github.com/eslint/eslint/pull/12837">#12837</a>, <a href="https://github.com/eslint/eslint/pull/12913">#12913</a>, <a href="https://github.com/eslint/eslint/pull/12915">#12915</a>, <a href="https://github.com/eslint/eslint/pull/12919">#12919</a></p><h2 id="eslintrecommended-has-been-updated-1"><a name="eslint-recommended"></a> <code>eslint:recommended</code> has been updated</h2><p>Three new rules have been enabled in the <code>eslint:recommended</code> preset.</p><ul><li><a href="https://eslint.org/docs/rules/no-dupe-else-if">no-dupe-else-if</a></li><li><a href="https://eslint.org/docs/rules/no-import-assign">no-import-assign</a></li><li><a href="https://eslint.org/docs/rules/no-setter-return">no-setter-return</a></li></ul><p><strong>To address:</strong> Fix errors or disable these rules.</p><p><strong>Related issue(s):</strong> <a href="https://github.com/eslint/eslint/pull/12920">#12920</a></p><h2 id="additional-validation-added-to-the-ruletester-class"><a name="rule-tester-strict"></a> Additional validation added to the <code>RuleTester</code> class</h2><p>The <code>RuleTester</code> now validates the following:</p><ul><li>It fails test cases if the rule under test uses the non-standard <code>node.start</code> or <code>node.end</code> properties. Rules should use <code>node.range</code> instead.</li><li>It fails test cases if the rule under test provides an autofix but a test case doesn't have an <code>output</code> property. Add an <code>output</code> property to test cases to test the rule's autofix functionality.</li><li>It fails test cases if any unknown properties are found in the objects in the <code>errors</code> property.</li></ul><p><strong>To address:</strong> Modify your rule or test case if existing test cases fail.</p><p><strong>Related issue(s):</strong> <a href="https://github.com/eslint/rfcs/blob/master/designs/2019-rule-tester-improvements/README.md">RFC25</a>, <a href="https://github.com/eslint/eslint/pull/12096">#12096</a>, <a href="https://github.com/eslint/eslint/pull/12955">#12955</a></p><h2 id="the-cliengine-class-has-been-deprecated"><a name="deprecate-cliengine"></a> The <code>CLIEngine</code> class has been deprecated</h2><p>The <a href="https://eslint.org/docs/developer-guide/nodejs-api#cliengine"><code>CLIEngine</code> class</a> has been deprecated and replaced by the new <a href="https://eslint.org/docs/developer-guide/nodejs-api#eslint-class"><code>ESLint</code> class</a>.</p><p>The <code>CLIEngine</code> class provides a synchronous API that is blocking the implementation of features such as parallel linting, supporting ES modules in shareable configs/parsers/plugins/formatters, and adding the ability to visually display the progress of linting runs. The new <code>ESLint</code> class provides an asynchronous API that ESLint core will now using going forward. <code>CLIEngine</code> will remain in core for the foreseeable future but may be removed in a future major version.</p><p><strong>To address:</strong> Update your code to use the new <code>ESLint</code> class if you are currently using <code>CLIEngine</code>. The following table maps the existing <code>CLIEngine</code> methods to their <code>ESLint</code> counterparts:</p><table><thead><tr><th style="text-align:left"><code>CLIEngine</code></th><th style="text-align:left"><code>ESLint</code></th></tr></thead><tbody><tr><td style="text-align:left"><code>executeOnFiles(patterns)</code></td><td style="text-align:left"><code>lintFiles(patterns)</code></td></tr><tr><td style="text-align:left"><code>executeOnText(text, filePath, warnIgnored)</code></td><td style="text-align:left"><code>lintText(text, options)</code></td></tr><tr><td style="text-align:left"><code>getFormatter(name)</code></td><td style="text-align:left"><code>loadFormatter(name)</code></td></tr><tr><td style="text-align:left"><code>getConfigForFile(filePath)</code></td><td style="text-align:left"><code>calculateConfigForFile(filePath)</code></td></tr><tr><td style="text-align:left"><code>isPathIgnored(filePath)</code></td><td style="text-align:left"><code>isPathIgnored(filePath)</code></td></tr><tr><td style="text-align:left"><code>static outputFixes(results)</code></td><td style="text-align:left"><code>static outputFixes(results)</code></td></tr><tr><td style="text-align:left"><code>static getErrorResults(results)</code></td><td style="text-align:left"><code>static getErrorResults(results)</code></td></tr><tr><td style="text-align:left"><code>static getFormatter(name)</code></td><td style="text-align:left">(removed ※1)</td></tr><tr><td style="text-align:left"><code>addPlugin(pluginId, definition)</code></td><td style="text-align:left">the <code>plugins</code> constructor option</td></tr><tr><td style="text-align:left"><code>getRules()</code></td><td style="text-align:left">(not implemented yet)</td></tr><tr><td style="text-align:left"><code>resolveFileGlobPatterns()</code></td><td style="text-align:left">(removed ※2)</td></tr></tbody></table><ul><li>※1 The <code>engine.getFormatter()</code> method currently returns the object of loaded packages as-is, which made it difficult to add new features to formatters for backward compatibility reasons. The new <code>eslint.loadFormatter()</code> method returns an adapter object that wraps the object of loaded packages, to ease the process of adding new features. Additionally, the adapter object has access to the <code>ESLint</code> instance to calculate default data (using loaded plugin rules to make <code>rulesMeta</code>, for example). As a result, the <code>ESLint</code> class only implements an instance version of the <code>loadFormatter()</code> method.</li><li>※2 Since ESLint 6, ESLint uses different logic from the <code>resolveFileGlobPatterns()</code> method to iterate files, making this method obsolete.</li></ul><p><strong>Related issue(s):</strong> <a href="https://github.com/eslint/rfcs/blob/master/designs/2019-move-to-async-api/README.md">RFC40</a>, <a href="https://github.com/eslint/eslint/pull/12939">#12939</a></p></article></main><hr><div class="container"><footer><ul class="list-inline"><li><a href="https://github.com/eslint/eslint/edit/master/docs/user-guide/migrating-to-7.0.0.md">Edit this page</a></li><li><a href="https://groups.google.com/group/eslint">Mailing List</a></li><li><a href="https://github.com/eslint/eslint">GitHub</a></li><li><a href="https://twitter.com/geteslint">Twitter</a></li><li><a href="/chat">Chat Room</a></li><li>Copyright OpenJS Foundation and other contributors, <a href="https://openjsf.org/">https://openjsf.org/</a></li></ul></footer></div><script src="/assets/js/main.js"></script></body></html>