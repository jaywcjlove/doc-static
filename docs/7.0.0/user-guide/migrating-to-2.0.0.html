<!doctype html><html lang="en" class="no-js"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="keywords" content="JavaScript, Linter, Linting, Pluggable, Configurable, Code Quality"><meta name="description" content="A pluggable and configurable linter tool for identifying and reporting on patterns in JavaScript. Maintain your code quality with ease."><meta name="theme-color" content="#463fd4"><meta property="og:locale" content="en_US"><meta property="og:site_name" content="ESLint - Pluggable JavaScript linter"><meta property="og:title" content="Migrating to v2.0.0"><meta property="og:url" content="/docs/7.0.0/user-guide/migrating-to-2.0.0"><meta property="og:image" content="https://eslint.org/assets/img/favicon.512x512.png"><meta name="twitter:site" content="@geteslint"><meta name="twitter:title" content="Migrating to v2.0.0"><meta name="twitter:description" content="A pluggable and configurable linter tool for identifying and reporting on patterns in JavaScript. Maintain your code quality with ease."><meta name="twitter:url" content="/docs/7.0.0/user-guide/migrating-to-2.0.0"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://eslint.org/assets/img/favicon.512x512.png"><title>Migrating to v2.0.0 - ESLint - Pluggable JavaScript linter</title><link rel="preconnect" href="https://www.google-analytics.com"><link rel="canonical" href="/docs/7.0.0/user-guide/migrating-to-2.0.0"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600"><link rel="stylesheet" href="/assets/styles/main.css"><link rel="manifest" href="/manifest.json"><link rel="icon" href="/assets/img/favicon.512x512.png"><link rel="alternate" type="application/rss+xml" title="ESLint - Pluggable JavaScript linter" href="/feed.xml"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"></head><body class="banner-displayed"><input type="checkbox" id="eslint-toggle-search" class="eslint-toggle-search-checkbox"><header class="navbar navbar-default navbar-demo navbar-fixed-top eslint-nav" id="top" role="banner"><div class="eslint-banner" style="color: #ffffff; background-color: #150b29"><p><a href="https://code2040-2020.funraise.org/" style="color: #a486df">Donate to Code2040</a></p></div><div class="container"><a href="/" class="navbar-brand"><img alt="ESLint" src="/assets/img/logo.svg" itemprop="image">ESLint</a><div class="eslint-navbar-toggles"><button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#eslint-navbar" aria-controls="eslint-navbar" aria-expanded="false"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <label for="eslint-toggle-search" class="navbar-toggle eslint-toggle-search-open"><span class="sr-only">Open search</span> <span class="glyphicon glyphicon-search" aria-hidden="true"></span></label></div><nav id="eslint-navbar" class="collapse navbar-collapse eslint-navbar"><ul class="nav navbar-nav navbar-right"><li class="dropdown"><a href="/docs/user-guide" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">User guide<span class="caret"></span></a><ul class="dropdown-menu" role="menu"><li><a href="/docs/user-guide/getting-started">Getting Started</a></li><li><a href="/docs/user-guide/configuring">Configuring ESLint</a></li><li><a href="/docs/user-guide/command-line-interface">Command Line Interface</a></li><li><a href="/docs/rules">Rules</a></li><li><a href="/docs/user-guide/formatters">Formatters</a></li><li><a href="/docs/user-guide/integrations">Integrations</a></li><li class="divider"></li><li><a href="/docs/user-guide/migrating-to-7.0.0">Migrating to v7.0.0</a></li><li><a href="/docs/user-guide/migrating-to-6.0.0">Migrating to v6.0.0</a></li><li><a href="/docs/user-guide/migrating-to-5.0.0">Migrating to v5.0.0</a></li><li><a href="/docs/user-guide/migrating-to-4.0.0">Migrating to v4.0.0</a></li><li><a href="/docs/user-guide/migrating-to-3.0.0">Migrating to v3.0.0</a></li><li><a href="/docs/user-guide/migrating-to-2.0.0">Migrating to v2.0.0</a></li><li><a href="/docs/user-guide/migrating-to-1.0.0">Migrating to v1.0.0</a></li><li><a href="/docs/user-guide/migrating-from-jscs">Migrating from JSCS</a></li></ul></li><li class="dropdown"><a href="/docs/developer-guide" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Developer guide<span class="caret"></span></a><ul class="dropdown-menu" role="menu"><li><a href="/docs/developer-guide/architecture">Architecture</a></li><li><a href="/docs/developer-guide/contributing">Contributing</a></li><li><a href="/docs/developer-guide/source-code">Get the Source Code</a></li><li><a href="/docs/developer-guide/development-environment">Set up a Development Environment</a></li><li><a href="/docs/developer-guide/unit-tests">Run the Unit Tests</a></li><li><a href="/docs/developer-guide/working-with-rules">Working with Rules</a></li><li><a href="/docs/developer-guide/working-with-plugins">Working with Plugins</a></li><li><a href="/docs/developer-guide/working-with-custom-formatters">Working with Custom Formatters</a></li><li><a href="/docs/developer-guide/working-with-custom-parsers">Working with Custom Parsers</a></li><li><a href="/docs/developer-guide/shareable-configs">Shareable Configs</a></li><li><a href="/docs/developer-guide/nodejs-api">Node.js API</a></li><li><a href="/docs/maintainer-guide">Maintainer guide</a></li></ul></li><li><a href="/blog">Blog</a></li><li><a href="/demo">Demo</a></li><li class="dropdown"><a href="/docs/about" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">About<span class="caret"></span></a><ul class="dropdown-menu" role="menu"><li><a href="/users">Who's Using ESLint?</a></li><li><a href="/team">About the Team</a></li><li><a href="/docs/about">About ESLint</a></li></ul></li></ul><label for="eslint-toggle-search" class="navbar-toggle eslint-toggle-search-open"><span class="sr-only">Open search</span> <span class="glyphicon glyphicon-search" aria-hidden="true"></span></label><div class="navbar-form navbar-right eslint-search" role="search"><div class="input-group"><label class="sr-only" aria-label="Search" for="eslint-search-input">Search</label><div class="eslint-search-input-wrapper"><input type="text" class="form-control" id="eslint-search-input" accesskey="s" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search the docs..."> <label for="eslint-toggle-search" class="eslint-toggle-search-close"><span class="sr-only">Close search</span> <span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span></label></div></div></div></nav></div></header><main class="doc"><article class="container"><h1 id="migrating-to-v200-7">Migrating to v2.0.0</h1><p>ESLint v2.0.0 is the second major version release. As a result, there are some significant changes between how ESLint worked during its life in 0.x and 1.x and how it will work going forward. These changes are the direct result of feedback from the ESLint community of users and were not made without due consideration for the upgrade path. We believe that these changes make ESLint even better, and while some work is necessary to upgrade, we hope the pain of this upgrade is small enough that you will see the benefit of upgrading.</p><p><strong>Important:</strong> If you are upgrading from 0.x, please refer to <a href="./migrating-to-1.0.0">Migrating to 1.0.0</a> as your starting point.</p><h2 id="rule-schema-changes-7">Rule Schema Changes</h2><p>Due to a quirk in the way rule schemas worked, it was possible that you'd need to account for the rule severity (0, 1, or 2) in a rule schema if the options were sufficiently complex. That would result in a schema such as:</p><pre class="hljs highlight-js"><code><span class="hljs-built_in">module</span>.exports = {
    <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;array&quot;</span>,
    <span class="hljs-string">&quot;items&quot;</span>: [
        {
            <span class="hljs-string">&quot;enum&quot;</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>]
        },
        {
            <span class="hljs-string">&quot;enum&quot;</span>: [<span class="hljs-string">&quot;always&quot;</span>, <span class="hljs-string">&quot;never&quot;</span>]
        }
    ],
    <span class="hljs-string">&quot;minItems&quot;</span>: <span class="hljs-number">1</span>,
    <span class="hljs-string">&quot;maxItems&quot;</span>: <span class="hljs-number">2</span>
};
</code></pre><p>This was confusing to rule developers as it seemed that rules shouldn't be in charge of validating their own severity. In 2.0.0, rules no longer need to check their own severity.</p><p><strong>To address:</strong> If you are exporting a rule schema that checks severity, you need to make several changes:</p><ol><li>Remove the severity from the schema</li><li>Adjust <code>minItems</code> from 1 to 0</li><li>Adjust <code>maxItems</code> by subtracting 1</li></ol><p>Here's what the schema from above looks like when properly converted:</p><pre class="hljs highlight-js"><code><span class="hljs-built_in">module</span>.exports = {
    <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;array&quot;</span>,
    <span class="hljs-string">&quot;items&quot;</span>: [
        {
            <span class="hljs-string">&quot;enum&quot;</span>: [<span class="hljs-string">&quot;always&quot;</span>, <span class="hljs-string">&quot;never&quot;</span>]
        }
    ],
    <span class="hljs-string">&quot;minItems&quot;</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">&quot;maxItems&quot;</span>: <span class="hljs-number">1</span>
};
</code></pre><h2 id="removed-rules-17">Removed Rules</h2><p>The following rules have been deprecated with new rules created to take their place. The following is a list of the removed rules and their replacements:</p><ul><li><a href="https://eslint.org/docs/rules/no-arrow-condition">no-arrow-condition</a> is replaced by a combination of <a href="https://eslint.org/docs/rules/no-confusing-arrow">no-confusing-arrow</a> and <a href="https://eslint.org/docs/rules/no-constant-condition">no-constant-condition</a>. Turn on both of these rules to get the same functionality as <code>no-arrow-condition</code>.</li><li><a href="https://eslint.org/docs/rules/no-empty-label">no-empty-label</a> is replaced by <a href="https://eslint.org/docs/rules/no-labels">no-labels</a> with <code>{&quot;allowLoop&quot;: true, &quot;allowSwitch&quot;: true}</code> option.</li><li><a href="https://eslint.org/docs/rules/space-after-keywords">space-after-keywords</a> is replaced by <a href="https://eslint.org/docs/rules/keyword-spacing">keyword-spacing</a>.</li><li><a href="https://eslint.org/docs/rules/space-before-keywords">space-before-keywords</a> is replaced by <a href="https://eslint.org/docs/rules/keyword-spacing">keyword-spacing</a>.</li><li><a href="https://eslint.org/docs/rules/space-return-throw-case">space-return-throw-case</a> is replaced by <a href="https://eslint.org/docs/rules/keyword-spacing">keyword-spacing</a>.</li></ul><p><strong>To address:</strong> You'll need to update your rule configurations to use the new rules. ESLint v2.0.0 will also warn you when you're using a rule that has been removed and will suggest the replacement rules. Hopefully, this will result in few surprises during the upgrade process.</p><h2 id="configuration-cascading-changes-15">Configuration Cascading Changes</h2><p>Prior to 2.0.0, if a directory contained both an <code>.eslintrc</code> file and a <code>package.json</code> file with ESLint configuration information, the settings from the two files would be merged together. In 2.0.0, only the settings from the <code>.eslintrc.*</code> file are used and the ones in <code>package.json</code> are ignored when both are present. Otherwise, <code>package.json</code> can still be used with ESLint configuration, but only if no other <code>.eslintrc.*</code> files are present.</p><p><strong>To address:</strong> If you have both an <code>.eslintrc.*</code> and <code>package.json</code> with ESLint configuration information in the same directory, combine your configurations into just one of those files.</p><h2 id="built-in-global-variables-15">Built-In Global Variables</h2><p>Prior to 2.0.0, new global variables that were standardized as part of ES6 such as <code>Promise</code>, <code>Map</code>, <code>Set</code>, and <code>Symbol</code> were included in the built-in global environment. This could lead to potential issues when, for example, <code>no-undef</code> permitted use of the <code>Promise</code> constructor even in ES5 code where promises are unavailable. In 2.0.0, the built-in environment only includes the standard ES5 global variables, and the new ES6 global variables have been moved to the <code>es6</code> environment.</p><p><strong>To address:</strong> If you are writing ES6 code, enable the <code>es6</code> environment if you have not already done so:</p><pre class="hljs highlight-js"><code><span class="hljs-comment">// In your .eslintrc</span>
{
    <span class="hljs-attr">env</span>: {
        <span class="hljs-attr">es6</span>: <span class="hljs-literal">true</span>
    }
}

<span class="hljs-comment">// Or in a configuration comment</span>
<span class="hljs-comment">/*eslint-env es6*/</span>
</code></pre><h2 id="language-options-15">Language Options</h2><p>Prior to 2.0.0, the way to enable language options was by using <code>ecmaFeatures</code> in your configuration. In 2.0.0:</p><ul><li>The <code>ecmaFeatures</code> property is now under a top-level <code>parserOptions</code> property.</li><li>All ECMAScript 6 <code>ecmaFeatures</code> flags have been removed in favor of a <code>ecmaVersion</code> property under <code>parserOptions</code> that can be set to 3, 5 (default), or 6.</li><li>The <code>ecmaFeatures.modules</code> flag has been replaced by a <code>sourceType</code> property under <code>parserOptions</code> which can be set to <code>&quot;script&quot;</code> (default) or <code>&quot;module&quot;</code> for ES6 modules.</li></ul><p><strong>To address:</strong> If you are using any ECMAScript 6 feature flags in <code>ecmaFeatures</code>, you'll need to use <code>ecmaVersion: 6</code> instead. The ECMAScript 6 feature flags are:</p><ul><li><code>arrowFunctions</code> - enable <a href="https://leanpub.com/understandinges6/read#leanpub-auto-arrow-functions">arrow functions</a></li><li><code>binaryLiterals</code> - enable <a href="https://leanpub.com/understandinges6/read#leanpub-auto-octal-and-binary-literals">binary literals</a></li><li><code>blockBindings</code> - enable <code>let</code> and <code>const</code> (aka <a href="https://leanpub.com/understandinges6/read#leanpub-auto-block-bindings">block bindings</a>)</li><li><code>classes</code> - enable classes</li><li><code>defaultParams</code> - enable <a href="https://leanpub.com/understandinges6/read/#leanpub-auto-default-parameters">default function parameters</a></li><li><code>destructuring</code> - enable <a href="https://leanpub.com/understandinges6/read#leanpub-auto-destructuring-assignment">destructuring</a></li><li><code>forOf</code> - enable <a href="https://leanpub.com/understandinges6/read#leanpub-auto-iterables-and-for-of"><code>for-of</code> loops</a></li><li><code>generators</code> - enable <a href="https://leanpub.com/understandinges6/read#leanpub-auto-generators">generators</a></li><li><code>modules</code> - enable modules and global strict mode</li><li><code>objectLiteralComputedProperties</code> - enable <a href="https://leanpub.com/understandinges6/read#leanpub-auto-computed-property-names">computed object literal property names</a></li><li><code>objectLiteralDuplicateProperties</code> - enable <a href="https://leanpub.com/understandinges6/read#leanpub-auto-duplicate-object-literal-properties">duplicate object literal properties</a> in strict mode</li><li><code>objectLiteralShorthandMethods</code> - enable <a href="https://leanpub.com/understandinges6/read#leanpub-auto-method-initializer-shorthand">object literal shorthand methods</a></li><li><code>objectLiteralShorthandProperties</code> - enable <a href="https://leanpub.com/understandinges6/read#leanpub-auto-property-initializer-shorthand">object literal shorthand properties</a></li><li><code>octalLiterals</code> - enable <a href="https://leanpub.com/understandinges6/read#leanpub-auto-octal-and-binary-literals">octal literals</a></li><li><code>regexUFlag</code> - enable the <a href="https://leanpub.com/understandinges6/read#leanpub-auto-the-regular-expression-u-flag">regular expression <code>u</code> flag</a></li><li><code>regexYFlag</code> - enable the <a href="https://leanpub.com/understandinges6/read#leanpub-auto-the-regular-expression-y-flag">regular expression <code>y</code> flag</a></li><li><code>restParams</code> - enable the <a href="https://leanpub.com/understandinges6/read#leanpub-auto-rest-parameters">rest parameters</a></li><li><code>spread</code> - enable the <a href="https://leanpub.com/understandinges6/read#leanpub-auto-the-spread-operator">spread operator</a> for arrays</li><li><code>superInFunctions</code> - enable <code>super</code> references inside of functions</li><li><code>templateStrings</code> - enable <a href="https://leanpub.com/understandinges6/read/#leanpub-auto-template-strings">template strings</a></li><li><code>unicodeCodePointEscapes</code> - enable <a href="https://leanpub.com/understandinges6/read/#leanpub-auto-escaping-non-bmp-characters">code point escapes</a></li></ul><p>If you're using any of these flags, such as:</p><pre class="hljs highlight-js"><code>{
    <span class="hljs-attr">ecmaFeatures</span>: {
        <span class="hljs-attr">arrowFunctions</span>: <span class="hljs-literal">true</span>
    }
}
</code></pre><p>Then you should enable ES6 using <code>ecmaVersion</code>:</p><pre class="hljs highlight-js"><code>{
    <span class="hljs-attr">parserOptions</span>: {
        <span class="hljs-attr">ecmaVersion</span>: <span class="hljs-number">6</span>
    }
}
</code></pre><p>If you're using any non-ES6 flags in <code>ecmaFeatures</code>, you need to move those inside of <code>parserOptions</code>. For instance:</p><pre class="hljs highlight-js"><code>{
    <span class="hljs-attr">ecmaFeatures</span>: {
        <span class="hljs-attr">jsx</span>: <span class="hljs-literal">true</span>
    }
}
</code></pre><p>Then you should move <code>ecmaFeatures</code> under <code>parserOptions</code>:</p><pre class="hljs highlight-js"><code>{
    <span class="hljs-attr">parserOptions</span>: {
        <span class="hljs-attr">ecmaFeatures</span>: {
            <span class="hljs-attr">jsx</span>: <span class="hljs-literal">true</span>
        }
    }
}
</code></pre><p>If you were using <code>ecmaFeatures.modules</code> to enable ES6 module support like this:</p><pre class="hljs highlight-js"><code>{
    <span class="hljs-attr">ecmaFeatures</span>: {
        <span class="hljs-attr">modules</span>: <span class="hljs-literal">true</span>
    }
}
</code></pre><pre class="hljs highlight-js"><code>{
    <span class="hljs-attr">parserOptions</span>: {
        <span class="hljs-attr">sourceType</span>: <span class="hljs-string">&quot;module&quot;</span>
    }
}
</code></pre><p>Additionally, if you are using <code>context.ecmaFeatures</code> inside of your rules, then you'll need to update your code in the following ways:</p><ol><li>If you're using an ES6 feature flag such as <code>context.ecmaFeatures.blockBindings</code>, rewrite to check for <code>context.parserOptions.ecmaVersion &gt; 5</code>.</li><li>If you're using <code>context.ecmaFeatures.modules</code>, rewrite to check that the <code>sourceType</code> property of the Program node is <code>&quot;module&quot;</code>.</li><li>If you're using a non-ES6 feature flag such as <code>context.ecmaFeatures.jsx</code>, rewrite to check for <code>context.parserOptions.ecmaFeatures.jsx</code>.</li></ol><p>If you have a plugin with rules and you are using RuleTester, then you also need to update the options you pass for rules that use <code>ecmaFeatures</code>. For example:</p><pre class="hljs highlight-js"><code><span class="hljs-keyword">var</span> ruleTester = <span class="hljs-keyword">new</span> RuleTester();
ruleTester.run(<span class="hljs-string">&quot;no-var&quot;</span>, rule, {
    <span class="hljs-attr">valid</span>: [
        {
            <span class="hljs-attr">code</span>: <span class="hljs-string">&quot;let x;&quot;</span>,
            <span class="hljs-attr">parserOptions</span>: { <span class="hljs-attr">ecmaVersion</span>: <span class="hljs-number">6</span> }
        }
    ]
});
</code></pre><p>If you're not using <code>ecmaFeatures</code> in your configuration or your custom/plugin rules and tests, then no change is needed.</p><h2 id="new-rules-in-eslintrecommended-6">New Rules in <code>&quot;eslint:recommended&quot;</code></h2><pre class="hljs highlight-json"><code>{
    <span class="hljs-attr">&quot;extends&quot;</span>: <span class="hljs-string">&quot;eslint:recommended&quot;</span>
}
</code></pre><p>In 2.0.0, the following 11 rules were added to <code>&quot;eslint:recommended&quot;</code>.</p><ul><li><a href="https://eslint.org/docs/rules/constructor-super">constructor-super</a></li><li><a href="https://eslint.org/docs/rules/no-case-declarations">no-case-declarations</a></li><li><a href="https://eslint.org/docs/rules/no-class-assign">no-class-assign</a></li><li><a href="https://eslint.org/docs/rules/no-const-assign">no-const-assign</a></li><li><a href="https://eslint.org/docs/rules/no-dupe-class-members">no-dupe-class-members</a></li><li><a href="https://eslint.org/docs/rules/no-empty-pattern">no-empty-pattern</a></li><li><a href="https://eslint.org/docs/rules/no-new-symbol">no-new-symbol</a></li><li><a href="https://eslint.org/docs/rules/no-self-assign">no-self-assign</a></li><li><a href="https://eslint.org/docs/rules/no-this-before-super">no-this-before-super</a></li><li><a href="https://eslint.org/docs/rules/no-unexpected-multiline">no-unexpected-multiline</a></li><li><a href="https://eslint.org/docs/rules/no-unused-labels">no-unused-labels</a></li></ul><p><strong>To address:</strong> If you don't want to be notified by those rules, you can simply disable those rules.</p><pre class="hljs highlight-json"><code>{
    <span class="hljs-attr">&quot;extends&quot;</span>: <span class="hljs-string">&quot;eslint:recommended&quot;</span>,
    <span class="hljs-attr">&quot;rules&quot;</span>: {
        <span class="hljs-attr">&quot;no-case-declarations&quot;</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">&quot;no-class-assign&quot;</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">&quot;no-const-assign&quot;</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">&quot;no-dupe-class-members&quot;</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">&quot;no-empty-pattern&quot;</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">&quot;no-new-symbol&quot;</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">&quot;no-self-assign&quot;</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">&quot;no-this-before-super&quot;</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">&quot;no-unexpected-multiline&quot;</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">&quot;no-unused-labels&quot;</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">&quot;constructor-super&quot;</span>: <span class="hljs-number">0</span>
    }
}
</code></pre><h2 id="scope-analysis-changes-7">Scope Analysis Changes</h2><p>We found some bugs in our scope analysis that needed to be addressed. Specifically, we were not properly accounting for global variables in all the ways they are defined.</p><p>Originally, <code>Variable</code> objects and <code>Reference</code> objects refer each other:</p><ul><li><code>Variable#references</code> property is an array of <code>Reference</code> objects which are referencing the variable.</li><li><code>Reference#resolved</code> property is a <code>Variable</code> object which are referenced.</li></ul><p>But until 1.x, the following variables and references had the wrong value (empty) in those properties:</p><ul><li><code>var</code> declarations in the global.</li><li><code>function</code> declarations in the global.</li><li>Variables defined in config files.</li><li>Variables defined in <code>/* global */</code> comments.</li></ul><p>Now, those variables and references have correct values in these properties.</p><p><code>Scope#through</code> property has references where <code>Reference#resolved</code> is <code>null</code>. So as a result of this change, the value of <code>Scope#through</code> property was changed also.</p><p><strong>To address:</strong> If you are using <code>Scope#through</code> to find references of a built-in global variable, you need to make several changes.</p><p>For example, this is how you might locate the <code>window</code> global variable in 1.x:</p><pre class="hljs highlight-js"><code><span class="hljs-keyword">var</span> globalScope = context.getScope();
globalScope.through.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">reference</span>) </span>{
    <span class="hljs-keyword">if</span> (reference.identifier.name === <span class="hljs-string">&quot;window&quot;</span>) {
        checkForWindow(reference);
    }
});
</code></pre><p>This was a roundabout way to find the variable because it was added after the fact by ESLint. The <code>window</code> variable was in <code>Scope#through</code> because the definition couldn't be found.</p><p>In 2.0.0, <code>window</code> is no longer located in <code>Scope#through</code> because we have added back the correct declaration. That means you can reference the <code>window</code> object (or any other global object) directly. So the previous example would change to this:</p><pre class="hljs highlight-js"><code><span class="hljs-keyword">var</span> globalScope = context.getScope();
<span class="hljs-keyword">var</span> variable = globalScope.set.get(<span class="hljs-string">&quot;window&quot;</span>);
<span class="hljs-keyword">if</span> (variable) {
    variable.references.forEach(checkForWindow);
}
</code></pre><p>Further Reading: https://estools.github.io/escope/</p><h2 id="default-changes-when-using-eslintrecommended-7">Default Changes When Using <code>eslint:recommended</code></h2><p>This will affect you if you are extending from <code>eslint:recommended</code>, and are enabling <a href="../rules/no-multiple-empty-lines"><code>no-multiple-empty-lines</code></a> or <a href="../rules/func-style"><code>func-style</code></a> with only a severity, such as:</p><pre class="hljs highlight-json"><code>{
    <span class="hljs-attr">&quot;extends&quot;</span>: <span class="hljs-string">&quot;eslint:recommended&quot;</span>,
    <span class="hljs-attr">&quot;rules&quot;</span>: {
        <span class="hljs-attr">&quot;no-multiple-empty-lines&quot;</span>: <span class="hljs-number">2</span>,
        <span class="hljs-attr">&quot;func-style&quot;</span>: <span class="hljs-number">2</span>
    }
}
</code></pre><p>The rule <code>no-multiple-empty-lines</code> has no default exceptions, but in ESLint <code>1.x</code>, a default from <code>eslint:recommended</code> was applied such that a maximum of two empty lines would be permitted.</p><p>The rule <code>func-style</code> has a default configuration of <code>&quot;expression&quot;</code>, but in ESLint <code>1.x</code>, <code>eslint:recommended</code> defaulted it to <code>&quot;declaration&quot;</code>.</p><p>ESLint 2.0.0 removes these conflicting defaults, and so you may begin seeing linting errors related to these rules.</p><p><strong>To address:</strong> If you would like to maintain the previous behavior, update your configuration for <code>no-multiple-empty-lines</code> by adding <code>{&quot;max&quot;: 2}</code>, and change <code>func-style</code> to <code>&quot;declaration&quot;</code>. For example:</p><pre class="hljs highlight-json"><code>{
    <span class="hljs-attr">&quot;extends&quot;</span>: <span class="hljs-string">&quot;eslint:recommended&quot;</span>,
    <span class="hljs-attr">&quot;rules&quot;</span>: {
        <span class="hljs-attr">&quot;no-multiple-empty-lines&quot;</span>: [<span class="hljs-number">2</span>, {<span class="hljs-attr">&quot;max&quot;</span>: <span class="hljs-number">2</span>}],
        <span class="hljs-attr">&quot;func-style&quot;</span>: [<span class="hljs-number">2</span>, <span class="hljs-string">&quot;declaration&quot;</span>]
    }
}
</code></pre><h2 id="sourcecode-constructor-node-api-changes-7">SourceCode constructor (Node API) changes</h2><p><code>SourceCode</code> constructor got to handle Unicode BOM. If the first argument <code>text</code> has BOM, <code>SourceCode</code> constructor sets <code>true</code> to <code>this.hasBOM</code> and strips BOM from the text.</p><pre class="hljs highlight-js"><code><span class="hljs-keyword">var</span> SourceCode = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;eslint&quot;</span>).SourceCode;

<span class="hljs-keyword">var</span> code = <span class="hljs-keyword">new</span> SourceCode(<span class="hljs-string">&quot;\uFEFFvar foo = bar;&quot;</span>, ast);

assert(code.hasBOM === <span class="hljs-literal">true</span>);
assert(code.text === <span class="hljs-string">&quot;var foo = bar;&quot;</span>);
</code></pre><p>So the second argument <code>ast</code> also should be parsed from stripped text.</p><p><strong>To address:</strong> If you are using <code>SourceCode</code> constructor in your code, please parse the source code after it stripped BOM:</p><pre class="hljs highlight-js"><code><span class="hljs-keyword">var</span> ast = yourParser.parse(text.replace(<span class="hljs-regexp">/^\uFEFF/</span>, <span class="hljs-string">&quot;&quot;</span>), options);
<span class="hljs-keyword">var</span> sourceCode = <span class="hljs-keyword">new</span> SourceCode(text, ast);
</code></pre><h2 id="rule-changes-8">Rule Changes</h2><ul><li><a href="../rules/strict"><code>strict</code></a> - defaults to <code>&quot;safe&quot;</code> (previous default was <code>&quot;function&quot;</code>)</li></ul><h2 id="plugins-no-longer-have-default-configurations-7">Plugins No Longer Have Default Configurations</h2><p>Prior to v2.0.0, plugins could specify a <code>rulesConfig</code> for the plugin. The <code>rulesConfig</code> would automatically be applied whenever someone uses the plugin, which is the opposite of what ESLint does in every other situation (where nothing is on by default). To bring plugins behavior in line, we have removed support for <code>rulesConfig</code> in plugins.</p><p><strong>To address:</strong> If you are using a plugin in your configuration file, you will need to manually enable the plugin rules in the configuration file.</p></article></main><hr><div class="container"><footer><ul class="list-inline"><li><a href="https://github.com/eslint/eslint/edit/master/docs/user-guide/migrating-to-2.0.0.md">Edit this page</a></li><li><a href="https://groups.google.com/group/eslint">Mailing List</a></li><li><a href="https://github.com/eslint/eslint">GitHub</a></li><li><a href="https://twitter.com/geteslint">Twitter</a></li><li><a href="/chat">Chat Room</a></li><li>Copyright OpenJS Foundation and other contributors, <a href="https://openjsf.org/">https://openjsf.org/</a></li></ul></footer></div><script src="/assets/js/main.js"></script></body></html>