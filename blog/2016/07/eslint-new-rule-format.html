<!doctype html><html lang="en" class="no-js"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="keywords" content="JavaScript, Linter, Linting, Pluggable, Configurable, Code Quality"><meta name="description" content="A pluggable and configurable linter tool for identifying and reporting on patterns in JavaScript. Maintain your code quality with ease."><meta name="theme-color" content="#463fd4"><meta property="og:locale" content="en_US"><meta property="og:site_name" content="ESLint - Pluggable JavaScript linter"><meta property="og:title" content="ESLint's New Rule Format"><meta property="og:url" content="/blog/2016/07/eslint-new-rule-format"><meta property="og:image" content="https://eslint.org/assets/img/favicon.512x512.png"><meta name="twitter:site" content="@geteslint"><meta name="twitter:title" content="ESLint's New Rule Format"><meta name="twitter:description" content="A pluggable and configurable linter tool for identifying and reporting on patterns in JavaScript. Maintain your code quality with ease."><meta name="twitter:url" content="/blog/2016/07/eslint-new-rule-format"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://eslint.org/assets/img/favicon.512x512.png"><title>ESLint's New Rule Format - ESLint - Pluggable JavaScript linter</title><link rel="preconnect" href="https://www.google-analytics.com"><link rel="canonical" href="/blog/2016/07/eslint-new-rule-format"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600"><link rel="stylesheet" href="/assets/styles/main.css"><link rel="manifest" href="/manifest.json"><link rel="icon" href="/assets/img/favicon.512x512.png"><link rel="alternate" type="application/rss+xml" title="ESLint - Pluggable JavaScript linter" href="/feed.xml"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"></head><body><input type="checkbox" id="eslint-toggle-search" class="eslint-toggle-search-checkbox"><header class="navbar navbar-default navbar-demo navbar-fixed-top eslint-nav" id="top" role="banner"><div class="container"><a href="/" class="navbar-brand"><img alt="ESLint" src="/assets/img/logo.svg" itemprop="image">ESLint</a><div class="eslint-navbar-toggles"><button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#eslint-navbar" aria-controls="eslint-navbar" aria-expanded="false"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <label for="eslint-toggle-search" class="navbar-toggle eslint-toggle-search-open"><span class="sr-only">Open search</span> <span class="glyphicon glyphicon-search" aria-hidden="true"></span></label></div><nav id="eslint-navbar" class="collapse navbar-collapse eslint-navbar"><ul class="nav navbar-nav navbar-right"><li class="dropdown"><a href="/docs/user-guide" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">User guide<span class="caret"></span></a><ul class="dropdown-menu" role="menu"><li><a href="/docs/user-guide/getting-started">Getting Started</a></li><li><a href="/docs/user-guide/configuring">Configuring ESLint</a></li><li><a href="/docs/user-guide/command-line-interface">Command Line Interface</a></li><li><a href="/docs/rules">Rules</a></li><li><a href="/docs/user-guide/formatters">Formatters</a></li><li><a href="/docs/user-guide/integrations">Integrations</a></li><li class="divider"></li><li><a href="/docs/user-guide/migrating-to-7.0.0">Migrating to v7.0.0</a></li><li><a href="/docs/user-guide/migrating-to-6.0.0">Migrating to v6.0.0</a></li><li><a href="/docs/user-guide/migrating-to-5.0.0">Migrating to v5.0.0</a></li><li><a href="/docs/user-guide/migrating-to-4.0.0">Migrating to v4.0.0</a></li><li><a href="/docs/user-guide/migrating-to-3.0.0">Migrating to v3.0.0</a></li><li><a href="/docs/user-guide/migrating-to-2.0.0">Migrating to v2.0.0</a></li><li><a href="/docs/user-guide/migrating-to-1.0.0">Migrating to v1.0.0</a></li><li><a href="/docs/user-guide/migrating-from-jscs">Migrating from JSCS</a></li></ul></li><li class="dropdown"><a href="/docs/developer-guide" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Developer guide<span class="caret"></span></a><ul class="dropdown-menu" role="menu"><li><a href="/docs/developer-guide/architecture">Architecture</a></li><li><a href="/docs/developer-guide/contributing">Contributing</a></li><li><a href="/docs/developer-guide/source-code">Get the Source Code</a></li><li><a href="/docs/developer-guide/development-environment">Set up a Development Environment</a></li><li><a href="/docs/developer-guide/unit-tests">Run the Unit Tests</a></li><li><a href="/docs/developer-guide/working-with-rules">Working with Rules</a></li><li><a href="/docs/developer-guide/working-with-plugins">Working with Plugins</a></li><li><a href="/docs/developer-guide/working-with-custom-formatters">Working with Custom Formatters</a></li><li><a href="/docs/developer-guide/working-with-custom-parsers">Working with Custom Parsers</a></li><li><a href="/docs/developer-guide/shareable-configs">Shareable Configs</a></li><li><a href="/docs/developer-guide/nodejs-api">Node.js API</a></li><li><a href="/docs/maintainer-guide">Maintainer guide</a></li></ul></li><li><a href="/blog">Blog</a></li><li><a href="/demo">Demo</a></li><li class="dropdown"><a href="/docs/about" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">About<span class="caret"></span></a><ul class="dropdown-menu" role="menu"><li><a href="/users">Who's Using ESLint?</a></li><li><a href="/team">About the Team</a></li><li><a href="/docs/about">About ESLint</a></li></ul></li></ul><label for="eslint-toggle-search" class="navbar-toggle eslint-toggle-search-open"><span class="sr-only">Open search</span> <span class="glyphicon glyphicon-search" aria-hidden="true"></span></label><div class="navbar-form navbar-right eslint-search" role="search"><div class="input-group"><label class="sr-only" aria-label="Search" for="eslint-search-input">Search</label><div class="eslint-search-input-wrapper"><input type="text" class="form-control" id="eslint-search-input" accesskey="s" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search the docs..."> <label for="eslint-toggle-search" class="eslint-toggle-search-close"><span class="sr-only">Close search</span> <span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span></label></div></div></div></nav></div></header><div class="container"><div class="row"><div class="col-md-8"><main class="blog"><article><h1>ESLint's New Rule Format</h1><p>When ESLint began three years ago, it was a much smaller project with a much smaller user base. The project has grown a lot since that time and, in order to help the project scale, we've invested a lot of time into automating as many processes as possible. For instance, our release process is now completely automated, including deciding what the next version number should be based on the commits going into the release. When we looked over the processes that are still manual, there was one that jumped out as a big pain point: keeping rule documentation in sync. This wasn't a big problem when there were a dozen rules, but with over 200, this repeated process has become a big time commitment.</p><p>So, for the first time, we've decided to change the rule format for ESLint. The change is fairly small and we're hoping you'll agree that it makes a lot of sense. The overall design goal was allow for meta data to be stored directly on the rules themselves. Doing so allows us to have one source of truth for rule-related meta data and then generate documentation such as our rules index page and documentation pages for individual rules based off of that meta data. That means we'll no longer have to manually update multiple documentation pages whenever a rule becomes fixable or is added to <code>eslint:recommended</code>.</p><p>We went through a lot of design sessions to come up with a new rule format that would be easy for existing rule developers to work with -- making the new format familiar with as few changes as possible</p><h2>Format Comparison</h2><p>To start, consider what rules have traditionally looked like in ESLint:</p><pre class="hljs highlight-js"><code><span class="hljs-comment">// the rule creator function</span>
<span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">context</span>) </span>{
    <span class="hljs-comment">// code</span>
};

<span class="hljs-comment">// the rule options schema</span>
<span class="hljs-built_in">module</span>.exports.schema = [];
</code></pre><p>The two key parts of this format are the rule creator function and the rule options schema. As might be obvious, we started without rule options schemas and added them later. That led to the someone awkward inclusion of the <code>schema</code> object on <code>module.exports</code>. We never really liked this setup because it seemed like the schema should be defined before the creator function, but we didn't have much of an option without changing the whole rule format (which we didn't want to do at that point).</p><p>The new rule format should look a bit similar:</p><pre class="hljs highlight-js"><code><span class="hljs-built_in">module</span>.exports = {

    <span class="hljs-attr">meta</span>: {

        <span class="hljs-comment">// special key used for doc-only information</span>
        <span class="hljs-attr">docs</span>: {},

        <span class="hljs-comment">// indicates if the rule is fixable</span>
        <span class="hljs-attr">fixable</span>: <span class="hljs-string">"code"</span>,

        <span class="hljs-comment">// the rule options schema</span>
        <span class="hljs-attr">schema</span>: []
    },

    <span class="hljs-comment">// the rule creator function</span>
    <span class="hljs-attr">create</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">context</span>) </span>{
        <span class="hljs-comment">// code</span>
    }
};
</code></pre><p>The rule creator function and the rule options schema are still present in this new format. The big difference is that an object is exported and the rule creator function is a method called <code>create()</code> on that object. The contents of <code>create()</code> are the same as the contents of the creator function in the old format -- you don't have to do anything differently, so you can just copy over all of your old code as-is.</p><p>The object also has a <code>meta</code> property that contains additional meta data for the rule, including the rule options schema. Additionally, there is a <code>docs</code> object that contains information used in our documentation generation and the <code>fixable</code> property, which is present only if a rule is fixable (knowing that a rule is fixable ahead of time allows us to optimize the autofixing process as well as call this out in documentation).</p><p>You can read more about the new format in <a href="https://eslint.org/docs/developer-guide/working-with-rules">Working with Rules</a>.</p><h2>Automatic Transformation</h2><p>All of the ESLint core rules have now been converted over into the new format, and we recommend that plugin authors update their custom rules to the new format as well. We used a tool that is now available called <code>eslint-transforms</code> to automatically convert our old-style rules into the new format. You can install the tool from npm:</p><pre class="hljs highlight-"><code>$ npm install -g eslint-transforms
</code></pre><p>You can then transform your rules like this:</p><pre class="hljs highlight-"><code>$ eslint-transforms new-rule-format path/to/rules/ rule.js
</code></pre><p>You can pass in as many files or directories as necessary to transform. See the <a href="https://github.com/eslint/eslint-transforms">repo</a> for more information.</p><footer><p class="text-center">ESLint depends on the support of individuals and companies. <a class="btn btn-default" href="https://opencollective.com/eslint">Become a Sponsor</a></p></footer></article></main></div><div class="col-md-4 hidden-xs hidden-sm"><h2>Recent Posts</h2><ul class="posts"><li><a href="/blog/2020/05/eslint-v7.1.0-released">ESLint v7.1.0 released</a><br><span class="date">22 May 2020</span></li><li><a href="/blog/2020/05/changes-to-rules-policies">Changes to our rules policies</a><br><span class="date">22 May 2020</span></li><li><a href="/blog/2020/05/eslint-v7.0.0-released">ESLint v7.0.0 released</a><br><span class="date">8 May 2020</span></li><li><a href="/blog/2020/04/eslint-v7.0.0-rc.0-released">ESLint v7.0.0-rc.0 released</a><br><span class="date">24 April 2020</span></li><li><a href="/blog/2020/03/eslint-v7.0.0-alpha.3-released">ESLint v7.0.0-alpha.3 released</a><br><span class="date">27 March 2020</span></li><li><a href="/blog/2020/02/eslint-v7.0.0-alpha.2-released">ESLint v7.0.0-alpha.2 released</a><br><span class="date">28 February 2020</span></li><li><a href="/blog/2020/02/whats-coming-in-eslint-7.0.0">What's coming in ESLint v7.0.0</a><br><span class="date">20 February 2020</span></li><li><a href="/blog/2020/02/eslint-v7.0.0-alpha.1-released">ESLint v7.0.0-alpha.1 released</a><br><span class="date">14 February 2020</span></li><li><a href="/blog/2020/01/eslint-v7.0.0-alpha.0-released">ESLint v7.0.0-alpha.0 released</a><br><span class="date">17 January 2020</span></li><li><a href="/blog/2019/12/eslint-v6.8.0-released">ESLint v6.8.0 released</a><br><span class="date">20 December 2019</span></li><li><a href="/blog/2019/11/eslint-v6.7.2-released">ESLint v6.7.2 released</a><br><span class="date">30 November 2019</span></li><li><a href="/blog/2019/11/eslint-v6.7.1-released">ESLint v6.7.1 released</a><br><span class="date">24 November 2019</span></li><li><a href="/blog/2019/11/eslint-v6.7.0-released">ESLint v6.7.0 released</a><br><span class="date">22 November 2019</span></li><li><a href="/blog/2019/11/funding-update">Funding ESLint's Future: November Update</a><br><span class="date">7 November 2019</span></li><li><a href="/blog/2019/10/eslint-v6.6.0-released">ESLint v6.6.0 released</a><br><span class="date">25 October 2019</span></li><li><a href="/blog/2019/09/eslint-v6.5.1-released">ESLint v6.5.1 released</a><br><span class="date">30 September 2019</span></li><li><a href="/blog/2019/09/eslint-v6.5.0-released">ESLint v6.5.0 released</a><br><span class="date">29 September 2019</span></li><li><a href="/blog/2019/09/eslint-v6.4.0-released">ESLint v6.4.0 released</a><br><span class="date">13 September 2019</span></li><li><a href="/blog/2019/09/indeed-donates-10000-to-eslint">Indeed donates $10,000 to ESLint</a><br><span class="date">9 September 2019</span></li><li><a href="/blog/2019/08/eslint-v6.3.0-released">ESLint v6.3.0 released</a><br><span class="date">30 August 2019</span></li><li><a href="/blog/2019/08/eslint-v6.2.2-released">ESLint v6.2.2 released</a><br><span class="date">23 August 2019</span></li><li><a href="/blog/2019/08/eslint-v6.2.1-released">ESLint v6.2.1 released</a><br><span class="date">20 August 2019</span></li><li><a href="/blog/2019/08/eslint-v6.2.0-released">ESLint v6.2.0 released</a><br><span class="date">18 August 2019</span></li><li><a href="/blog/2019/07/eslint-v6.1.0-released">ESLint v6.1.0 released</a><br><span class="date">20 July 2019</span></li><li><a href="/blog/2019/06/eslint-v6.0.1-released">ESLint v6.0.1 released</a><br><span class="date">24 June 2019</span></li></ul></div></div></div><hr><div class="container"><footer><ul class="list-inline"><li><a href="https://github.com/eslint/website/edit/master/./_posts/2016-07-01-eslint-new-rule-format.md">Edit this page</a></li><li><a href="https://groups.google.com/group/eslint">Mailing List</a></li><li><a href="https://github.com/eslint/eslint">GitHub</a></li><li><a href="https://twitter.com/geteslint">Twitter</a></li><li><a href="/chat">Chat Room</a></li><li>Copyright OpenJS Foundation and other contributors, <a href="https://openjsf.org/">https://openjsf.org/</a></li></ul></footer></div><script src="/assets/js/main.js"></script></body></html>