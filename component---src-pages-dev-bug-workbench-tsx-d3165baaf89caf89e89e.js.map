{"version":3,"sources":["webpack:///./src/components/workbench/plugins/assertions.ts","webpack:///./src/components/workbench/plugins/markdown.ts","webpack:///./src/pages/dev/bug-workbench.tsx","webpack:///./src/components/workbench/plugins/docs.ts","webpack:///./src/components/workbench/plugins/about.ts","webpack:///./src/components/workbench/plugins/debug.ts"],"names":["workbenchAssertionsPlugin","i","utils","pluginContainer","id","displayName","didMount","sandbox","container","noResults","err","ds","createDesignSystem","clear","title","p","subtitle","message","stack","code","getResults","results","_dtsMap","emitRequested","queries","length","errors","queriesAsDiags","map","t","msg","kind","text","completions","all","c","name","join","prefixed","filter","startsWith","completionsPrefix","category","file","undefined","messageText","start","listDiags","getModel","errorsAsDiags","renderedMessage","workbenchMarkdownPlugin","render","url","document","location","href","replace","trim","_sandbox","getText","Play","props","createInternational","useIntl","dtsMap","Map","useEffect","window","react","React","reactDOM","ReactDOM","getLoaderScript","createElement","src","withPrefix","async","onload","params","URLSearchParams","search","tsVersion","get","re","global","require","config","paths","vs","ignoreDuplicateModules","main","tsWorker","playground","a","ts","getElementById","parentNode","removeChild","console","error","style","display","height","Math","max","innerHeight","round","getClientRects","top","createTypeScriptSandbox","localStorage","getItem","compilerOptions","domID","useJavaScript","acquireTypes","supportTwoslashCompilerOptions","sandboxEnv","playgroundConfig","lang","prefix","supportCustomPlugins","plugins","workbenchAboutPlugin","workbenchReferencePlugin","workbenchDebugPlugin","playgroundEnv","setupPlayground","createUtils","updateDTSEnv","opts","createDefaultMapFromCDN","lzstring","then","defaultMap","runTwoslash","setDidUpdateCompilerSettings","getCompilerOptions","debouncedTwoslash","debounce","isTSErrorsEnabled","languageServiceDefaults","getDiagnosticsOptions","noSemanticValidation","shouldBeEnabled","includes","setDiagnosticsOptions","editor","onDidChangeModelContent","currentTwoslashResults","currentDTSMap","isError","e","setDidUpdateTab","newPlugin","ext","filepath","split","twoslash","twoslasher","defaultOptions","noStaticSemanticInfo","emit","noErrorValidation","tsModule","lzstringModule","fsMap","currentPlugin","getCurrentPlugin","assertionCount","setNotifications","log","documentElement","classList","contains","monaco","setTheme","focus","layout","body","appendChild","description","className","paddingTop","marginTop","marginBottom","paddingBottom","role","aria-label","locale","examples","issue","blurb","reference","content","tsconfigOptions","options","sort","l","r","localeCompare","forEach","opt","categoryID","oneliner","button","textContent","onclick","setText","tabContainer","tabBar","createTabBar","tabs","tab","createTabButton","push","remove","add","intro","why","how","cta","workbenchHelpPlugin","extension","staticQuickInfos","JSON","stringify","files","Array","from","keys","reverse","dtsFiles","filename"],"mappings":"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","file":"component---src-pages-dev-bug-workbench-tsx-d3165baaf89caf89e89e.js","sourcesContent":["type TwoSlashReturns = import(\"@typescript/twoslash\").TwoSlashReturn\n\nexport const workbenchAssertionsPlugin: import(\"../../../../static/js/playground\").PluginFactory = (\n  i,\n  utils\n) => {\n  let pluginContainer: HTMLDivElement\n  return {\n    id: \"assertions\",\n    displayName: \"Asserts\",\n    didMount: (sandbox, container) => {\n      pluginContainer = container\n    },\n    noResults: (sandbox, err) => {\n      const ds = utils.createDesignSystem(pluginContainer)\n      ds.clear()\n\n      ds.title(\"Exception Raised\")\n      ds.p(\n        \"This could be a successful repro of a crashing compiler bug, or potentially an issue in Twoslash.\"\n      )\n\n      ds.subtitle(\"Error:\")\n      if (err.message) ds.p(err.message)\n      if (err.stack) ds.code(err.stack)\n    },\n    getResults: (\n      sandbox: any,\n      results: TwoSlashReturns,\n      _dtsMap: Map<string, string>,\n      emitRequested: boolean\n    ) => {\n      const ds = utils.createDesignSystem(pluginContainer)\n      ds.clear()\n\n      const anyOutput =\n        results.queries.length > 0 || emitRequested || results.errors.length > 0\n\n      if (!anyOutput) {\n        ds.title(\"No Assertions\")\n        ds.p(\n          \"Assuming that this repro is for code which compiles but should not.\"\n        )\n      } else {\n        ds.title(\"Assertions Found\")\n      }\n\n      const queriesAsDiags = results.queries.map(t => {\n        let msg = \"\"\n        switch (t.kind) {\n          case \"query\": {\n            msg = t.text || \"No text found for query\"\n            break\n          }\n          case \"completions\": {\n            if (!t.completions) {\n              msg = \"Could not get completions\"\n            } else {\n              const all = t.completions.map(c => c.name).join(\", \")\n              // prettier-ignore\n              const prefixed = t.completions.filter(c => c.name.startsWith(t.completionsPrefix || \"____\")).map(c => c.name).join(\", \")\n              const prefix = t.completionsPrefix?.length\n                ? `Filtered Completions: ${prefixed}.\\n\\n`\n                : \"\"\n              msg = `${prefix}All: ${all}.`\n            }\n          }\n        }\n\n        const diag: import(\"typescript\").DiagnosticRelatedInformation = {\n          category: 3, // ts.DiagnosticCategory.Message,\n          code: 0,\n          file: undefined,\n          length: 0,\n          messageText: msg || \"-\",\n          start: 0,\n        }\n        return diag\n      })\n      if (queriesAsDiags.length) {\n        ds.subtitle(\"Queries in Code\")\n        ds.listDiags(sandbox.getModel(), queriesAsDiags)\n      }\n\n      const errorsAsDiags = results.errors.map(t => {\n        const diag: import(\"typescript\").DiagnosticRelatedInformation = {\n          category: 1, // ts.DiagnosticCategory.Message,\n          code: t.code,\n          file: undefined,\n          length: 0,\n          messageText: t.renderedMessage,\n          start: 0,\n        }\n        return diag\n      })\n\n      if (errorsAsDiags.length) {\n        ds.subtitle(\"Compiler Errors\")\n        ds.listDiags(sandbox.getModel(), errorsAsDiags)\n      }\n\n      if (emitRequested) {\n        ds.subtitle(\"Output\")\n        ds.code(results.code)\n      }\n    },\n  }\n}\n","type PluginFactory = import(\"../../../../static/js/playground\").PluginFactory\ntype PluginUtils = import(\"../../../../static/js/playground\").PluginUtils\n\nexport const workbenchMarkdownPlugin: PluginFactory = (i, utils) => {\n  let pluginContainer: HTMLDivElement\n\n  const render = (\n    container: HTMLElement,\n    ds: ReturnType<PluginUtils[\"createDesignSystem\"]>,\n    code: string\n  ) => {\n    ds.subtitle(\"Markdown for issue\")\n    const url = document && document.location ? document.location.href : \"\"\n\n    ds.code(\n      `\n\\`\\`\\`ts repro\n${code.replace(/</g, \"&lt;\")}\n\\`\\`\\`\n\n[Workbench Repro](${url})\n`.trim()\n    )\n    ds.p(\n      \"Congrats! These repros make it much easier for us to keep track of bugs on the TypeScript team. You can copy & paste this into an issue or comment on the TypeScript repo to have it get hooked up.\"\n    )\n  }\n\n  return {\n    id: \"md\",\n    displayName: \"Export\",\n    didMount: (_sandbox, container) => {\n      pluginContainer = container\n    },\n    noResults: (sandbox: any) => {\n      const ds = utils.createDesignSystem(pluginContainer)\n      ds.clear()\n      render(pluginContainer, ds, sandbox.getText())\n    },\n    getResults: (sandbox: any) => {\n      const ds = utils.createDesignSystem(pluginContainer)\n      ds.clear()\n      render(pluginContainer, ds, sandbox.getText())\n    },\n  }\n}\n","import React, { useEffect } from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Layout } from \"../../components/layout\"\nimport { withPrefix, graphql } from \"gatsby\"\nimport { debounce } from 'ts-debounce';\n\nimport \"../../templates/play.scss\"\n\nimport { useIntl } from \"react-intl\";\nimport { createInternational } from \"../../lib/createInternational\"\nimport { headCopy } from \"../../copy/en/head-seo\"\nimport { playCopy } from \"../../copy/en/playground\"\n\nimport { Intl } from \"../../components/Intl\"\n\nimport { workbenchHelpPlugin as workbenchAboutPlugin } from \"../../components/workbench/plugins/about\"\nimport { workbenchDebugPlugin } from \"../../components/workbench/plugins/debug\"\nimport { workbenchAssertionsPlugin } from \"../../components/workbench/plugins/assertions\"\nimport { workbenchMarkdownPlugin } from \"../../components/workbench/plugins/markdown\"\nimport { workbenchReferencePlugin } from \"../../components/workbench/plugins/docs\"\nimport { createDefaultMapFromCDN } from \"@typescript/vfs\"\nimport { twoslasher, TwoSlashReturn } from \"@typescript/twoslash\"\n\ntype TwoSlashReturns = import(\"@typescript/twoslash\").TwoSlashReturn\n\ntype Props = {}\n\nconst Play: React.FC<Props> = (props) => {\n  const i = createInternational<typeof headCopy & typeof playCopy>(useIntl())\n  let dtsMap: Map<string, string> = new Map()\n\n  useEffect(() => {\n    if (\"playgroundLoaded\" in window) return\n    window[\"playgroundLoaded\"] = true\n\n    // @ts-ignore - for React-based plugins\n    window.react = React\n    // @ts-ignore - for React-based plugins\n    window.reactDOM = ReactDOM\n    // @ts-ignore - so that plugins etc can use local functions\n    window.i = i\n\n    const getLoaderScript = document.createElement('script');\n    getLoaderScript.src = withPrefix(\"/js/vs.loader.js\");\n    getLoaderScript.async = true;\n    getLoaderScript.onload = () => {\n      const params = new URLSearchParams(location.search)\n      // nothing || Nightly -> next || original ts param\n      const supportedVersion = !params.get(\"ts\") ? undefined : params.get(\"ts\") === \"Nightly\" ? \"next\" : params.get(\"ts\")\n      const tsVersion = supportedVersion || \"next\"\n\n      // @ts-ignore\n      const re: any = global.require\n      re.config({\n        paths: {\n          vs: `https://typescript.azureedge.net/cdn/${tsVersion}/monaco/min/vs`,\n          \"typescript-sandbox\": withPrefix('/js/sandbox'),\n          \"typescript-playground\": withPrefix('/js/playground'),\n          \"unpkg\": \"https://unpkg.com/\",\n          \"local\": \"http://localhost:5000\"\n        },\n        ignoreDuplicateModules: [\"vs/editor/editor.main\"],\n      });\n\n      re([\"vs/editor/editor.main\", \"vs/language/typescript/tsWorker\", \"typescript-sandbox/index\", \"typescript-playground/index\"], async (main: typeof import(\"monaco-editor\"), tsWorker: any, sandbox: typeof import(\"typescript-sandbox\"), playground: typeof import(\"typescript-playground\")) => {\n        // Importing \"vs/language/typescript/tsWorker\" will set ts as a global\n        const ts = (global as any).ts\n        const isOK = main && ts && sandbox && playground\n        if (isOK) {\n          document.getElementById(\"loader\")!.parentNode?.removeChild(document.getElementById(\"loader\")!)\n        } else {\n          console.error(\"Errr\")\n          console.error(\"main\", !!main, \"ts\", !!ts, \"sandbox\", !!sandbox, \"playground\", !!playground)\n        }\n\n        // Set the height of monaco to be either your window height or 600px - whichever is smallest\n        const container = document.getElementById(\"playground-container\")!\n        container.style.display = \"flex\"\n        const height = Math.max(window.innerHeight, 600)\n        container.style.height = `${height - Math.round(container.getClientRects()[0].top) - 18}px`\n\n        // Create the sandbox\n        const sandboxEnv = await sandbox.createTypeScriptSandbox({\n          text: localStorage.getItem('sandbox-history') || i(\"play_default_code_sample\"),\n          compilerOptions: {},\n          domID: \"monaco-editor-embed\",\n          useJavaScript: !!params.get(\"useJavaScript\"),\n          acquireTypes: !localStorage.getItem(\"disable-ata\"),\n          supportTwoslashCompilerOptions: true\n        }, main, ts)\n\n        const playgroundConfig = {\n          lang: \"en\",\n          prefix: withPrefix(\"/\"),\n          supportCustomPlugins: false,\n          plugins: [\n            workbenchAboutPlugin,\n            workbenchReferencePlugin,\n            workbenchAssertionsPlugin,\n            workbenchMarkdownPlugin,\n            workbenchDebugPlugin\n          ]\n        }\n\n        const playgroundEnv = playground.setupPlayground(sandboxEnv, main, playgroundConfig, i as any, React)\n\n        const utils = playgroundEnv.createUtils(sandbox, React)\n\n        const updateDTSEnv = (opts) => {\n          createDefaultMapFromCDN(opts, tsVersion, true, ts, sandboxEnv.lzstring as any).then((defaultMap) => {\n            dtsMap = defaultMap\n            runTwoslash()\n          })\n        }\n\n        // When the compiler notices a twoslash compiler flag change, this will get triggered and reset the DTS map\n        sandboxEnv.setDidUpdateCompilerSettings(updateDTSEnv)\n        updateDTSEnv(sandboxEnv.getCompilerOptions())\n\n        const debouncedTwoslash = debounce(() => {\n          if (dtsMap) runTwoslash()\n\n          const isTSErrorsEnabled = !sandboxEnv.languageServiceDefaults.getDiagnosticsOptions().noSemanticValidation\n          const shouldBeEnabled = !sandboxEnv.getText().includes(\"// @filename\")\n          if (isTSErrorsEnabled !== shouldBeEnabled) {\n            // Turn off the suggestions for multi-file reports\n            sandboxEnv.languageServiceDefaults.setDiagnosticsOptions({ noSemanticValidation: !shouldBeEnabled })\n          }\n        }, 1000)\n\n        sandboxEnv.editor.onDidChangeModelContent(debouncedTwoslash)\n\n        let currentTwoslashResults: Error | TwoSlashReturn | undefined = undefined\n        let currentDTSMap: Map<string, string> | undefined = undefined\n\n        let isError = (e: any) => e && e.stack && e.message;\n\n        playgroundEnv.setDidUpdateTab((newPlugin) => {\n          if (!isError(currentTwoslashResults) && \"getResults\" in newPlugin) {\n            // @ts-ignore\n            newPlugin.getResults(sandboxEnv, currentTwoslashResults, currentDTSMap, sandboxEnv.getText().includes(\"// @showEmit\"))\n          } else if (\"noResults\" in newPlugin) {\n            // @ts-ignore\n            newPlugin.noResults(currentTwoslashResults, currentTwoslashResults)\n          }\n        })\n\n        const runTwoslash = () => {\n          const code = sandboxEnv.getText()\n          if (!code) return\n\n          try {\n            currentDTSMap = new Map(dtsMap)\n            const twoslashConfig = { noStaticSemanticInfo: true, emit: true, noErrorValidation: true } as const\n            const ext = sandboxEnv.filepath.split(\".\")[1]\n            const twoslash: TwoSlashReturns = twoslasher(code, ext, {\n              defaultOptions: twoslashConfig,\n              tsModule: ts,\n              lzstringModule: sandboxEnv.lzstring as any,\n              fsMap: currentDTSMap\n            })\n            currentTwoslashResults = twoslash\n\n            const currentPlugin = playgroundEnv.getCurrentPlugin()\n            if (\"getResults\" in currentPlugin) {\n              // @ts-ignore\n              currentPlugin.getResults(sandboxEnv, twoslash, currentDTSMap, code.includes(\"// @showEmit\"))\n            }\n\n            const assertionCount = twoslash.queries.length + (code.includes(\"// @showEmit\") ? 1 : 0) + twoslash.errors.length\n            utils.setNotifications(\"assertions\", assertionCount)\n\n          } catch (error) {\n            const err = error as Error\n            console.log(err)\n            currentTwoslashResults = err\n            const currentPlugin = playgroundEnv.getCurrentPlugin()\n            if (\"noResults\" in currentPlugin) {\n              // @ts-ignore\n              currentPlugin.noResults(sandboxEnv, err)\n            }\n            utils.setNotifications(\"assertions\", 1)\n          }\n        }\n\n        // Dark mode faff\n        const darkModeEnabled = document.documentElement.classList.contains(\"dark-theme\")\n        if (darkModeEnabled) {\n          sandboxEnv.monaco.editor.setTheme(\"sandbox-dark\");\n        }\n\n        sandboxEnv.editor.focus()\n        sandboxEnv.editor.layout()\n      });\n    }\n\n    document.body.appendChild(getLoaderScript);\n  }, [])\n\n\n  return (\n    <Layout title=\"Bug Workbench\" description=\"Create reproductions of issues with TypeScript\" lang=\"en\">\n      {/** This is the top nav, which is outside of the editor  */}\n      <nav className=\"navbar-sub\">\n        <ul className=\"nav\">\n          <li className=\"name hide-small\"><span>Bug Workbench</span></li>\n        </ul>\n\n        <ul className=\"nav navbar-nav navbar-right hidden-xs\"></ul>\n      </nav>\n\n      <div className=\"raised\" style={{ paddingTop: \"0\", marginTop: \"0\", marginBottom: \"3rem\", paddingBottom: \"1.5rem\" }}>\n        <div id=\"loader\">\n          <div className=\"lds-grid\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\n          <p id=\"loading-message\" role=\"status\">{i(\"play_downloading_typescript\")}</p>\n        </div>\n        <div id=\"playground-container\" style={{ display: \"none\" }}>\n          <div id=\"editor-container\">\n            <div id=\"editor-toolbar\" className=\"navbar-sub\" >\n\n              <ul>\n                <li id=\"versions\" className=\"dropdown\">\n                  <a href=\"#\">{i(\"play_downloading_version\")}... <span className=\"caret\" /></a>\n                  <ul className=\"dropdown-menu versions\"></ul>\n                </li>\n                { /* <li><a id=\"run-button\" href=\"#\">{i(\"play_toolbar_run\")}</a></li> */}\n\n              </ul>\n              <ul className=\"right\">\n                <li><a id=\"sidebar-toggle\" aria-label=\"Hide Sidebar\" href=\"#\">&#x21E5;</a></li>\n              </ul>\n            </div>\n            { /** This is the div which monaco is added into  **/}\n            <div id=\"monaco-editor-embed\" />\n          </div>\n        </div>\n      </div>\n    </Layout>\n  )\n}\n\n\nexport default (props: Props) => <Intl locale=\"en\"><Play {...props} /></Intl>\n","type Sandbox = import(\"../../../../static/js/sandbox\").Sandbox\ntype Factory = import(\"../../../../static/js/playground\").PluginFactory\ntype PluginUtils = import(\"../../../../static/js/playground\").PluginUtils\n\nimport tsconfigOptions from \"../../../../../tsconfig-reference/output/en-summary.json\"\n\nconst examples = [\n  {\n    issue: 37231,\n    name: \"Incorrect Type Inference Example\",\n    blurb:\n      \"Using <code>// ^?</code> to highlight how inference gives different results at different locations\",\n    code: `// @noImplicitAny: false\n\ntype Entity = {\n  someDate: Date | null;\n} & ({ id: string; } | { id: number; })\n\ntype RowRendererMeta<TInput extends {}> = {\n  [key in keyof TInput]: { key: key; caption: string; formatter?: (value: TInput[key]) => string; };\n}\ntype RowRenderer<TInput extends {}> = RowRendererMeta<TInput>[keyof RowRendererMeta<TInput>];\n\nconst test: RowRenderer<Entity> = {\n  key: 'someDate',\n  caption: 'My Date',\n  formatter: (value) => value ? value.toString() : '-' // value: any\n//            ^?\n}\n\nconst thisIsNotTheIssue: Partial<RowRendererMeta<Entity>> = {\n  someDate: {\n    key: 'someDate',\n    caption: 'My Date',\n    formatter: (value) => value ? value.toString() : '-' // value: Date | null\n//              ^?\n  }\n}`,\n  },\n]\n\nconst reference: {\n  name: string\n  content: (\n    sandbox: Sandbox,\n    container: HTMLDivElement,\n    ds: ReturnType<PluginUtils[\"createDesignSystem\"]>\n  ) => void\n}[] = [\n  {\n    name: \"Compiler Options\",\n    content: (sandbox, container, ds) => {\n      ds.p(`\nYou can set compiler flags via <code>// @[option]</code> comments inside the sample.\n<ul>\n  <li>Booleans: <code>// @strict: true</code> or <code>// @strict: false</code>.<br/>You can omit <code>: true</code> to get the same behavior.</li>\n  <li>Strings: <code>// @target: ES2015</code></li>\n  <li>Numbers: <code>// @target: 4</code></li>\n  <li>Lists: <code>// @types: ['jest']</code></li>\n</ul>\n`)\n\n      ds.subtitle(\"Compiler Option Reference\")\n      tsconfigOptions.options\n        .sort((l, r) => l.id.localeCompare(r.id))\n        .forEach(opt => {\n          const skip = [\"Project_Files_0\", \"Watch_Options_999\"]\n          if (skip.includes(opt.categoryID)) return\n\n          ds.p(`<code>// @${opt.id}</code><br>${opt.oneliner}.`)\n        })\n    },\n  },\n  {\n    name: \"Multi File\",\n    content: (sandbox, container, ds) => {\n      ds.p(\n        \"The code file can be converted into multiple files behind the scenes. This is done by chopping the code sample whenever there is a <code>// @filename: [path]</code>.\"\n      )\n\n      ds.code(\n        `\n// @showEmit\n// @filename: index.ts\nimport {pi} from \"./utils\"\nconsole.log(pi)\n\n// @filename: utils.ts\nexport const pi = \"3.14\"\n`.trim()\n      )\n\n      const button = document.createElement(\"button\")\n      button.textContent = \"See an Example\"\n      button.onclick = () =>\n        sandbox.setText(\n          `\n// @filename: service.ts\nexport type Service = {\n  id: string\n  display: string\n}\n\n// @filename: app.ts\nimport type { Service } from \"./service\";\n//                            ^ - this error is OK\n\nconst myServices: Service[] = [\n  { id: \"launch\", display: \"Launch\" },\n  { id: \"lunch\", disply: \"Lunch\" },\n//               ^ - this error is real but hidden\n//                   you can see it in 'Assertions'\n]\n      `.trim()\n        )\n      container.appendChild(button)\n    },\n  },\n  {\n    name: \"Queries\",\n    content: (sandbox, container, ds) => {\n      ds.p(\n        \"Twoslash supports making queries for what the type is at a particular location of code. It also is a specially crafted comment. \"\n      )\n      ds.code(\n        `\nconst myExample = {\n  hello: \"world\"\n}\n\nmyExample.hello;\n//         ^?\n      `.trim()\n      )\n\n      ds.p(\n        \"You can use as many as you want of these, but you can only have one per line.\"\n      )\n      const button = document.createElement(\"button\")\n      button.textContent = \"See an Example\"\n      button.onclick = () =>\n        sandbox.setText(\n          `\nconst button = document.createElement(\"button\");\nbutton.textContent = \"See an Example\";\n\nbutton.onclick = () => {\n  console.log(\"Example has been clicked\");\n  button.disabled = true;\n// ^?\n}\n\ndocument.body.appendChild(button);\n//       ^?\n      `.trim()\n        )\n      container.appendChild(button)\n\n      ds.p(\n        \"The repro testing system will use these queries as an indicator of what has changed, so if you highlight a bug in inference then when it is fixed and the type has changed it will be raised.\"\n      )\n    },\n  },\n  {\n    name: \"Emitter\",\n    content: (sandbox, container, ds) => {\n      ds.p(\n        `\nThere are ways to have your test repro be about the output of running TypeScript. There are two comment types which can be used to highlight these files.\n<br/><br/><code>// @showEmit</code> is a shortcut for showing the <code>.js</code> file for a single file code sample:\n`.trim()\n      )\n      ds.code(\n        `\n// @showEmit\nexport const helloWorld: string = \"Hi\"\n`.trim()\n      )\n      ds.p(\n        `The long-form is <code>// @showEmittedFile: [filename]</code> which allows for showing any emitted file`\n      )\n      ds.code(\n        `\n// @declaration: true\n// @showEmit\n// @showEmittedFile: index.d.ts\n\nexport function getStringLength(value: string) {\n  return value.length\n}\n`.trim()\n      )\n      ds.p(\"Multi-file seems to be buggy ATM, but this should work eventually:\")\n      ds.code(\n        `\n// @showEmit\n// @showEmittedFile: b.js\n\n// @filename: a.ts\nexport const helloWorld: string = \"Hi\"\n\n// @filename: b.ts\nconst abc = \"\"\n`.trim()\n      )\n    },\n  },\n  {\n    name: \"Defaults\",\n    content: (sandbox, container, ds) => {\n      examples.forEach(e => {\n        ds.p(\n          \"The twoslash compiler only has a few changes from the default empty TSConfig \"\n        )\n        ds.code(`\n  const defaultCompilerOptions: CompilerOptions = {\n    strict: true,\n    target: ts.ScriptTarget.ES2016,\n    allowJs: true\n  }\n`)\n      })\n      ds.p(\n        \"You may need to undo <code>strict</code> for some samples, but the others shouldn't affect most code repros.\"\n      )\n    },\n  },\n  {\n    name: \"Examples\",\n    content: (sandbox, container, ds) => {\n      ds.p(\n        \"Note: this section is tricky to document... These bugs may have been fixed since the docs were created. Consider theses as ideas in how to make repros rather than useful bug reproductions.\"\n      )\n      examples.forEach(e => {\n        // prettier-ignore\n        ds.subtitle(e.name + ` <a href='https://github.com/microsoft/TypeScript/issues/${e.issue}'>${e.issue}</a>`)\n        ds.p(e.blurb)\n        const button = document.createElement(\"button\")\n        button.textContent = \"Show example\"\n        button.onclick = () => sandbox.setText(e.code)\n        container.appendChild(button)\n      })\n    },\n  },\n]\n\nexport const workbenchReferencePlugin: Factory = (i, utils) => {\n  return {\n    id: \"ref\",\n    displayName: \"Docs\",\n    didMount: (sandbox, container) => {\n      const ds = utils.createDesignSystem(container)\n\n      const tabContainer = document.createElement(\"div\")\n      const tabBar = ds.createTabBar()\n      const tabs: HTMLElement[] = []\n\n      reference.forEach((r, i) => {\n        const tab = ds.createTabButton(r.name)\n        tabs.push(tab)\n        tab.onclick = () => {\n          tabs.forEach(t => t.classList.remove(\"active\"))\n          tab.classList.add(\"active\")\n\n          const ds = utils.createDesignSystem(tabContainer)\n          ds.clear()\n          r.content(sandbox, tabContainer, ds)\n        }\n        tabBar.appendChild(tab)\n\n        if (i === 0) tab.onclick({} as any)\n      })\n\n      container.appendChild(tabBar)\n      container.appendChild(tabContainer)\n    },\n  }\n}\n","type Sandbox = import(\"../../../../static/js/sandbox\").Sandbox\ntype Factory = import(\"../../../../static/js/playground\").PluginFactory\ntype PluginUtils = import(\"../../../../static/js/playground\").PluginUtils\n\nconst intro = `\nThe bug workbench uses <a href='https://www.npmjs.com/package/@typescript/twoslash'>Twoslash</a> to help you create accurate bug reports. \nTwoslash is a markup format for TypeScript files which lets you highlight code, handle-multiple files and\nshow the files the TypeScript compiler creates.\n`.trim()\n\nconst why = `\nThe bug workbench lets make reproductions of bugs which are trivial to verify against many different versions of TypeScript over time.\n`.trim()\n\nconst how = `\nA repro can highlight an issue in a few ways:\n<ul>\n  <li>Does this code sample fail to compile?</li>\n  <li>Does this code sample fail to compile?</li>\n  <li>Is a type wrong at a position in the file?</li>\n  <li>Is the .js/.d.ts/.map file wrong?</li>\n</ul>\n`.trim()\n\nconst cta = `\nTo learn how the tools for making a repro, go to \"Docs\"\n\n`.trim()\n\nexport const workbenchHelpPlugin: Factory = (i, utils) => {\n  return {\n    id: \"about\",\n    displayName: \"About\",\n    didMount: (sandbox, container) => {\n      const ds = utils.createDesignSystem(container)\n\n      ds.title(\"Twoslash Overview\")\n      ds.p(intro)\n\n      ds.p(why)\n      ds.p(how)\n      ds.p(cta)\n    },\n  }\n}\n","type TwoSlashReturns = import(\"@typescript/twoslash\").TwoSlashReturn\ntype PluginFactory = import(\"../../../../static/js/playground\").PluginFactory\n\nexport const workbenchDebugPlugin: PluginFactory = (i, utils) => {\n  let pluginContainer: HTMLDivElement\n\n  return {\n    id: \"results\",\n    displayName: \"Debug\",\n    didMount: (_sandbox, container) => {\n      pluginContainer = container\n    },\n    noResults: () => {\n      const ds = utils.createDesignSystem(pluginContainer)\n      ds.clear()\n\n      ds.p(\"No results\")\n    },\n    getResults: (\n      _sandbox: any,\n      results: TwoSlashReturns,\n      dtsMap: Map<string, string>\n    ) => {\n      const ds = utils.createDesignSystem(pluginContainer)\n      ds.clear()\n\n      ds.p(\n        \"This tab shows the raw data passed back from Twoslash. This can be useful in debugging if something isn't working as you would expect. That said, if you're struggling with a repro - ask in the <a href='https://discord.gg/typescript'>#compiler channel of the TypeScript Discord</a>.\"\n      )\n\n      ds.subtitle(`Output Code as ${results.extension}`)\n      ds.code(results.code)\n\n      // @ts-ignore\n      results.staticQuickInfos = [\"...\"]\n\n      ds.subtitle(`Twoslash JSON`)\n      ds.code(JSON.stringify(results, null, \"  \"))\n\n      ds.subtitle(\"Virtual File System\")\n\n      const files = Array.from(dtsMap.keys()).reverse()\n      const dtsFiles: string[] = []\n      files.forEach(filename => {\n        if (filename.startsWith(\"/lib.\")) {\n          dtsFiles.push(filename.replace(\"/lib\", \"lib\"))\n        } else {\n          ds.p(\"<code>\" + filename + \"</code>\")\n          ds.code(dtsMap.get(filename)!.trim())\n        }\n      })\n      ds.subtitle(\"Lib files\")\n      ds.p(dtsFiles.join(\", \"))\n    },\n  }\n}\n"],"sourceRoot":""}