{
  "id": "getting-started/forms",
  "title": "Forms",
  "contents": "\n\n\n  <div class=\"github-links\">\n    <a href=\"https://github.com/angular/angular-cn/edit/aio/aio/content/getting-started/forms.md?message=docs%3A%20请简述你的修改...\" aria-label=\"提供编辑建议\" title=\"提供编辑建议\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n  </div>\n\n\n<div class=\"content\">\n<h1 id=\"forms\" translation-result=\"on\">表格<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"getting-started/forms#forms\"><i class=\"material-icons\">link</i></a></h1><h1 translation-origin=\"off\" id=\"forms\">Forms<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"getting-started/forms#forms\"><i class=\"material-icons\">link</i></a></h1>\n\n<p translation-result=\"on\">当<a href=\"getting-started/data\" title=\"入门：管理数据\">管理数据</a>结束时，这个在线商店应用有了一个商品名录和一个购物车。</p><p translation-origin=\"off\">At the end of <a href=\"getting-started/data\" title=\"Getting Started: Managing Data\">Managing Data</a>, the online store application has a product catalog and a shopping cart.</p>\n\n<p translation-result=\"on\">在本节中，你将通过添加基于表单的结帐功能来完成该应用。你还将创建一个表单来收集用户信息，作为结账过程的一部分。</p><p translation-origin=\"off\">In this section, you'll finish the app by adding a form-based checkout feature. You'll create a form to collect user information as part of checkout. </p>\n\n<h2 id=\"forms-in-angular\" translation-result=\"on\">Angular 中的表单<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"getting-started/forms#forms-in-angular\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\" id=\"forms-in-angular\">Forms in Angular<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"getting-started/forms#forms-in-angular\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">Angular 中的表单采用了基于 HTML 表单的标准功能，并添加了一个编排层，以帮助你创建自定义表单控件，并提供了出色的验证体验。Angular 响应式表单有两个部分，组件中那些用于存储和管理表单的对象，以及表单在模板中的可视化。</p><p translation-origin=\"off\">Forms in Angular take the standard capabilities of the HTML based forms and add an orchestration layer to help with creating custom form controls, and to supply great validation experiences. There are two parts to an Angular Reactive form, the objects that live in the component to store and manage the form, and the visualization of the form that lives in the template.</p>\n\n<h2 id=\"define-the-checkout-form-model\" translation-result=\"on\">定义结帐的表单模型<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"getting-started/forms#define-the-checkout-form-model\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\" id=\"define-the-checkout-form-model\">Define the checkout form model<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"getting-started/forms#define-the-checkout-form-model\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">首先，你要设置一个结账的表单模型。表单模型是表单状态的真相之源（source of truth），它是在组件类中定义的。</p><p translation-origin=\"off\">First, you'll set up the checkout form model. The form model is the source of truth for the status of the form and is defined in the component class. </p>\n\n<ol>\n<li>\n<p translation-result=\"on\">打开 <code>cart.component.ts</code>。</p><p translation-origin=\"off\">Open <code>cart.component.ts</code>.</p>\n\n</li>\n</ol>\n<ol>\n<li>\n<p translation-result=\"on\">Angular 的 <code><a href=\"api/forms/FormBuilder\" class=\"code-anchor\">FormBuilder</a></code> 服务为生成控件提供了方便的方法。和你使用过的其它服务一样，你需要导入并注入该服务，然后才能使用它：</p><p translation-origin=\"off\">Angular's <code><a href=\"api/forms/FormBuilder\" class=\"code-anchor\">FormBuilder</a></code> service provides convenient methods for generating controls. As with the other services you've used, you need to import and inject the service before you can use it: </p>\n\n</li>\n</ol>\n<ol>\n<li>\n<p translation-result=\"on\">从 <code>@angular/forms</code> 包中导入 <code><a href=\"api/forms/FormBuilder\" class=\"code-anchor\">FormBuilder</a></code> 服务。</p><p translation-origin=\"off\">Import the <code><a href=\"api/forms/FormBuilder\" class=\"code-anchor\">FormBuilder</a></code> service from the <code>@angular/forms</code> package.</p>\n\n</li>\n</ol>\n      <code-example header=\"src/app/cart/cart.component.ts\" path=\"getting-started/src/app/cart/cart.component.ts\" region=\"imports\">\nimport { <a href=\"api/core/Component\" class=\"code-anchor\">Component</a> } from '@angular/core';\nimport { <a href=\"api/forms/FormBuilder\" class=\"code-anchor\">FormBuilder</a> } from '@angular/forms';\n\nimport { CartService } from '../cart.service';\n\n</code-example>\n<p translation-result=\"on\">      <code><a href=\"api/forms/FormBuilder\" class=\"code-anchor\">FormBuilder</a></code> 服务是由 <code><a href=\"api/forms/ReactiveFormsModule\" class=\"code-anchor\">ReactiveFormsModule</a></code> 提供的，它已经在之前修改过的 <code>AppModule</code> 定义过（在 <code>app.module.ts</code> ）。</p><p translation-origin=\"off\">      The <code><a href=\"api/forms/FormBuilder\" class=\"code-anchor\">FormBuilder</a></code> service is provided by the <code><a href=\"api/forms/ReactiveFormsModule\" class=\"code-anchor\">ReactiveFormsModule</a></code>, which is already defined in the <code>AppModule</code> you modified previously (in <code>app.module.ts</code>).</p>\n\n<ol>\n<li>\n<p translation-result=\"on\">注入这个 <code><a href=\"api/forms/FormBuilder\" class=\"code-anchor\">FormBuilder</a></code> 服务。</p><p translation-origin=\"off\">Inject the <code><a href=\"api/forms/FormBuilder\" class=\"code-anchor\">FormBuilder</a></code> service. </p>\n\n</li>\n</ol>\n      <code-example header=\"src/app/cart/cart.component.ts\" path=\"getting-started/src/app/cart/cart.component.ts\" region=\"inject-form-builder\">\nexport class CartComponent {\n  items;\n\n  constructor(\n    private cartService: CartService,\n    private formBuilder: <a href=\"api/forms/FormBuilder\" class=\"code-anchor\">FormBuilder</a>,\n  ) {\n  }\n}\n\n\n</code-example>\n<ol>\n<li>\n<p translation-result=\"on\">在 <code>CartComponent</code> 类中，定义 <code>checkoutForm</code> 属性来存储表单模型。</p><p translation-origin=\"off\">In the <code>CartComponent</code> class, define the <code>checkoutForm</code> property to store the form model.</p>\n\n</li>\n</ol>\n   <code-example header=\"src/app/cart/cart.component.ts\" path=\"getting-started/src/app/cart/cart.component.ts\" region=\"checkout-form\">\nexport class CartComponent {\n  items;\n  checkoutForm;\n}\n\n\n</code-example>\n<ol>\n<li>\n<p translation-result=\"on\">在结帐时，该应用会提示用户输入姓名和地址。这样你接下来就可以收集到这些信息了。可以使用 <code><a href=\"api/forms/FormBuilder\" class=\"code-anchor\">FormBuilder</a>#<a href=\"api/animations/group\" class=\"code-anchor\">group</a>()</code> 方法，用一个包含 <code>name</code> 和 <code>address</code> 字段的表单模型赋值给 <code>checkoutForm</code> 属性。</p><p translation-origin=\"off\">During checkout, the app will prompt the user for a name and address. So that you can gather that information later, set the <code>checkoutForm</code> property with a form model containing <code>name</code> and <code>address</code> fields, using the <code><a href=\"api/forms/FormBuilder\" class=\"code-anchor\">FormBuilder</a>#<a href=\"api/animations/group\" class=\"code-anchor\">group</a>()</code> method.</p>\n\n</li>\n</ol>\n   <code-example header=\"src/app/cart/cart.component.ts\" path=\"getting-started/src/app/cart/cart.component.ts\" region=\"checkout-form-group\" linenums=\"false\">\nexport class CartComponent {\n  items;\n  checkoutForm;\n\n  constructor(\n    private cartService: CartService,\n    private formBuilder: <a href=\"api/forms/FormBuilder\" class=\"code-anchor\">FormBuilder</a>,\n  ) {\n    this.items = this.cartService.getItems();\n\n    this.checkoutForm = this.formBuilder.group({\n      name: '',\n      address: ''\n    });\n  }\n}\n\n\n</code-example>\n<ol>\n<li>\n<p translation-result=\"on\">对于结帐过程，用户需要能够提交表单数据（他们的姓名和地址）。在提交订单之后，表单应该重置，购物车应该清空。</p><p translation-origin=\"off\">For the checkout process, users need to be able to submit the form data (their name and address). When the order is submitted, the form should reset and the cart should clear. </p>\n\n</li>\n</ol>\n<p translation-result=\"on\">   在 <code>cart.component.ts</code> 中，定义一个 <code>onSubmit()</code> 方法来处理表单。使用 <code>CartService#clearCart()</code> 方法清空购物车项目，并在提交完之后重置该表单。（在实际应用中，此方法也会把数据提交给外部服务器。）</p><p translation-origin=\"off\">   In <code>cart.component.ts</code>, define an <code>onSubmit()</code> method to process the form. Use the <code>CartService#clearCart()</code> method to empty the cart items and reset the form after it is submitted. (In a real-world app, this method also would submit the data to an external server.) </p>\n\n<p translation-result=\"on\">   整个购物车组件如下所示：</p><p translation-origin=\"off\">   The entire cart component is shown below: </p>\n\n   <code-example header=\"src/app/cart/cart.component.ts\" path=\"getting-started/src/app/cart/cart.component.ts\">\nimport { <a href=\"api/core/Component\" class=\"code-anchor\">Component</a> } from '@angular/core';\nimport { <a href=\"api/forms/FormBuilder\" class=\"code-anchor\">FormBuilder</a> } from '@angular/forms';\n\nimport { CartService } from '../cart.service';\n\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  selector: 'app-cart',\n  templateUrl: './cart.component.html',\n  <a href=\"api/core/Component#styleUrls\" class=\"code-anchor\">styleUrls</a>: ['./cart.component.css']\n})\nexport class CartComponent {\n  items;\n  checkoutForm;\n\n  constructor(\n    private cartService: CartService,\n    private formBuilder: <a href=\"api/forms/FormBuilder\" class=\"code-anchor\">FormBuilder</a>,\n  ) {\n    this.items = this.cartService.getItems();\n\n    this.checkoutForm = this.formBuilder.group({\n      name: '',\n      address: ''\n    });\n  }\n\n  onSubmit(customerData) {\n    // Process checkout data here\n    console.warn('Your order has been submitted', customerData);\n\n    this.items = this.cartService.clearCart();\n    this.checkoutForm.reset();\n  }\n}\n\n\n</code-example>\n<p translation-result=\"on\">表单模型是在组件类中定义的。要在视图中反映这个模型，你需要创建一个结帐表单。</p><p translation-origin=\"off\">The form model is defined in the component class. To reflect the model in the view, you'll need a checkout form.</p>\n\n<h2 id=\"create-the-checkout-form\" translation-result=\"on\">创建结帐表单<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"getting-started/forms#create-the-checkout-form\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\" id=\"create-the-checkout-form\">Create the checkout form<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"getting-started/forms#create-the-checkout-form\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">接下来，你将在“购物车”页面的底部添加一个结帐表单。</p><p translation-origin=\"off\">Next, you'll add a checkout form at the bottom of the \"Cart\" page. </p>\n\n<ol>\n<li>\n<p translation-result=\"on\">打开 <code>cart.component.html</code>。</p><p translation-origin=\"off\">Open <code>cart.component.html</code>.</p>\n\n</li>\n</ol>\n<ol>\n<li>\n<p translation-result=\"on\">在模板的底部，添加一个空的 HTML 表单来捕获用户信息。</p><p translation-origin=\"off\">At the bottom of the template, add an empty HTML form to capture user information. </p>\n\n</li>\n</ol>\n<ol>\n<li>\n<p translation-result=\"on\">使用 <code>formGroup</code> 属性绑定把 <code>checkoutForm</code> 绑定到模板中的 <code>form</code> 标签上。还要提供一个 “Purchase” 按钮来提交表单。</p><p translation-origin=\"off\">Use a <code>formGroup</code> property binding to bind the <code>checkoutForm</code> to the <code>form</code> tag in the template. Also include a \"Purchase\" button to submit the form. </p>\n\n</li>\n</ol>\n   <code-example header=\"src/app/cart/cart.component.html\" path=\"getting-started/src/app/cart/cart.component.3.html\" region=\"checkout-form\">\n&#x3C;form [formGroup]=\"checkoutForm\">\n\n  &#x3C;button class=\"button\" type=\"submit\">Purchase&#x3C;/button>\n\n&#x3C;/form>\n\n</code-example>\n<ol>\n<li>\n<p translation-result=\"on\">在 <code>form</code> 标签上，使用 <code>ngSubmit</code> 事件绑定来监听表单提交，并使用 <code>checkoutForm</code> 值调用 <code>onSubmit()</code> 方法。</p><p translation-origin=\"off\">On the <code>form</code> tag, use an <code>ngSubmit</code> event binding to listen for the form submission and call the <code>onSubmit()</code> method with the <code>checkoutForm</code> value.</p>\n\n</li>\n</ol>\n   <code-example path=\"getting-started/src/app/cart/cart.component.html\" region=\"checkout-form-1\">\n&#x3C;form [formGroup]=\"checkoutForm\" (ngSubmit)=\"onSubmit(checkoutForm.value)\">\n&#x3C;/form>\n\n\n</code-example>\n<ol>\n<li>\n<p translation-result=\"on\">为 <code>name</code> 和 <code>address</code> 添加输入字段。使用 <code><a href=\"api/forms/FormControlName\" class=\"code-anchor\">formControlName</a></code> 属性绑定来把 <code>checkoutForm</code> 表单控件中的 <code>name</code> 和 <code>address</code> 绑定到它们的输入字段。最终的完整版组件如下所示：</p><p translation-origin=\"off\">Add input fields for <code>name</code> and <code>address</code>.  Use the <code><a href=\"api/forms/FormControlName\" class=\"code-anchor\">formControlName</a></code> attribute binding to bind the <code>checkoutForm</code> form controls for <code>name</code> and <code>address</code> to their input fields. The final complete component is shown below: </p>\n\n</li>\n</ol>\n   <code-example path=\"getting-started/src/app/cart/cart.component.html\" region=\"checkout-form-2\">\n&#x3C;h3>Cart&#x3C;/h3>\n\n&#x3C;p>\n  &#x3C;<a href=\"api/router/RouterLinkWithHref\" class=\"code-anchor\">a</a> <a href=\"api/router/RouterLink\" class=\"code-anchor\">routerLink</a>=\"/shipping\">Shipping Prices&#x3C;/<a href=\"api/router/RouterLinkWithHref\" class=\"code-anchor\">a</a>>\n&#x3C;/p>\n\n&#x3C;div class=\"cart-item\" *<a href=\"api/common/NgForOf\" class=\"code-anchor\">ngFor</a>=\"let <a href=\"api/core/IterableChangeRecord#item\" class=\"code-anchor\">item</a> of items\">\n  &#x3C;span>{{ item.name }} &#x3C;/span>\n  &#x3C;span>{{ item.price | currency }}&#x3C;/span>\n&#x3C;/div>\n\n&#x3C;form [formGroup]=\"checkoutForm\" (ngSubmit)=\"onSubmit(checkoutForm.value)\">\n\n  &#x3C;div>\n    &#x3C;label>Name&#x3C;/label>\n    &#x3C;input type=\"text\" <a href=\"api/forms/FormControlName\" class=\"code-anchor\">formControlName</a>=\"name\">\n  &#x3C;/div>\n\n  &#x3C;div>\n    &#x3C;label>Address&#x3C;/label>\n    &#x3C;input type=\"text\" <a href=\"api/forms/FormControlName\" class=\"code-anchor\">formControlName</a>=\"address\">\n  &#x3C;/div>\n\n  &#x3C;button class=\"button\" type=\"submit\">Purchase&#x3C;/button>\n  \n&#x3C;/form>\n\n\n</code-example>\n<p translation-result=\"on\">往购物车中放入几件商品之后，用户可以查看这些商品，输入自己的姓名和地址，进行购买：</p><p translation-origin=\"off\">After putting a few items in the cart, users can now review their items, enter name and address, and submit their purchase: </p>\n\n<figure>\n  <img src=\"generated/images/guide/getting-started/cart-with-items-and-form.png\" alt=\"Cart page with checkout form\" width=\"261\" height=\"395\">\n</figure>\n<h2 id=\"next-steps\" translation-result=\"on\">下一步<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"getting-started/forms#next-steps\"><i class=\"material-icons\">link</i></a></h2><h2 translation-origin=\"off\" id=\"next-steps\">Next steps<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"getting-started/forms#next-steps\"><i class=\"material-icons\">link</i></a></h2>\n\n<p translation-result=\"on\">恭喜！你有了一个完整的在线商店应用，它具有商品名录，购物车和结账功能。</p><p translation-origin=\"off\">Congratulations! You have a complete online store application with a product catalog, a shopping cart, and a checkout function.</p>\n\n<p translation-result=\"on\"><a href=\"getting-started/deployment\" title=\"入门：部署\">继续浏览“部署”部分，</a>把你的应用部署到 Firebase，或者转成本地开发。</p><p translation-origin=\"off\"><a href=\"getting-started/deployment\" title=\"Getting Started: Deployment\">Continue to the \"Deployment\" section</a> to deploy your app to Firebase or move to local development. </p>\n\n\n</div>\n\n<!-- links to this doc:\n - getting-started/data\n - getting-started/deployment\n-->\n<!-- links from this doc:\n - api/animations/group\n - api/common/NgForOf\n - api/core/Component\n - api/core/Component#styleUrls\n - api/core/IterableChangeRecord#item\n - api/forms/FormBuilder\n - api/forms/FormControlName\n - api/forms/ReactiveFormsModule\n - api/router/RouterLink\n - api/router/RouterLinkWithHref\n - getting-started/data\n - getting-started/deployment\n - getting-started/forms#create-the-checkout-form\n - getting-started/forms#define-the-checkout-form-model\n - getting-started/forms#forms\n - getting-started/forms#forms-in-angular\n - getting-started/forms#next-steps\n - https://github.com/angular/angular-cn/edit/aio/aio/content/getting-started/forms.md?message=docs%3A%20请简述你的修改...\n-->"
}