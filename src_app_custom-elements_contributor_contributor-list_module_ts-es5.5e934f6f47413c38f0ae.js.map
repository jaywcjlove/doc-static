{"version":3,"sources":["webpack:///src/app/custom-elements/contributor/contributor.service.ts","webpack:///src/app/custom-elements/contributor/contributor.component.ts","webpack:///src/app/custom-elements/contributor/contributor-list.component.ts","webpack:///src/app/custom-elements/contributor/contributor-list.module.ts"],"names":["contributorsPath","knownGroups","ContributorService","http","this","contributors","getContributors","get","pipe","map","contribs","contribMap","Object","keys","forEach","key","contributor","groups","group","push","cmap","order","indexOf","name","length","sort","compareContributors","compareGroups","publishLast","connect","l","r","toUpperCase","$event","stopPropagation","ContributorComponent","noPicture","pictureBase","person","isFlipped","flipCard","ContributorListModule","ContributorListComponent","contributorService","locationService","groupName","search","subscribe","grps","groupNames","g","selectGroup","toLowerCase","selectedGroup","find","setSearch","customElementComponent"],"mappings":"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","file":"x","sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\nimport { ConnectableObservable, Observable } from 'rxjs';\nimport { map, publishLast } from 'rxjs/operators';\n\nimport { Contributor, ContributorGroup } from './contributors.model';\n\n// TODO(andrewjs): Look into changing this so that we don't import the service just to get the const\nimport { CONTENT_URL_PREFIX } from 'app/documents/document.service';\n\nconst contributorsPath = CONTENT_URL_PREFIX + 'contributors.json';\nconst knownGroups = ['Angular', 'Collaborators', 'GDE'];\n\n@Injectable()\nexport class ContributorService {\n  contributors: Observable<ContributorGroup[]>;\n\n  constructor(private http: HttpClient) {\n    this.contributors = this.getContributors();\n  }\n\n  private getContributors() {\n    const contributors = this.http.get<{[key: string]: Contributor}>(contributorsPath).pipe(\n      // Create group map\n      map(contribs => {\n        const contribMap: { [name: string]: Contributor[]} = {};\n        Object.keys(contribs).forEach(key => {\n          const contributor = contribs[key];\n          contributor.groups.forEach(group => {\n            const contribGroup = contribMap[group] || (contribMap[group] = []);\n            contribGroup.push(contributor);\n          });\n        });\n\n        return contribMap;\n      }),\n\n      // Flatten group map into sorted group array of sorted contributors\n      map(cmap => {\n        return Object.keys(cmap).map(key => {\n          const order = knownGroups.indexOf(key);\n          return {\n            name: key,\n            order: order === -1 ? knownGroups.length : order,\n            contributors: cmap[key].sort(compareContributors)\n          } as ContributorGroup;\n        })\n        .sort(compareGroups);\n      }),\n\n      publishLast(),\n    );\n\n    (contributors as ConnectableObservable<ContributorGroup[]>).connect();\n    return contributors;\n  }\n}\n\nfunction compareContributors(l: Contributor, r: Contributor) {\n return l.name.toUpperCase() > r.name.toUpperCase() ? 1 : -1;\n}\n\nfunction compareGroups(l: ContributorGroup, r: ContributorGroup) {\n  return l.order === r.order ?\n    (l.name > r.name ? 1 : -1) :\n     l.order > r.order ? 1 : -1;\n}\n","import { Component, Input } from '@angular/core';\n\nimport { Contributor } from './contributors.model';\nimport { CONTENT_URL_PREFIX } from 'app/documents/document.service';\n\n@Component({\n  selector: 'aio-contributor',\n  template: `\n    <div [ngClass]=\"{ 'flipped': person.isFlipped }\" class=\"contributor-card\">\n\n        <div class=\"card-front\" (click)=\"flipCard(person)\" (keyup.enter)=\"flipCard(person)\">\n            <h3>{{person.name}}</h3>\n\n            <div class=\"contributor-image\" [style.background-image]=\"'url('+pictureBase+(person.picture || noPicture)+')'\">\n                <div class=\"contributor-info\">\n                    <a *ngIf=\"person.bio\" mat-button class=\"info-item\">\n                        View Bio\n                    </a>\n                    <a *ngIf=\"person.twitter\" mat-icon-button class=\"info-item icon\"\n                        href=\"https://twitter.com/{{person.twitter}}\" target=\"_blank\" (click)=\"$event.stopPropagation()\">\n                        <mat-icon svgIcon=\"logos:twitter\"></mat-icon>\n                    </a>\n                    <a *ngIf=\"person.website\" mat-icon-button class=\"info-item icon\"\n                        href=\"{{person.website}}\" target=\"_blank\" (click)=\"$event.stopPropagation()\">\n                        <mat-icon class=\"link-icon\">link</mat-icon>\n                    </a>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"card-back\" *ngIf=\"person.isFlipped\" (click)=\"flipCard(person)\" (keyup.enter)=\"flipCard(person)\">\n            <h3>{{person.name}}</h3>\n            <p class=\"contributor-bio\">{{person.bio}}</p>\n        </div>\n    </div>\n  `\n})\nexport class ContributorComponent {\n  @Input() person: Contributor;\n  noPicture = '_no-one.png';\n  pictureBase = CONTENT_URL_PREFIX + 'images/bios/';\n\n  flipCard(person: Contributor) {\n    person.isFlipped = !person.isFlipped;\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ContributorGroup } from './contributors.model';\nimport { ContributorService } from './contributor.service';\nimport { LocationService } from 'app/shared/location.service';\n\n@Component({\n  selector: `aio-contributor-list`,\n  template: `\n    <div class=\"flex-center group-buttons\">\n      <a *ngFor=\"let name of groupNames\"\n          class=\"button mat-button filter-button\"\n          [class.selected]=\"name == selectedGroup.name\"\n          (click)=\"selectGroup(name)\"\n          (keyup.enter)=\"selectGroup(name)\">{{name}}</a>\n    </div>\n    <section *ngIf=\"selectedGroup\" class=\"grid-fluid\">\n      <div class=\"contributor-group\">\n        <aio-contributor *ngFor=\"let person of selectedGroup.contributors\" [person]=\"person\"></aio-contributor>\n      </div>\n    </section>\n  `,\n})\nexport class ContributorListComponent implements OnInit {\n  private groups: ContributorGroup[];\n  groupNames: string[];\n  selectedGroup: ContributorGroup;\n\n  constructor(\n    private contributorService: ContributorService,\n    private locationService: LocationService) { }\n\n  ngOnInit() {\n    const groupName =  this.locationService.search().group || '';\n    // no need to unsubscribe because `contributors` completes\n    this.contributorService.contributors\n      .subscribe(grps => {\n        this.groups = grps;\n        this.groupNames = grps.map(g => g.name);\n        this.selectGroup(groupName);\n      });\n  }\n\n  selectGroup(name: string) {\n    name = name.toLowerCase();\n    this.selectedGroup = this.groups.find(g => g.name.toLowerCase() === name) || this.groups[0];\n    this.locationService.setSearch('', {group: this.selectedGroup.name});\n  }\n}\n","import { NgModule, Type } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatIconModule } from '@angular/material/icon';\nimport { ContributorListComponent } from './contributor-list.component';\nimport { ContributorService } from './contributor.service';\nimport { ContributorComponent } from './contributor.component';\nimport { WithCustomElementComponent } from '../element-registry';\n\n@NgModule({\n  imports: [ CommonModule, MatIconModule ],\n  declarations: [ ContributorListComponent, ContributorComponent ],\n  entryComponents: [ ContributorListComponent ],\n  providers: [ ContributorService ]\n})\nexport class ContributorListModule implements WithCustomElementComponent {\n  customElementComponent: Type<any> = ContributorListComponent;\n}\n"]}