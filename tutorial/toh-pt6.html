<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><title>Angular - 从服务端获取数据</title><meta name="Description" content="Angular is a platform for building mobile and desktop web applications.
    Join the community of millions of developers who build compelling user interfaces with Angular."><base href="/"><link rel="preconnect" href="https://www.google-analytics.com"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://stats.g.doubleclick.net"><link rel="dns-prefetch" href="https://stats.g.doubleclick.net"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="search" type="application/opensearchdescription+xml" href="assets/opensearch.xml"><link rel="icon" type="image/x-icon" href="assets/images/favicons/favicon.ico"><link rel="icon" type="image/png" href="assets/images/favicons/favicon-32x32.png" sizes="32x32"><link rel="icon" type="image/png" href="assets/images/favicons/favicon-194x194.png" sizes="194x194"><link rel="icon" type="image/png" href="assets/images/favicons/favicon-96x96.png" sizes="96x96"><link rel="icon" type="image/png" href="assets/images/favicons/favicon-16x16.png" sizes="16x16"><link rel="apple-touch-icon" sizes="144x144" href="assets/images/favicons/favicon-144x144.png"><link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/images/favicons/favicon-144x144.png"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500&amp;display=swap"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Sans+Mono&amp;display=swap"><link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons&amp;display=block"><link rel="manifest" href="pwa-manifest.json"><meta name="theme-color" content="#1976d2"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="translucent"><script async="" src="assets/js/analytics.js"></script><script>!function(e,a,n,t,s,c,g){e.GoogleAnalyticsObject=s,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(n),g=a.getElementsByTagName(n)[0],c.async=1,c.src="assets/js/analytics.js",~e.name.indexOf("NG_DEFER_BOOTSTRAP")||g.parentNode.insertBefore(c,g)}(window,document,"script",0,"ga")</script><script>window.onerror=function(){ga("send","exception",{exDescription:function(e,r,n,a,c){var l;e=e.replace(/^Error: /,""),l=c?c.stack.replace(/^Error: /,"").replace(e+"\n","").replace(/^ +/gm,"").replace(/^at /gm,"").replace(/(?: \(|@)http.+\/([^/)]+)\)?(?:\n|$)/gm,"@$1\n").replace(/ *\(eval code(:\d+:\d+)\)(?:\n|$)/gm,"@???$1\n"):r+":"+(n=n||"?")+":"+(a=a||"?");return(e+"\n"+l).substr(0,150)}.apply(null,arguments),exFatal:!0})}</script><link rel="stylesheet" href="styles.cf0de443cfb9b4fee8f9.css"><style>.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media(max-width:599px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}</style><style>.mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1,1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}</style><style>.mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover:none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-flat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-focus-overlay,.mat-stroked-button .mat-button-ripple.mat-ripple{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button-focus-overlay,.mat-button-ripple.mat-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-mini-fab,.cdk-high-contrast-active .mat-raised-button{outline:solid 1px}</style><style>.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%,0,0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active .mat-drawer.mat-drawer-end,.cdk-high-contrast-active [dir=rtl] .mat-drawer{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer{transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%,0,0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}</style><style>.nav-link.highlight[_ngcontent-ng-docs-c30]{color:#ff0}</style><style>.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2s infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2s infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2s infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2s infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(.5,0,.701732,.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(.302435,.381352,.55,.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(.08)}36.65%{animation-timing-function:cubic-bezier(.334731,.12482,.785844,1);transform:scaleX(.08)}69.15%{animation-timing-function:cubic-bezier(.06,.11,.6,1);transform:scaleX(.661479)}100%{transform:scaleX(.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(.15,0,.515058,.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(.31033,.284058,.8,.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(.4,.627035,.6,.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(.15,0,.515058,.409685);transform:scaleX(.08)}19.15%{animation-timing-function:cubic-bezier(.31033,.284058,.8,.733712);transform:scaleX(.457104)}44.15%{animation-timing-function:cubic-bezier(.4,.627035,.6,.902026);transform:scaleX(.72796)}100%{transform:scaleX(.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}</style><script charset="utf-8" src="toc-toc-module-es2015.2ed0fc86fd4f9b7bf72e.js"></script><script charset="utf-8" src="default~code-code-example-module~code-code-tabs-module-es2015.fe70520b08811d6d8f33.js"></script><script charset="utf-8" src="code-code-example-module-es2015.cd21a9e457647228fd83.js"></script><script charset="utf-8" src="code-code-tabs-module-es2015.58eeab0fe9827bed64c7.js"></script><script charset="utf-8" src="live-example-live-example-module-es2015.1d25e49b85fc828d903e.js"></script><script charset="utf-8" src="assets-js-prettify-js-es2015.8cb173b668571e15d221.js"></script><style>.mat-card{transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-content,.mat-card-subtitle{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width:599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card-content>:first-child,.mat-card>:first-child{margin-top:0}.mat-card-content>:last-child:not(.mat-card-footer),.mat-card>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-subtitle:not(:first-child),.mat-card-title:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}</style><style>.mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:0}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width:599px){.mat-tab-label{padding:0 12px}}@media(max-width:959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height .5s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}</style><style>.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-pagination-after,.mat-tab-header-rtl .mat-tab-header-pagination-before{padding-right:4px}.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform .5s cubic-bezier(.35,0,.25,1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:.5s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:0}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width:599px){.mat-tab-label{min-width:72px}}</style><style>.mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}</style></head><body><aio-shell ng-version="10.0.0-rc.2" class="aio-notification-hide folder-tutorial mode-stable page-tutorial-toh-pt6 sidenav-open view-SideNav"><div id="top-of-page"></div><mat-toolbar color="primary" class="mat-toolbar app-toolbar no-print mat-primary mat-toolbar-multiple-rows"><mat-toolbar-row class="mat-toolbar-row notification-container"><aio-notification notificationid="survey-march-2020" expirationdate="2020-04-15" class="ng-tns-c22-0 ng-trigger ng-trigger-hideAnimation" style="height:0"><span class="content ng-tns-c22-0"><a href="https://goo.gle/angular-survey-2020" target="_blank" class="ng-tns-c22-0"><mat-icon role="img" svgicon="insert_comment" aria-label="Announcement" class="mat-icon notranslate icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></mat-icon><span class="message"><b>填写这份《一分钟调查》</b>，帮我们（开发组）做得更好！</span><span class="action-button">去填写</span></a></span><button mat-icon-button="" aria-label="Close" class="mat-focus-indicator close-button ng-tns-c22-0 mat-icon-button mat-button-base"><span class="mat-button-wrapper"><mat-icon role="img" svgicon="close" aria-label="Dismiss notification" class="mat-icon notranslate mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></mat-icon></span><div matripple="" class="mat-ripple mat-button-ripple mat-button-ripple-round"></div><div class="mat-button-focus-overlay"></div></button></aio-notification></mat-toolbar-row><mat-toolbar-row class="mat-toolbar-row"><button mat-button="" title="Docs menu" class="mat-focus-indicator hamburger mat-button mat-button-base"><span class="mat-button-wrapper"><mat-icon role="img" svgicon="menu" class="mat-icon notranslate mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></svg></mat-icon></span><div matripple="" class="mat-ripple mat-button-ripple"></div><div class="mat-button-focus-overlay"></div></button><a href="/" class="nav-link home"><img src="assets/images/logos/angular/logo-nav@2x.png" width="150" height="40" title="Home" alt="Home" class="ng-star-inserted"></a><aio-top-menu _nghost-ng-docs-c30="" class="ng-star-inserted"><ul _ngcontent-ng-docs-c30="" role="navigation"><li _ngcontent-ng-docs-c30="" class="ng-star-inserted"><a _ngcontent-ng-docs-c30="" class="nav-link" href="features" title="特性" target="_self"><span _ngcontent-ng-docs-c30="" class="nav-link-inner">特性</span></a></li><li _ngcontent-ng-docs-c30="" class="ng-star-inserted"><a _ngcontent-ng-docs-c30="" class="nav-link" href="docs" title="文档" target="_self"><span _ngcontent-ng-docs-c30="" class="nav-link-inner">文档</span></a></li><li _ngcontent-ng-docs-c30="" class="ng-star-inserted"><a _ngcontent-ng-docs-c30="" class="nav-link" href="resources" title="资源" target="_self"><span _ngcontent-ng-docs-c30="" class="nav-link-inner">资源</span></a></li><li _ngcontent-ng-docs-c30="" class="ng-star-inserted"><a _ngcontent-ng-docs-c30="" class="nav-link" href="events" title="会议" target="_self"><span _ngcontent-ng-docs-c30="" class="nav-link-inner">会议</span></a></li><li _ngcontent-ng-docs-c30="" class="ng-star-inserted"><a _ngcontent-ng-docs-c30="" class="nav-link" href="https://blog.wangke.io/" title="译者汪志成的博客，包括翻译文章和原创文章" target="_blank"><span _ngcontent-ng-docs-c30="" class="nav-link-inner">译者博客</span></a></li><li _ngcontent-ng-docs-c30="" class="ng-star-inserted"><a _ngcontent-ng-docs-c30="" class="nav-link" href="translations/cn/home" title="关于中文版" target="_self"><span _ngcontent-ng-docs-c30="" class="nav-link-inner">关于中文版</span></a></li></ul></aio-top-menu><aio-search-box class="search-container"><input type="search" aria-label="search" placeholder="搜索"></aio-search-box><div class="toolbar-external-icons-container"><a href="https://twitter.com/angular" title="Twitter" aria-label="Angular on twitter"><mat-icon role="img" svgicon="logos:twitter" class="mat-icon notranslate mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 50 59" xmlns="http://www.w3.org/2000/svg"><path d="M50,9.3c-1.8,0.8-3.8,1.4-5.9,1.6c2.1-1.3,3.7-3.3,4.5-5.7c-2,1.2-4.2,2-6.5,2.5c-1.9-2-4.5-3.2-7.5-3.2c-5.7,0-10.3,4.6-10.3,10.3c0,0.8,0.1,1.6,0.3,2.3C16.1,16.7,8.5,12.6,3.5,6.4c-0.9,1.5-1.4,3.3-1.4,5.2c0,3.6,1.8,6.7,4.6,8.5C5,20,3.4,19.6,2,18.8c0,0,0,0.1,0,0.1c0,5,3.5,9.1,8.2,10.1c-0.9,0.2-1.8,0.4-2.7,0.4c-0.7,0-1.3-0.1-1.9-0.2c1.3,4.1,5.1,7,9.6,7.1c-3.5,2.8-7.9,4.4-12.7,4.4c-0.8,0-1.6,0-2.4-0.1c4.5,2.9,9.9,4.6,15.7,4.6c18.9,0,29.2-15.6,29.2-29.2c0-0.4,0-0.9,0-1.3C46.9,13.2,48.6,11.4,50,9.3z"></path></svg></mat-icon></a><a href="https://github.com/angular/angular" title="GitHub" aria-label="Angular on github"><mat-icon role="img" svgicon="logos:github" class="mat-icon notranslate mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 51.8 50.4" xmlns="http://www.w3.org/2000/svg"><path d="M25.9,0.2C11.8,0.2,0.3,11.7,0.3,25.8c0,11.3,7.3,20.9,17.5,24.3c1.3,0.2,1.7-0.6,1.7-1.2c0-0.6,0-2.6,0-4.8c-7.1,1.5-8.6-3-8.6-3c-1.2-3-2.8-3.7-2.8-3.7c-2.3-1.6,0.2-1.6,0.2-1.6c2.6,0.2,3.9,2.6,3.9,2.6c2.3,3.9,6,2.8,7.5,2.1c0.2-1.7,0.9-2.8,1.6-3.4c-5.7-0.6-11.7-2.8-11.7-12.7c0-2.8,1-5.1,2.6-6.9c-0.3-0.7-1.1-3.3,0.3-6.8c0,0,2.1-0.7,7,2.6c2-0.6,4.2-0.9,6.4-0.9c2.2,0,4.4,0.3,6.4,0.9c4.9-3.3,7-2.6,7-2.6c1.4,3.5,0.5,6.1,0.3,6.8c1.6,1.8,2.6,4.1,2.6,6.9c0,9.8-6,12-11.7,12.6c0.9,0.8,1.7,2.4,1.7,4.7c0,3.4,0,6.2,0,7c0,0.7,0.5,1.5,1.8,1.2c10.2-3.4,17.5-13,17.5-24.3C51.5,11.7,40.1,0.2,25.9,0.2z"></path></svg></mat-icon></a></div></mat-toolbar-row></mat-toolbar><mat-sidenav-container role="main" class="mat-drawer-container mat-sidenav-container sidenav-container mat-drawer-transition has-floating-toc"><div class="mat-drawer-backdrop ng-star-inserted"></div><div class="cdk-visually-hidden cdk-focus-trap-anchor" aria-hidden="true"></div><mat-sidenav tabindex="-1" class="mat-drawer mat-sidenav sidenav ng-tns-c18-1 ng-trigger ng-trigger-transform mat-drawer-side ng-star-inserted mat-drawer-opened" style="transform:none;visibility:visible"><div class="mat-drawer-inner-container ng-tns-c18-1"><aio-nav-menu class="ng-tns-c18-1"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-1 collapsed ng-star-inserted" style="position:relative" href="docs" title="Angular 文档简介" target="_self"><span>简介</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-1 expanded selected ng-star-inserted" title="建立开发环境，并学习基本概念" aria-pressed="true"><span>快速上手</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-1 expanded selected"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/setup-local" title="使用 Angular CLI 搭建本地开发环境。" target="_self"><span>搭建环境</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="介绍 Angular 应用中的一些基本概念。" aria-pressed="false"><span>Angular 的基本概念</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/architecture" title="Angular 应用中的基本构造块。" target="_self"><span>基本概念简介</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/architecture-modules" title="关于 Angular 模块（NgModules）。" target="_self"><span>模块简介</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/architecture-components" title="关于组件、模板和视图。" target="_self"><span>组件简介</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/architecture-services" title="关于服务与依赖注入。" target="_self"><span>服务与 DI 简介</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/architecture-next-steps" title="超越基础阶段。" target="_self"><span>后续步骤</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/glossary" title="Angular 中最重要的词汇的简要定义。" target="_self"><span>Angular 词汇表</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="不必搭建环境，查看并试用现成的示例应用程序。" aria-pressed="false"><span>试一试</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="start" title="初步了解 Angular 的组件模型、模板语法和组件通讯。" target="_self"><span>一个范例应用</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="start/start-routing" title="使用浏览器的 URL 在不同的页面视图之间导航。" target="_self"><span>应用内导航</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="start/start-data" title="通过 HTTP 使用服务并访问外部数据。" target="_self"><span>管理数据</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="start/start-forms" title="学习如何使用表单从用户获取并管理数据。" target="_self"><span>表单与用户输入</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="start/start-deployment" title="移到本地进行开发或者把应用部署到 Firebase 或你自己的服务器。" target="_self"><span>部署</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 expanded selected ng-star-inserted" title="英雄指南应用是很多 Angular 范例的参考点。" aria-pressed="true"><span>教程：英雄指南</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 expanded selected"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="tutorial" title="英雄指南教程简介" target="_self"><span>简介</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="tutorial/toh-pt0" title="创建应用的外壳" target="_self"><span>创建项目</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="tutorial/toh-pt1" title="第一部分：构建一个简单的英雄编辑器" target="_self"><span>1. 英雄编辑器</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="tutorial/toh-pt2" title="第二部分：构建一个主从结构的页面，用于展现英雄列表。" target="_self"><span>2. 显示英雄列表</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="tutorial/toh-pt3" title="第三部分：把主从结构的视图重构成几个独立的组件。" target="_self"><span>3. 创建特性组件</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="tutorial/toh-pt4" title="第四部分：创建一个可复用的服务来管理英雄数据。" target="_self"><span>4. 添加服务</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="tutorial/toh-pt5" title="第五部分：添加 Angular 路由器，并且学习在视图之间导航。" target="_self"><span>5. 添加应用内导航</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 expanded selected ng-star-inserted" style="position:relative" href="tutorial/toh-pt6" title="第六部分：通过 HTTP 来获取并保存英雄数据。" target="_self"><span>6. 从服务器获取数据</span></a></div></aio-nav-item></div></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="Angular 基础知识" aria-pressed="false"><span>基础知识</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="通过数据绑定构建动态视图" aria-pressed="false"><span>组件与模板</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/displaying-data" title="属性绑定可以帮助应用把数据显示在界面上" target="_self"><span>显示数据</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/template-syntax" title="学习如何写模板，以便借助数据绑定机制显示数据并响应事件。" target="_self"><span>模板语法</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/user-input" title="用户输入会触发 DOM 事件。Angular 会通过事件绑定来监听那些事件，并把修改后的值传回应用的组件和模型中。" target="_self"><span>用户输入</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/attribute-directives" title="属性型指令把行为添加到现有元素上。" target="_self"><span>属性型指令</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/structural-directives" title="结构型指令可以操纵页面的布局" target="_self"><span>结构型指令</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/pipes" title="管道可以在模板中转换显示的内容。" target="_self"><span>管道</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/lifecycle-hooks" title="Angular 会在创建、修改、删除指令和组件时，调用其生命周期钩子方法。" target="_self"><span>挂钩进组件的生命周期</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/component-interaction" title="在不同的指令和组件之间共享信息" target="_self"><span>组件交互</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/component-styles" title="添加专属于某个组件的样式" target="_self"><span>组件样式</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/dynamic-component-loader" title="动态加载组件" target="_self"><span>动态组件</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/elements" title="把组件转换成自定义元素" target="_self"><span>Angular 元素</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="表单可以创建集中、高效、引人注目的输入体验。" aria-pressed="false"><span>表单与用户输入</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/forms-overview" title="Angular 表单可以协调一组数据绑定控件，跟踪变更，验证输入，并表达错误信息。" target="_self"><span>简介</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/reactive-forms" title="使用 FormBuilder、表单组和表单数组创建响应式表单。" target="_self"><span>响应式表单</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/form-validation" title="验证用户的表单输入" target="_self"><span>验证表单输入</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/dynamic-form" title="使用 FormGroup 创建动态表单。" target="_self"><span>构建动态表单</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="使用 Observable 在 Angular 中进行信息传递。" aria-pressed="false"><span>Observable 与 RxJS</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/observables" title="使用 Observable 来同步或异步传递值。" target="_self"><span>Observable 概览</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/rx-library" title="一个响应式编程库，使用 Observable 来合并异步请求或基于回调的代码。" target="_self"><span>RxJS 库</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/observables-in-angular" title="Angular 各个子系统中如何使用和期待 Observable" target="_self"><span>Angular 中的可观察对象</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/practical-observable-usage" title="那些特别适用 Observable 的领域。" target="_self"><span>用法实战</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/comparing-observables" title="Observable 与 Promise 或其它消息传递技术的比较" target="_self"><span>与其它技术的比较</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Angular 中的模块" aria-pressed="false"><span>NgModules</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/ngmodules" title="使用 NgModule 让你的应用更高效" target="_self"><span>NgModule 简介</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/ngmodule-vs-jsmodule" title="JavaScript 模块和 NgModule 之间的差异" target="_self"><span>JS 模块 vs NgModule</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/bootstrapping" title="告诉 Angular 如何在根 &quot;AppModule&quot; 中构造和引导应用。" target="_self"><span>使用根模块启动应用</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/frequent-ngmodules" title="介绍最常用的 NgModule" target="_self"><span>常用模块</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/module-types" title="介绍特性模块的几种类型" target="_self"><span>特性模块的分类</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/entry-components" title="关于 Angular 中入口组件的一切" target="_self"><span>入口组件</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/feature-modules" title="创建特性模块，以组织你的代码" target="_self"><span>特性模块</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/providers" title="向 NgModule 提供依赖。" target="_self"><span>提供依赖</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/singleton-services" title="创建单例服务" target="_self"><span>单例服务</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/lazy-loading-ngmodules" title="惰性加载模块，以提高应用的性能" target="_self"><span>惰性加载的特性模块</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/sharing-ngmodules" title="共享 NgModule 让你的应用现代化。" target="_self"><span>共享 NgModule</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/ngmodule-api" title="理解 NgModule 的那些细节。" target="_self"><span>NgModule API</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/ngmodule-faq" title="回答关于 NgModules 的常见问题。" target="_self"><span>NgModule 常见问题</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="依赖注入：创建并注入各种服务。" aria-pressed="false"><span>依赖注入</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/dependency-injection" title="Angular 的依赖注入系统能够为 Angular 创建的类创建并交付它们所依赖的服务。" target="_self"><span>Angular 依赖注入</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/hierarchical-dependency-injection" title="与组件树平行的注入器树，并支持嵌套的依赖。" target="_self"><span>多级注入器</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/dependency-injection-providers" title="各种提供者类型的更多知识。" target="_self"><span>DI 提供者</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/dependency-injection-in-action" title="依赖注入的使用技巧" target="_self"><span>DI 实战</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/dependency-injection-navtree" title="使用注入器树来查找父组件。" target="_self"><span>浏览组件树</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/http" title="通过 HTTP 协议与远程服务器对话。" target="_self"><span>通过 HTTP 访问服务器</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/router" title="使用 Angular 路由器在多个视图之间进行应用内导航。" target="_self"><span>路由与导航</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/security" title="Angular 应用开发中的内容安全性。" target="_self"><span>安全</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="在你的环境中使用 Angular 的其它技术" aria-pressed="false"><span>其它技术</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="通过动画增强用户体验。" aria-pressed="false"><span>动画</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/animations" title="Angular 动画的基础技术。" target="_self"><span>简介</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/transition-and-triggers" title="转场与触发器的高级技术。" target="_self"><span>转场与触发器</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/complex-animation-sequences" title="复杂的 Angular 动画序列。" target="_self"><span>复杂序列</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/reusable-animations" title="创建可复用的动画。" target="_self"><span>可复用动画</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/route-animations" title="为路由提供转场动画。" target="_self"><span>路由转场动画</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/i18n" title="把应用模板中的文本翻译成多种语言。" target="_self"><span>国际化（i18n）</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/accessibility" title="设计能被所有用户访问的应用" target="_self"><span>无障碍（a11y）</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="Angular Service Worker: 控制应用资源的缓存。" aria-pressed="false"><span>Service Worker 与 PWA</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/service-worker-intro" title="Angular 对 Service Worker 的实现提升了慢速或不稳定的网络连接下的用户体验。" target="_self"><span>简介</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/service-worker-getting-started" title="在 CLI 项目中启用 Service Worker，并在浏览器中查看效果。" target="_self"><span>快速上手</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/app-shell" title="快速渲染应用的一部分，以增强启动时的体验。" target="_self"><span>应用外壳</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/service-worker-communications" title="那些能让你和 Angular 的 Service Worker 通讯的服务类。" target="_self"><span>与 Service Worker 通讯</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/service-worker-devops" title="运行带有 Service Worker 的应用、管理应用的更新、调试以及杀死应用。" target="_self"><span>生产环境下的 Service Worker</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/service-worker-config" title="配置 Service Worker 的缓存行为。" target="_self"><span>Service Worker 配置</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/web-worker" title="Using web workers for background processing." target="_self"><span>Web Workers</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/universal" title="使用 Angular Universal 在服务端渲染 HTML。" target="_self"><span>服务端渲染</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="把 AngularJS 应用增量式的升级到 Angular。" aria-pressed="false"><span>从 AngularJS 升级</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/upgrade" title="把 AngularJS 应用增量式的升级到 Angular。" target="_self"><span>升级步骤</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/upgrade-performance" title="用更灵活的方式把 AngularJS 升级到 Angular。" target="_self"><span>更关注性能的升级方式</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/ajs-quick-reference" title="学习如何把 AngularJS 的概念映射到 Angular 中。" target="_self"><span>AngularJS 与 Angular 的概念对照</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="使用共享库扩展 Angular" aria-pressed="false"><span>开发 Angular 库</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/libraries" title="理解何时以及如何使用和创建库。" target="_self"><span>库概览</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/using-libraries" title="把已发布的库集成进你的应用中。" target="_self"><span>使用已发布的库</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/creating-libraries" title="通过创建、发布和使用你自己的库来扩展 Angular。" target="_self"><span>创建库</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/lightweight-injection-tokens" title="使用轻量级注入令牌来设计库中的服务，以优化客户端应用的大小。" target="_self"><span>供库使用的轻量级注入令牌</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="使用 CLI 原理图进行代码生成。" aria-pressed="false"><span>原理图（Schematics）</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/schematics" title="CLI 如何使用原理图来生成代码。" target="_self"><span>原理图概览</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/schematics-authoring" title="理解原理图的结构。" target="_self"><span>制作原理图</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/schematics-for-libraries" title="使用原理图来把你的库集成进 Angular CLI 中。" target="_self"><span>库的原理图</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/cli-builder" title="使用构建器定制 Angular CLI。" target="_self"><span>CLI 构建器</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="关于构建、测试和部署的信息" aria-pressed="false"><span>开发工作流</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="理解（AOT）预先编译器" aria-pressed="false"><span>AOT 预先编译器</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/aot-compiler" title="学习为何以及如何使用预先编译器。" target="_self"><span>预先编译</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/angular-compiler-options" title="配置 AOT 编译。" target="_self"><span>Angular 编译器选项</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/aot-metadata-errors" title="解决 AOT 编译错误。" target="_self"><span>AOT 元数据错误</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/template-typecheck" title="Angular 中的模板类型检查。" target="_self"><span>模板类型检查</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/build" title="构建应用及为应用启动开发服务器。" target="_self"><span>构建与运行</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/testing" title="测试 Angular 应用的技巧与实践。" target="_self"><span>测试</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/deployment" title="了解如何部署 Angular 应用。" target="_self"><span>发布</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="与开发环境和工具集成起来" aria-pressed="false"><span>开发工具集成</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/language-service" title="使用 Angular 语言服务加速开发。" target="_self"><span>语言服务</span></a></div></aio-nav-item></div></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="工作空间与项目的结构，及其配置。" aria-pressed="false"><span>配置</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/file-structure" title="Angular 工作区在文件系统中是怎样的。" target="_self"><span>项目文件结构</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/workspace-config" title="&quot;angular.json&quot; 包含供 CLI 命令使用的工作区和项目默认配置。" target="_self"><span>工作区配置</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/npm-packages" title="开发期间和运行期间所需的 npm 包的说明。" target="_self"><span>npm 包</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/typescript-configuration" title="给 Angular 开发者的 TypeScript 配置。" target="_self"><span>TypeScript 配置</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/browser-support" title="浏览器支持与腻子脚本指南。" target="_self"><span>浏览器支持</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/strict-mode" title="Reference documentation for Angular's strict mode." target="_self"><span>Strict mode</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="使用库，以及扩展 Angular CLI" aria-pressed="false"><span>扩展 Angular</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="使用共享库扩展 Angular" aria-pressed="false"><span>Angular 库</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/libraries" title="理解如何以及何时使用或创建库" target="_self"><span>库概览</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/using-libraries" title="把已发布的库集成到应用中" target="_self"><span>使用已发布的库</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/creating-libraries" title="通过创建、发布和使用自定义库来扩展 Angular" target="_self"><span>创建库</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="理解原理图" aria-pressed="false"><span>原理图（Schematic）</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/schematics" title="扩展 CLI 的生成能力" target="_self"><span>原理图概览</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/schematics-authoring" title="理解原理图的结构" target="_self"><span>创作原理图</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/schematics-for-libraries" title="使用原理图把你的库整合进 Angular CLI" target="_self"><span>库的原理图</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/cli-builder" title="使用构建器定制 Angular CLI" target="_self"><span>CLI 构建器</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="一个端到端教程，用来学习 Angular 的概念和模式。" aria-pressed="false"><span>教程</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/router-tutorial" title="一个与 Angular 路由有关的、涵盖很多模式的教程。" target="_self"><span>在单页面应用中使用 Angular 路由</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/forms" title="使用指令和 Angular 模板语法来创建模板驱动表单。" target="_self"><span>构建模板驱动表单</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="Angular 的版本发布实践、更新与升级。" aria-pressed="false"><span>发布信息</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/updating" title="如何把 Angular 应用和库升级到最新版本。" target="_self"><span>保持最新</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/releases" title="Angular 的版本、发布、支持、弃用策略及实践。" target="_self"><span>发布实践</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="支持把你的应用从 9 升级到 10。" aria-pressed="false"><span>升级到 Angular 10</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/updating-to-version-10" title="当把应用从 9 升到 10 时你需要知道的一切。" target="_self"><span>概览</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/ivy-compatibility" title="确保你的应用和 Ivy 兼容的详细指南。" target="_self"><span>Ivy 兼容性指南</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-3 collapsed ng-star-inserted" title="升级到 Angular 10 时一些可选的迁移工作。" aria-pressed="false"><span>可选的迁移工作</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-3 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/migration-module-with-providers" title="为任何缺失了泛型的 ModuleWithProviders 添加泛型类型。" target="_self"><span>缺少 ModuleWithProviders 泛型</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/migration-undecorated-classes" title="添加缺失的 @Directive()/@Component() 装饰器。" target="_self"><span>缺少 @Directive() 装饰器</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/migration-injectable" title="添加缺失的 @Injectable() 装饰器，补齐不完整的服务提供者定义。" target="_self"><span>缺少 @Injectable() 装饰器</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/migration-solution-style-tsconfig" title="创建解决方案型的 `tsconfig.json`." target="_self"><span>解决方案型的 `tsconfig.json`</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/migration-update-libraries-tslib" title="直接依赖 `tslib` npm 包。" target="_self"><span>`tslib` 直接依赖</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-4 collapsed ng-star-inserted" style="position:relative" href="guide/migration-update-module-and-target-compiler-options" title="修改 `module` 和 `target` 编译器选项。" target="_self"><span>`module` 和 `target` 编译器选项</span></a></div></aio-nav-item></div></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/deprecations" title="弃用的 Angular API 和特性汇总。" target="_self"><span>弃用清单</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/ivy" title="关于 Angular Ivy 的编译与渲染管道。" target="_self"><span>Angular Ivy</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-2 collapsed ng-star-inserted" title="把 AngularJS 应用增量式的升级到 Angular。" aria-pressed="false"><span>从 AngularJS 升级</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-2 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/upgrade" title="把 AngularJS 应用增量式的升级到 Angular。" target="_self"><span>升级步骤</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/upgrade-performance" title="用更灵活的方式把 AngularJS 升级到 Angular。" target="_self"><span>更关注性能的升级方式</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-3 collapsed ng-star-inserted" style="position:relative" href="guide/ajs-quick-reference" title="学习如何把 AngularJS 的概念映射到 Angular 中。" target="_self"><span>AngularJS 与 Angular 的概念对照</span></a></div></aio-nav-item></div></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="Angular 的语法、代码、文档风格汇总。" aria-pressed="false"><span>Angular 的风格与用法</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/cheatsheet" title="关于 Angular 常用编码技术的快速指南。" target="_self"><span>速查表</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="guide/styleguide" title="编写 Angular 代码的指南。" target="_self"><span>代码风格指南</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><button type="button" class="vertical-menu-item heading level-1 collapsed ng-star-inserted" title="Angular CLI 命令参考手册。" aria-pressed="false"><span>CLI 命令参考手册</span><mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><div class="heading-children level-1 collapsed"><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli" title="CLI 工具介绍、命令、语法" target="_self"><span>概览</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli/usage-analytics-gathering" title="管理员如何从用户那里收集使用情况分析。" target="_self"><span>使用情况分析</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli/add" title="ng add." target="_self"><span>ng add</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli/analytics" title="ng analytics." target="_self"><span>ng analytics</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli/build" title="ng build." target="_self"><span>ng build</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli/config" title="ng config." target="_self"><span>ng config</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli/deploy" title="ng deploy." target="_self"><span>ng deploy</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli/doc" title="ng doc." target="_self"><span>ng doc</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli/e2e" title="ng e2e." target="_self"><span>ng e2e</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli/generate" title="ng generate." target="_self"><span>ng generate</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli/help" title="ng help." target="_self"><span>ng help</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli/lint" title="ng lint." target="_self"><span>ng lint</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli/new" title="ng new." target="_self"><span>ng new</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli/run" title="ng run." target="_self"><span>ng run</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli/serve" title="ng serve." target="_self"><span>ng serve</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli/test" title="ng test." target="_self"><span>ng test</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli/update" title="ng update." target="_self"><span>ng update</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli/version" title="ng version." target="_self"><span>ng version</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-2 collapsed ng-star-inserted" style="position:relative" href="cli/xi18n" title="ng xi18n." target="_self"><span>ng xi18n</span></a></div></aio-nav-item></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-1 collapsed ng-star-inserted" style="position:relative" href="api" title="Angular 中的包、类、接口和其它类型的详情。" target="_self"><span>API 参考手册</span></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><div class="mat-divider ng-star-inserted" style="margin:4px 20px;border-top:1px solid #d3d3d3"></div></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-1 collapsed ng-star-inserted" style="position:relative" href="https://github.com/ng-docs/ng-docs.github.io/issues" title="github 上的中文互助问答区" target="_blank"><span>互助问答</span><mat-icon role="img" class="mat-icon notranslate material-icons mat-icon-no-color ng-star-inserted" aria-hidden="true">open_in_new</mat-icon></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-1 collapsed ng-star-inserted" style="position:relative" href="https://material.angular.cn" title="Angular Material 组件库的中文文档" target="_blank"><span>官方 Material 组件库</span><mat-icon role="img" class="mat-icon notranslate material-icons mat-icon-no-color ng-star-inserted" aria-hidden="true">open_in_new</mat-icon></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-1 collapsed ng-star-inserted" style="position:relative" href="https://ng.ant.design/" title="Ant Design 的 Angular 实现，服务于企业级后台产品。" target="_blank"><span>ng-zorro 组件库</span><mat-icon role="img" class="mat-icon notranslate material-icons mat-icon-no-color ng-star-inserted" aria-hidden="true">open_in_new</mat-icon></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-1 collapsed ng-star-inserted" style="position:relative" href="https://devui.design/" title="“华为云” 开源的企业级组件库，核心设计思想是：致简、沉浸、灵活" target="_blank"><span>华为 DevUI 组件库</span><mat-icon role="img" class="mat-icon notranslate material-icons mat-icon-no-color ng-star-inserted" aria-hidden="true">open_in_new</mat-icon></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-1 collapsed ng-star-inserted" style="position:relative" href="https://ngnest.com/" title="基于 Angular 和 Nest 的 Web 应用程序框架，UI 库中涵盖了企业开发中需要的大部分组件，table、form、tree、message、dialog、menu、tabs 等一共 60+ 基础组件" target="_blank"><span>ng-nest 组件库</span><mat-icon role="img" class="mat-icon notranslate material-icons mat-icon-no-color ng-star-inserted" aria-hidden="true">open_in_new</mat-icon></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-1 collapsed ng-star-inserted" style="position:relative" href="https://ng.mobile.ant.design/" title="Ant Design Mobile 的 Angular 实现，服务于无线产品。" target="_blank"><span>ng-zorro mobile 组件库</span><mat-icon role="img" class="mat-icon notranslate material-icons mat-icon-no-color ng-star-inserted" aria-hidden="true">open_in_new</mat-icon></a></div></aio-nav-item><aio-nav-item class="ng-star-inserted"><div class="ng-star-inserted"><a class="vertical-menu-item level-1 collapsed ng-star-inserted" style="position:relative" href="https://flutter.cn/" title="Flutter 中文文档站" target="_blank"><span>友站：Flutter 中文</span><mat-icon role="img" class="mat-icon notranslate material-icons mat-icon-no-color ng-star-inserted" aria-hidden="true">open_in_new</mat-icon></a></div></aio-nav-item></aio-nav-menu><div class="doc-version ng-tns-c18-1"><aio-select><div class="form-select-menu"><button class="form-select-button"><span><strong></strong></span><span>同步翻译版 (v10.0.0-rc.0)</span></button></div></aio-select></div></div></mat-sidenav><div class="cdk-visually-hidden cdk-focus-trap-anchor" aria-hidden="true"></div><mat-sidenav-content cdkscrollable="" class="mat-drawer-content mat-sidenav-content ng-star-inserted" style="margin-left:261px"><main role="main" class="sidenav-content" id="tutorial-toh-pt6"><aio-mode-banner></aio-mode-banner><aio-doc-viewer class=""><div style="opacity:1"><div class="github-links"><a href="https://github.com/angular/angular-cn/edit/aio/aio/content/tutorial/toh-pt6.md?message=docs%3A%20请简述你的修改..." aria-label="提供编辑建议" title="提供编辑建议"><i class="material-icons" aria-hidden="true" role="img">mode_edit</i></a></div><div class="content"><h1 id="get-data-from-a-server" translation-result="on">从服务端获取数据<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#get-data-from-a-server"><i class="material-icons">link</i></a></h1><aio-toc class="embedded" ng-version="10.0.0-rc.2"><div class="toc-inner no-print collapsed ng-star-inserted"><button type="button" title="Expand/collapse contents" aria-label="Expand/collapse contents" class="toc-heading embedded secondary ng-star-inserted" aria-pressed="false">目录<mat-icon role="img" svgicon="keyboard_arrow_right" class="mat-icon notranslate rotating-icon collapsed mat-icon-no-color" aria-hidden="true"><svg focusable="false" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></mat-icon></button><ul class="toc-list embedded"><li class="h2 ng-star-inserted" title="启用 HTTP 服务"><a href="tutorial/toh-pt6#enable-http-services">启用 HTTP 服务</a></li><li class="h2 ng-star-inserted" title="模拟数据服务器"><a href="tutorial/toh-pt6#simulate-a-data-server">模拟数据服务器</a></li><li class="h2 ng-star-inserted" title="英雄与 HTTP"><a href="tutorial/toh-pt6#heroes-and-http">英雄与 HTTP</a></li><li class="h3 secondary ng-star-inserted" title="通过 HttpClient 获取英雄"><a href="tutorial/toh-pt6#get-heroes-with-httpclient">通过 <code>HttpClient</code> 获取英雄</a></li><li class="h3 secondary ng-star-inserted" title="HttpClient 的方法返回单个值"><a href="tutorial/toh-pt6#httpclient-methods-return-one-value"><code>HttpClient</code> 的方法返回单个值</a></li><li class="h3 secondary ng-star-inserted" title="HttpClient.get() 返回响应数据"><a href="tutorial/toh-pt6#httpclientget-returns-response-data"><code>HttpClient.get()</code> 返回响应数据</a></li><li class="h3 secondary ng-star-inserted" title="错误处理"><a href="tutorial/toh-pt6#error-handling">错误处理</a></li><li class="h3 secondary ng-star-inserted" title="窥探 Observable"><a href="tutorial/toh-pt6#tap-into-the-observable">窥探 <code>Observable</code></a></li><li class="h3 secondary ng-star-inserted" title="通过 id 获取英雄"><a href="tutorial/toh-pt6#get-hero-by-id">通过 id 获取英雄</a></li><li class="h2 secondary ng-star-inserted" title="修改英雄"><a href="tutorial/toh-pt6#update-heroes">修改英雄</a></li><li class="h2 secondary ng-star-inserted" title="添加新英雄"><a href="tutorial/toh-pt6#add-a-new-hero">添加新英雄</a></li><li class="h2 secondary ng-star-inserted" title="删除某个英雄"><a href="tutorial/toh-pt6#delete-a-hero">删除某个英雄</a></li><li class="h2 secondary ng-star-inserted" title="根据名字搜索"><a href="tutorial/toh-pt6#search-by-name">根据名字搜索</a></li><li class="h3 secondary ng-star-inserted" title="为仪表盘添加搜索功能"><a href="tutorial/toh-pt6#add-search-to-the-dashboard">为仪表盘添加搜索功能</a></li><li class="h3 secondary ng-star-inserted" title="创建 HeroSearchComponent"><a href="tutorial/toh-pt6#create-herosearchcomponent">创建 <code>HeroSearchComponent</code></a></li><li class="h3 secondary ng-star-inserted" title="AsyncPipe"><a href="tutorial/toh-pt6#asyncpipe"><code>AsyncPipe</code></a></li><li class="h3 secondary ng-star-inserted" title="修正 HeroSearchComponent 类"><a href="tutorial/toh-pt6#edit-the-herosearchcomponent-class">修正 <code>HeroSearchComponent</code> 类</a></li><li class="h3 secondary ng-star-inserted" title="RxJS Subject 类型的 searchTerms"><a href="tutorial/toh-pt6#the-searchterms-rxjs-subject">RxJS <code>Subject</code> 类型的 <code>searchTerms</code></a></li><li class="h3 secondary ng-star-inserted" title="串联 RxJS 操作符"><a href="tutorial/toh-pt6#chaining-rxjs-operators">串联 RxJS 操作符</a></li><li class="h2 secondary ng-star-inserted" title="查看最终代码"><a href="tutorial/toh-pt6#final-code-review">查看最终代码</a></li><li class="h2 secondary ng-star-inserted" title="小结"><a href="tutorial/toh-pt6#summary">小结</a></li></ul><button type="button" title="Expand/collapse contents" aria-label="Expand/collapse contents" class="toc-more-items embedded material-icons collapsed ng-star-inserted" aria-pressed="false"></button></div></aio-toc><h1 translation-origin="off" id="get-data-from-a-server">Get data from a server<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#get-data-from-a-server"><i class="material-icons">link</i></a></h1><p translation-result="on">在这节课中，你将借助 Angular 的 <code><a href="api/common/http/HttpClient" class="code-anchor">HttpClient</a></code> 来添加一些数据持久化特性。</p><p translation-origin="off">In this tutorial, you'll add the following data persistence features with help from Angular's <code><a href="api/common/http/HttpClient" class="code-anchor">HttpClient</a></code>.</p><ul><li><p translation-result="on"> <code>HeroService</code> 通过 HTTP 请求获取英雄数据。</p><p translation-origin="off">The <code>HeroService</code> gets hero data with HTTP requests.</p></li><li><p translation-result="on">用户可以添加、编辑和删除英雄，并通过 HTTP 来保存这些更改。</p><p translation-origin="off">Users can add, edit, and delete heroes and save these changes over HTTP.</p></li><li><p translation-result="on">用户可以根据名字搜索英雄。</p><p translation-origin="off">Users can search for heroes by name.</p></li></ul><div class="alert is-helpful"><p translation-result="on">要查看本页所讲的范例程序，参见<live-example ng-version="10.0.0-rc.2"><span style="display:none"></span><span><span class="ng-star-inserted"><a target="_blank" title="现场演练" href="generated/live-examples/toh-pt6/stackblitz.html">现场演练</a><span class="ng-star-inserted"> / <a download="" title="下载范例" href="generated/zips/toh-pt6/toh-pt6.zip">下载范例</a></span></span></span></live-example>。</p><p translation-origin="off">For the sample app that this page describes, see the<live-example ng-version="10.0.0-rc.2"><span style="display:none"></span><span><span class="ng-star-inserted"><a target="_blank" title="现场演练" href="generated/live-examples/toh-pt6/stackblitz.html">现场演练</a><span class="ng-star-inserted"> / <a download="" title="下载范例" href="generated/zips/toh-pt6/toh-pt6.zip">下载范例</a></span></span></span></live-example>.</p></div><h2 id="enable-http-services" translation-result="on">启用 HTTP 服务<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#enable-http-services"><i class="material-icons">link</i></a></h2><h2 translation-origin="off" id="enable-http-services">Enable HTTP services<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#enable-http-services"><i class="material-icons">link</i></a></h2><p translation-result="on"><code><a href="api/common/http/HttpClient" class="code-anchor">HttpClient</a></code> 是 Angular 通过 HTTP 与远程服务器通讯的机制。</p><p translation-origin="off"><code><a href="api/common/http/HttpClient" class="code-anchor">HttpClient</a></code> is Angular's mechanism for communicating with a remote server over HTTP.</p><p translation-result="on">要让 <code><a href="api/common/http/HttpClient" class="code-anchor">HttpClient</a></code> 在应用中随处可用，需要两个步骤。首先，用导入语句把它添加到根模块 <code>AppModule</code> 中：</p><p translation-origin="off">Make <code><a href="api/common/http/HttpClient" class="code-anchor">HttpClient</a></code> available everywhere in the app in two steps. First, add it to the root <code>AppModule</code> by importing it:</p><code-example path="toh-pt6/src/app/app.module.ts" region="import-http-client" header="src/app/app.module.ts (HttpClientModule import)" ng-version="10.0.0-rc.2"><div style="display:none">import { <a href="api/common/http/HttpClientModule" class="code-anchor">HttpClientModule</a> } from '@angular/common/<a href="api/common/http" class="code-anchor">http</a>';</div><header class="ng-star-inserted">src/app/app.module.ts (HttpClientModule import)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.module.ts (HttpClientModule import)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/common/http/HttpClientModule" class="code-anchor"><span class="typ">HttpClientModule</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln">    </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/common/</span><a href="api/common/http" class="code-anchor"><span class="str">http</span></a><span class="str">'</span><span class="pun">;</span></code>
    </pre></aio-code></code-example><p translation-result="on">接下来，仍然在 <code>AppModule</code> 中，把 <code><a href="api/common/http/HttpClientModule" class="code-anchor">HttpClientModule</a></code> 添加到 <code>imports</code> 数组中：</p><p translation-origin="off">Next, still in the <code>AppModule</code>, add <code><a href="api/common/http/HttpClient" class="code-anchor">HttpClient</a></code> to the <code>imports</code> array:</p><code-example path="toh-pt6/src/app/app.module.ts" region="import-httpclientmodule" header="src/app/app.module.ts (imports array excerpt)" ng-version="10.0.0-rc.2"><div style="display:none">@<a href="api/core/NgModule" class="code-anchor">NgModule</a>({ imports: [ <a href="api/common/http/HttpClientModule" class="code-anchor">HttpClientModule</a>, ], })</div><header class="ng-star-inserted">src/app/app.module.ts (imports array excerpt)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.module.ts (imports array excerpt)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="lit">@</span><a href="api/core/NgModule" class="code-anchor"><span class="lit">NgModule</span></a><span class="pun">({</span><span class="pln">
  imports</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
    </span><a href="api/common/http/HttpClientModule" class="code-anchor"><span class="typ">HttpClientModule</span></a><span class="pun">,</span><span class="pln">
  </span><span class="pun">],</span><span class="pln">
</span><span class="pun">})</span></code>
    </pre></aio-code></code-example><h2 id="simulate-a-data-server" translation-result="on">模拟数据服务器<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#simulate-a-data-server"><i class="material-icons">link</i></a></h2><h2 translation-origin="off" id="simulate-a-data-server">Simulate a data server<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#simulate-a-data-server"><i class="material-icons">link</i></a></h2><p translation-result="on">这个教学例子会与一个使用 <a href="https://github.com/angular/in-memory-web-api" title="In-memory Web API">内存 Web API（<em>In-memory Web API</em>）</a> 模拟出的远程数据服务器通讯。</p><p translation-origin="off">This tutorial sample mimics communication with a remote data server by using the <a href="https://github.com/angular/in-memory-web-api" title="In-memory Web API">In-memory Web API</a> module.</p><p translation-result="on">安装完这个模块之后，应用将会通过 <code><a href="api/common/http/HttpClient" class="code-anchor">HttpClient</a></code> 来发起请求和接收响应，而不用在乎实际上是这个内存 Web API 在拦截这些请求、操作一个内存数据库，并且给出仿真的响应。</p><p translation-origin="off">After installing the module, the app will make requests to and receive responses from the <code><a href="api/common/http/HttpClient" class="code-anchor">HttpClient</a></code> without knowing that the <em>In-memory Web API</em> is intercepting those requests, applying them to an in-memory data store, and returning simulated responses.</p><p translation-result="on">通过使用内存 Web API，你不用架设服务器就可以学习 <code><a href="api/common/http/HttpClient" class="code-anchor">HttpClient</a></code> 了。</p><p translation-origin="off">By using the In-memory Web API, you won't have to set up a server to learn about <code><a href="api/common/http/HttpClient" class="code-anchor">HttpClient</a></code>.</p><div class="alert is-important"><p translation-result="on"><strong>重要：</strong> 这个<em>内存 Web API</em> 模块与 Angular 中的 HTTP 模块无关。</p><p translation-origin="off"><strong>Important:</strong> the In-memory Web API module has nothing to do with HTTP in Angular.</p><p translation-result="on">如果你只是在<em>阅读</em>本教程来学习 <code><a href="api/common/http/HttpClient" class="code-anchor">HttpClient</a></code>，那么可以<a href="tutorial/toh-pt6#import-heroes">跳过</a>这一步。 如果你正在随着本教程<em>敲代码</em>，那就留下来，并加上这个<em>内存 Web API</em>。</p><p translation-origin="off">If you're just reading this tutorial to learn about <code><a href="api/common/http/HttpClient" class="code-anchor">HttpClient</a></code>, you can <a href="tutorial/toh-pt6#import-heroes">skip over</a> this step. If you're coding along with this tutorial, stay here and add the In-memory Web API now.</p></div><p translation-result="on">用如下命令从 <code>npm</code> 中安装这个<em>内存 Web API</em> 包（译注：请使用 0.5+ 的版本，不要使用 0.4-）</p><p translation-origin="off">Install the In-memory Web API package from npm with the following command:</p><code-example language="sh" class="code-shell" ng-version="10.0.0-rc.2"><div style="display:none">npm install angular-in-memory-web-api --save</div><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">npm install angular</span><span class="pun">-</span><span class="kwd">in</span><span class="pun">-</span><span class="pln">memory</span><span class="pun">-</span><span class="pln">web</span><span class="pun">-</span><span class="pln">api </span><span class="pun">--</span><span class="pln">save</span></code>
    </pre></aio-code></code-example><p translation-result="on">在 <code>AppModule</code> 中，导入 <code>HttpClientInMemoryWebApiModule</code> 和 <code>InMemoryDataService</code> 类，稍后你将创建它们。</p><p translation-origin="off">In the <code>AppModule</code>, import the <code>HttpClientInMemoryWebApiModule</code> and the <code>InMemoryDataService</code> class, which you will create in a moment.</p><code-example path="toh-pt6/src/app/app.module.ts" region="import-in-mem-stuff" header="src/app/app.module.ts (In-memory Web API imports)" ng-version="10.0.0-rc.2"><div style="display:none">import { HttpClientInMemoryWebApiModule } from 'angular-in-memory-web-api'; import { InMemoryDataService } from './in-memory-data.service';</div><header class="ng-star-inserted">src/app/app.module.ts (In-memory Web API imports)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.module.ts (In-memory Web API imports)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HttpClientInMemoryWebApiModule</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'angular-in-memory-web-api'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">InMemoryDataService</span><span class="pln"> </span><span class="pun">}</span><span class="pln">  </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./in-memory-data.service'</span><span class="pun">;</span></code>
    </pre></aio-code></code-example><p translation-result="on">在 <code><a href="api/common/http/HttpClientModule" class="code-anchor">HttpClientModule</a></code> 之后，将 <code>HttpClientInMemoryWebApiModule</code> 添加到 <code>AppModule</code> 的 <code>imports</code> 数组中，并以 <code>InMemoryDataService</code> 为参数对其进行配置。</p><p translation-origin="off">After the <code><a href="api/common/http/HttpClientModule" class="code-anchor">HttpClientModule</a></code>, add the <code>HttpClientInMemoryWebApiModule</code> to the <code>AppModule</code> <code>imports</code> array and configure it with the <code>InMemoryDataService</code>.</p><code-example path="toh-pt6/src/app/app.module.ts" header="src/app/app.module.ts (imports array excerpt)" region="in-mem-web-api-imports" ng-version="10.0.0-rc.2"><div style="display:none"><a href="api/common/http/HttpClientModule" class="code-anchor">HttpClientModule</a>, // The HttpClientInMemoryWebApiModule module intercepts HTTP requests // and returns simulated server responses. // Remove it when a real server is ready to receive requests. HttpClientInMemoryWebApiModule.forRoot( InMemoryDataService, { dataEncapsulation: false } )</div><header class="ng-star-inserted">src/app/app.module.ts (imports array excerpt)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/app.module.ts (imports array excerpt)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><a href="api/common/http/HttpClientModule" class="code-anchor"><span class="typ">HttpClientModule</span></a><span class="pun">,</span><span class="pln">

</span><span class="com">// The HttpClientInMemoryWebApiModule module intercepts HTTP requests</span><span class="pln">
</span><span class="com">// and returns simulated server responses.</span><span class="pln">
</span><span class="com">// Remove it when a real server is ready to receive requests.</span><span class="pln">
</span><span class="typ">HttpClientInMemoryWebApiModule</span><span class="pun">.</span><span class="pln">forRoot</span><span class="pun">(</span><span class="pln">
  </span><span class="typ">InMemoryDataService</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> dataEncapsulation</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="pun">)</span></code>
    </pre></aio-code></code-example><p translation-result="on"><code>forRoot()</code> 配置方法接收一个 <code>InMemoryDataService</code> 类来初始化内存数据库。</p><p translation-origin="off">The <code>forRoot()</code> configuration method takes an <code>InMemoryDataService</code> class that primes the in-memory database.</p><p translation-result="on">使用以下命令生成类 <code>src/app/in-memory-data.service.ts</code>：</p><p translation-origin="off">Generate the class <code>src/app/in-memory-data.service.ts</code> with the following command:</p><code-example language="sh" class="code-shell" ng-version="10.0.0-rc.2"><div style="display:none">ng generate service InMemoryData</div><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">ng generate service </span><span class="typ">InMemoryData</span></code>
    </pre></aio-code></code-example><p translation-result="on">将 <code>in-memory-data.service.ts</code> 改为以下内容：</p><p translation-origin="off">Replace the default contents of <code>in-memory-data.service.ts</code> with the following:</p><code-example path="toh-pt6/src/app/in-memory-data.service.ts" region="init" header="src/app/in-memory-data.service.ts" ng-version="10.0.0-rc.2"><div style="display:none">import { <a href="api/core/Injectable" class="code-anchor">Injectable</a> } from '@angular/core'; import { InMemoryDbService } from 'angular-in-memory-web-api'; import { Hero } from './hero'; @<a href="api/core/Injectable" class="code-anchor">Injectable</a>({ providedIn: 'root', }) export class InMemoryDataService implements InMemoryDbService { createDb() { const heroes = [ { id: 11, name: 'Dr Nice' }, { id: 12, name: 'Narco' }, { id: 13, name: 'Bombasto' }, { id: 14, name: 'Celeritas' }, { id: 15, name: 'Magneta' }, { id: 16, name: 'RubberMan' }, { id: 17, name: 'Dynama' }, { id: 18, name: 'Dr IQ' }, { id: 19, name: 'Magma' }, { id: 20, name: 'Tornado' } ]; return {heroes}; } // Overrides the genId method to ensure that a hero always has an id. // If the heroes array is empty, // the method below returns the initial number (11). // if the heroes array is not empty, the method below returns the highest // hero id + 1. genId(heroes: Hero[]): number { return heroes.length &gt; 0 ? Math.max(...heroes.map(hero =&gt; hero.id)) + 1 : 11; } }</div><header class="ng-star-inserted">src/app/in-memory-data.service.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/in-memory-data.service.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/Injectable" class="code-anchor"><span class="typ">Injectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">InMemoryDbService</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'angular-in-memory-web-api'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Hero</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./hero'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/Injectable" class="code-anchor"><span class="lit">Injectable</span></a><span class="pun">({</span><span class="pln">
  providedIn</span><span class="pun">:</span><span class="pln"> </span><span class="str">'root'</span><span class="pun">,</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">InMemoryDataService</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">InMemoryDbService</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  createDb</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> heroes </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">
      </span><span class="pun">{</span><span class="pln"> id</span><span class="pun">:</span><span class="pln"> </span><span class="lit">11</span><span class="pun">,</span><span class="pln"> name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Dr Nice'</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
      </span><span class="pun">{</span><span class="pln"> id</span><span class="pun">:</span><span class="pln"> </span><span class="lit">12</span><span class="pun">,</span><span class="pln"> name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Narco'</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
      </span><span class="pun">{</span><span class="pln"> id</span><span class="pun">:</span><span class="pln"> </span><span class="lit">13</span><span class="pun">,</span><span class="pln"> name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Bombasto'</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
      </span><span class="pun">{</span><span class="pln"> id</span><span class="pun">:</span><span class="pln"> </span><span class="lit">14</span><span class="pun">,</span><span class="pln"> name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Celeritas'</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
      </span><span class="pun">{</span><span class="pln"> id</span><span class="pun">:</span><span class="pln"> </span><span class="lit">15</span><span class="pun">,</span><span class="pln"> name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Magneta'</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
      </span><span class="pun">{</span><span class="pln"> id</span><span class="pun">:</span><span class="pln"> </span><span class="lit">16</span><span class="pun">,</span><span class="pln"> name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'RubberMan'</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
      </span><span class="pun">{</span><span class="pln"> id</span><span class="pun">:</span><span class="pln"> </span><span class="lit">17</span><span class="pun">,</span><span class="pln"> name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Dynama'</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
      </span><span class="pun">{</span><span class="pln"> id</span><span class="pun">:</span><span class="pln"> </span><span class="lit">18</span><span class="pun">,</span><span class="pln"> name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Dr IQ'</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
      </span><span class="pun">{</span><span class="pln"> id</span><span class="pun">:</span><span class="pln"> </span><span class="lit">19</span><span class="pun">,</span><span class="pln"> name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Magma'</span><span class="pln"> </span><span class="pun">},</span><span class="pln">
      </span><span class="pun">{</span><span class="pln"> id</span><span class="pun">:</span><span class="pln"> </span><span class="lit">20</span><span class="pun">,</span><span class="pln"> name</span><span class="pun">:</span><span class="pln"> </span><span class="str">'Tornado'</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">];</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">heroes</span><span class="pun">};</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="com">// Overrides the genId method to ensure that a hero always has an id.</span><span class="pln">
  </span><span class="com">// If the heroes array is empty,</span><span class="pln">
  </span><span class="com">// the method below returns the initial number (11).</span><span class="pln">
  </span><span class="com">// if the heroes array is not empty, the method below returns the highest</span><span class="pln">
  </span><span class="com">// hero id + 1.</span><span class="pln">
  genId</span><span class="pun">(</span><span class="pln">heroes</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Hero</span><span class="pun">[]):</span><span class="pln"> number </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> heroes</span><span class="pun">.</span><span class="pln">length </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">max</span><span class="pun">(...</span><span class="pln">heroes</span><span class="pun">.</span><span class="pln">map</span><span class="pun">(</span><span class="pln">hero </span><span class="pun">=&gt;</span><span class="pln"> hero</span><span class="pun">.</span><span class="pln">id</span><span class="pun">))</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="lit">11</span><span class="pun">;</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on"><code>in-memory-data.service.ts</code> 文件已代替了 <code>mock-heroes.ts</code> 文件，现在后者可以安全的删除了。</p><p translation-origin="off">The <code>in-memory-data.service.ts</code> file will take over the function of <code>mock-heroes.ts</code>. However, don't delete <code>mock-heroes.ts</code> yet, as you still need it for a few more steps of this tutorial.</p><p translation-result="on">等服务器就绪后，你就可以抛弃这个内存 Web API，应用的请求将直接传给服务器。</p><p translation-origin="off">When the server is ready, you'll detach the In-memory Web API, and the app's requests will go through to the server.</p><a id="import-heroes"></a><h2 id="heroes-and-http" translation-result="on">英雄与 HTTP<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#heroes-and-http"><i class="material-icons">link</i></a></h2><h2 translation-origin="off" id="heroes-and-http">Heroes and HTTP<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#heroes-and-http"><i class="material-icons">link</i></a></h2><p translation-result="on">在 <code>HeroService</code> 中，导入 <code><a href="api/common/http/HttpClient" class="code-anchor">HttpClient</a></code> 和 <code><a href="api/common/http/HttpHeaders" class="code-anchor">HttpHeaders</a></code>：</p><p translation-origin="off">In the <code>HeroService</code>, import <code><a href="api/common/http/HttpClient" class="code-anchor">HttpClient</a></code> and <code><a href="api/common/http/HttpHeaders" class="code-anchor">HttpHeaders</a></code>:</p><code-example path="toh-pt6/src/app/hero.service.ts" region="import-httpclient" header="src/app/hero.service.ts (import HTTP symbols)" ng-version="10.0.0-rc.2"><div style="display:none">import { <a href="api/common/http/HttpClient" class="code-anchor">HttpClient</a>, <a href="api/common/http/HttpHeaders" class="code-anchor">HttpHeaders</a> } from '@angular/common/<a href="api/common/http" class="code-anchor">http</a>';</div><header class="ng-star-inserted">src/app/hero.service.ts (import HTTP symbols)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/hero.service.ts (import HTTP symbols)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/common/http/HttpClient" class="code-anchor"><span class="typ">HttpClient</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/common/http/HttpHeaders" class="code-anchor"><span class="typ">HttpHeaders</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/common/</span><a href="api/common/http" class="code-anchor"><span class="str">http</span></a><span class="str">'</span><span class="pun">;</span></code>
    </pre></aio-code></code-example><p translation-result="on">仍然在 <code>HeroService</code> 中，把 <code><a href="api/common/http/HttpClient" class="code-anchor">HttpClient</a></code> 注入到构造函数中一个名叫 <code><a href="api/common/http" class="code-anchor">http</a></code> 的私有属性中。</p><p translation-origin="off">Still in the <code>HeroService</code>, inject <code><a href="api/common/http/HttpClient" class="code-anchor">HttpClient</a></code> into the constructor in a private property called <code><a href="api/common/http" class="code-anchor">http</a></code>.</p><code-example path="toh-pt6/src/app/hero.service.ts" header="src/app/hero.service.ts" region="ctor" ng-version="10.0.0-rc.2"><div style="display:none">constructor( private <a href="api/common/http" class="code-anchor">http</a>: <a href="api/common/http/HttpClient" class="code-anchor">HttpClient</a>, private messageService: MessageService) { }</div><header class="ng-star-inserted">src/app/hero.service.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/hero.service.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">constructor</span><span class="pun">(</span><span class="pln">
  </span><span class="kwd">private</span><span class="pln"> </span><a href="api/common/http" class="code-anchor"><span class="pln">http</span></a><span class="pun">:</span><span class="pln"> </span><a href="api/common/http/HttpClient" class="code-anchor"><span class="typ">HttpClient</span></a><span class="pun">,</span><span class="pln">
  </span><span class="kwd">private</span><span class="pln"> messageService</span><span class="pun">:</span><span class="pln"> </span><span class="typ">MessageService</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">注意保留对 <code>MessageService</code> 的注入，但是因为你将频繁调用它，因此请把它包裹进一个私有的 <code>log</code> 方法中。</p><p translation-origin="off">Notice that you keep injecting the <code>MessageService</code> but since you'll call it so frequently, wrap it in a private <code>log()</code> method:</p><code-example path="toh-pt6/src/app/hero.service.ts" header="src/app/hero.service.ts" region="log" ng-version="10.0.0-rc.2"><div style="display:none">/** Log a HeroService message with the MessageService */ private log(message: string) { this.messageService.add(`HeroService: ${message}`); }</div><header class="ng-star-inserted">src/app/hero.service.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/hero.service.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="com">/** Log a HeroService message with the MessageService */</span><span class="pln">
</span><span class="kwd">private</span><span class="pln"> log</span><span class="pun">(</span><span class="pln">message</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">messageService</span><span class="pun">.</span><span class="kwd">add</span><span class="pun">(</span><span class="str">`HeroService: ${message}`</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">把服务器上英雄数据资源的访问地址 <code>heroesURL</code> 定义为 <code>:base/:collectionName</code> 的形式。 这里的 <code>base</code> 是要请求的资源，而 <code>collectionName</code> 是 <code>in-memory-data-service.ts</code> 中的英雄数据对象。</p><p translation-origin="off">Define the <code>heroesUrl</code> of the form <code>:base/:collectionName</code> with the address of the heroes resource on the server. Here <code>base</code> is the resource to which requests are made, and <code>collectionName</code> is the heroes data object in the <code>in-memory-data-service.ts</code>.</p><code-example path="toh-pt6/src/app/hero.service.ts" header="src/app/hero.service.ts" region="heroesUrl" ng-version="10.0.0-rc.2"><div style="display:none">private heroesUrl = 'api/heroes'; // URL to web api</div><header class="ng-star-inserted">src/app/hero.service.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/hero.service.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">private</span><span class="pln"> heroesUrl </span><span class="pun">=</span><span class="pln"> </span><span class="str">'api/heroes'</span><span class="pun">;</span><span class="pln">  </span><span class="com">// URL to web api</span></code>
    </pre></aio-code></code-example><h3 id="get-heroes-with-httpclient" translation-result="on">通过 <code><a href="api/common/http/HttpClient" class="code-anchor">HttpClient</a></code> 获取英雄<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#get-heroes-with-httpclient"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="get-heroes-with-httpclient">Get heroes with <code><a href="api/common/http/HttpClient" class="code-anchor">HttpClient</a></code><a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#get-heroes-with-httpclient"><i class="material-icons">link</i></a></h3><p translation-result="on">当前的 <code>HeroService.getHeroes()</code> 使用 RxJS 的 <code>of()</code> 函数来把模拟英雄数据返回为 <code>Observable&lt;Hero[]&gt;</code> 格式。</p><p translation-origin="off">The current <code>HeroService.getHeroes()</code> uses the RxJS <code>of()</code> function to return an array of mock heroes as an <code>Observable&lt;Hero[]&gt;</code>.</p><code-example path="toh-pt4/src/app/hero.service.ts" region="getHeroes-1" header="src/app/hero.service.ts (getHeroes with RxJs 'of()')" ng-version="10.0.0-rc.2"><div style="display:none">getHeroes(): Observable&lt;Hero[]&gt; { return of(HEROES); }</div><header class="ng-star-inserted">src/app/hero.service.ts (getHeroes with RxJs 'of()')</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/hero.service.ts (getHeroes with RxJs 'of()')">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">getHeroes</span><span class="pun">():</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">[]&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> of</span><span class="pun">(</span><span class="pln">HEROES</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">把该方法转换成使用 <code><a href="api/common/http/HttpClient" class="code-anchor">HttpClient</a></code> 的，代码如下：</p><p translation-origin="off">Convert that method to use <code><a href="api/common/http/HttpClient" class="code-anchor">HttpClient</a></code> as follows:</p><code-example path="toh-pt6/src/app/hero.service.ts" header="src/app/hero.service.ts" region="getHeroes-1" ng-version="10.0.0-rc.2"><div style="display:none">/** GET heroes from the server */ getHeroes(): Observable&lt;Hero[]&gt; { return this.http.get&lt;Hero[]&gt;(this.heroesUrl) }</div><header class="ng-star-inserted">src/app/hero.service.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/hero.service.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="com">/** GET heroes from the server */</span><span class="pln">
getHeroes</span><span class="pun">():</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">[]&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">http</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">[]&gt;(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">heroesUrl</span><span class="pun">)</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">刷新浏览器后，英雄数据就会从模拟服务器被成功读取。</p><p translation-origin="off">Refresh the browser. The hero data should successfully load from the mock server.</p><p translation-result="on">你用 <code>http.get()</code> 替换了 <code>of()</code>，没有做其它修改，但是应用仍然在正常工作，这是因为这两个函数都返回了 <code>Observable&lt;Hero[]&gt;</code>。</p><p translation-origin="off">You've swapped <code>of()</code> for <code>http.get()</code> and the app keeps working without any other changes because both functions return an <code>Observable&lt;Hero[]&gt;</code>.</p><h3 id="httpclient-methods-return-one-value" translation-result="on"><code><a href="api/common/http/HttpClient" class="code-anchor">HttpClient</a></code> 的方法返回单个值<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#httpclient-methods-return-one-value"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="httpclient-methods-return-one-value"><code><a href="api/common/http/HttpClient" class="code-anchor">HttpClient</a></code> methods return one value<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#httpclient-methods-return-one-value"><i class="material-icons">link</i></a></h3><p translation-result="on">所有的 <code><a href="api/common/http/HttpClient" class="code-anchor">HttpClient</a></code> 方法都会返回某个值的 RxJS <code>Observable</code>。</p><p translation-origin="off">All <code><a href="api/common/http/HttpClient" class="code-anchor">HttpClient</a></code> methods return an RxJS <code>Observable</code> of something.</p><p translation-result="on">HTTP 是一个请求/响应式协议。你发起请求，它返回单个的响应。</p><p translation-origin="off">HTTP is a request/response protocol. You make a request, it returns a single response.</p><p translation-result="on">通常，<code>Observable</code> <em>可以</em>在一段时间内返回多个值。 但来自 <code><a href="api/common/http/HttpClient" class="code-anchor">HttpClient</a></code> 的 <code>Observable</code> 总是发出一个值，然后结束，再也不会发出其它值。</p><p translation-origin="off">In general, an observable <em>can</em> return multiple values over time. An observable from <code><a href="api/common/http/HttpClient" class="code-anchor">HttpClient</a></code> always emits a single value and then completes, never to emit again.</p><p translation-result="on">具体到这次 <code><a href="api/common/http/HttpClient#get" class="code-anchor">HttpClient.get()</a></code> 调用，它返回一个 <code>Observable&lt;Hero[]&gt;</code>，也就是“一个英雄数组的可观察对象”。在实践中，它也只会返回一个英雄数组。</p><p translation-origin="off">This particular <code><a href="api/common/http/HttpClient#get" class="code-anchor">HttpClient.get()</a></code> call returns an <code>Observable&lt;Hero[]&gt;</code>; that is, "<em>an observable of hero arrays</em>". In practice, it will only return a single hero array.</p><h3 id="httpclientget-returns-response-data" translation-result="on"><code><a href="api/common/http/HttpClient#get" class="code-anchor">HttpClient.get()</a></code> 返回响应数据<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#httpclientget-returns-response-data"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="httpclientget-returns-response-data"><code><a href="api/common/http/HttpClient#get" class="code-anchor">HttpClient.get()</a></code> returns response data<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#httpclientget-returns-response-data"><i class="material-icons">link</i></a></h3><p translation-result="on"><code><a href="api/common/http/HttpClient#get" class="code-anchor">HttpClient.get()</a></code> 默认情况下把响应体当做无类型的 JSON 对象进行返回。 如果指定了可选的模板类型 <code>&lt;Hero[]&gt;</code>，就会给返回你一个类型化的对象。</p><p translation-origin="off"><code><a href="api/common/http/HttpClient#get" class="code-anchor">HttpClient.get()</a></code> returns the body of the response as an untyped JSON object by default. Applying the optional type specifier, <code>&lt;Hero[]&gt;</code> , adds TypeScript capabilities, which reduce errors during compile time.</p><p translation-result="on">服务器的数据 API 决定了 JSON 数据的具体形态。 <em>英雄指南</em>的数据 API 会把英雄数据作为一个数组进行返回。</p><p translation-origin="off">The server's data API determines the shape of the JSON data. The <em>Tour of Heroes</em> data API returns the hero data as an array.</p><div class="alert is-helpful"><p translation-result="on">其它 API 可能在返回对象中深埋着你想要的数据。 你可能要借助 RxJS 的 <code>map()</code> 操作符对 <code>Observable</code> 的结果进行处理，以便把这些数据挖掘出来。</p><p translation-origin="off">Other APIs may bury the data that you want within an object. You might have to dig that data out by processing the <code>Observable</code> result with the RxJS <code>map()</code> operator.</p><p translation-result="on">虽然不打算在此展开讨论，不过你可以到范例源码中的 <code>getHeroNo404()</code> 方法中找到一个使用 <code>map()</code> 操作符的例子。</p><p translation-origin="off">Although not discussed here, there's an example of <code>map()</code> in the <code>getHeroNo404()</code> method included in the sample source code.</p></div><h3 id="error-handling" translation-result="on">错误处理<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#error-handling"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="error-handling">Error handling<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#error-handling"><i class="material-icons">link</i></a></h3><p translation-result="on">凡事皆会出错，特别是当你从远端服务器获取数据的时候。 <code>HeroService.getHeroes()</code> 方法应该捕获错误，并做适当的处理。</p><p translation-origin="off">Things go wrong, especially when you're getting data from a remote server. The <code>HeroService.getHeroes()</code> method should catch errors and do something appropriate.</p><p translation-result="on">要捕获错误，你就要使用 RxJS 的 <code>catchError()</code> 操作符来<strong>建立对 Observable 结果的处理管道（pipe）</strong>。</p><p translation-origin="off">To catch errors, you <strong>"pipe" the observable</strong> result from <code>http.get()</code> through an RxJS <code>catchError()</code> operator.</p><p translation-result="on">从 <code>rxjs/operators</code> 中导入 <code>catchError</code> 符号，以及你稍后将会用到的其它操作符。</p><p translation-origin="off">Import the <code>catchError</code> symbol from <code>rxjs/operators</code>, along with some other operators you'll need later.</p><code-example path="toh-pt6/src/app/hero.service.ts" header="src/app/hero.service.ts" region="import-rxjs-operators" ng-version="10.0.0-rc.2"><div style="display:none">import { catchError, map, tap } from 'rxjs/operators';</div><header class="ng-star-inserted">src/app/hero.service.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/hero.service.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> catchError</span><span class="pun">,</span><span class="pln"> map</span><span class="pun">,</span><span class="pln"> tap </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs/operators'</span><span class="pun">;</span></code>
    </pre></aio-code></code-example><p translation-result="on">现在，使用 <code>pipe()</code> 方法来扩展 <code>Observable</code> 的结果，并给它一个 <code>catchError()</code> 操作符。</p><p translation-origin="off">Now extend the observable result with the <code>pipe()</code> method and give it a <code>catchError()</code> operator.</p><code-example path="toh-pt6/src/app/hero.service.ts" region="getHeroes-2" header="src/app/hero.service.ts" ng-version="10.0.0-rc.2"><div style="display:none">getHeroes(): Observable&lt;Hero[]&gt; { return this.http.get&lt;Hero[]&gt;(this.heroesUrl) .pipe( catchError(this.handleError&lt;Hero[]&gt;('getHeroes', [])) ); }</div><header class="ng-star-inserted">src/app/hero.service.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/hero.service.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">getHeroes</span><span class="pun">():</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">[]&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">http</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">[]&gt;(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">heroesUrl</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">pipe</span><span class="pun">(</span><span class="pln">
      catchError</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleError</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">[]&gt;(</span><span class="str">'getHeroes'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[]))</span><span class="pln">
    </span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on"><code>catchError()</code> 操作符会拦截<strong>失败的 <code>Observable</code></strong>。 它把错误对象传给<em>错误处理器</em>，<em>错误处理器</em>会处理这个错误。</p><p translation-origin="off">The <code>catchError()</code> operator intercepts an <strong><code>Observable</code> that failed</strong>. It passes the error an error handler that can do what it wants with the error.</p><p translation-result="on">下面的 <code>handleError()</code> 方法会报告这个错误，并返回一个无害的结果（安全值），以便应用能正常工作。</p><p translation-origin="off">The following <code>handleError()</code> method reports the error and then returns an innocuous result so that the application keeps working.</p><h4 id="handleerror"><code>handleError</code><a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#handleerror"><i class="material-icons">link</i></a></h4><p translation-result="on">下面这个 <code>handleError()</code> 将会在很多 <code>HeroService</code> 的方法之间共享，所以要把它通用化，以支持这些彼此不同的需求。</p><p translation-origin="off">The following <code>handleError()</code> will be shared by many <code>HeroService</code> methods so it's generalized to meet their different needs.</p><p translation-result="on">它不再直接处理这些错误，而是返回给 <code>catchError</code> 返回一个错误处理函数。还要用操作名和出错时要返回的安全值来对这个错误处理函数进行配置。</p><p translation-origin="off">Instead of handling the error directly, it returns an error handler function to <code>catchError</code> that it has configured with both the name of the operation that failed and a safe return value.</p><code-example path="toh-pt6/src/app/hero.service.ts" header="src/app/hero.service.ts" region="handleError" ng-version="10.0.0-rc.2"><div style="display:none">/** * Handle Http operation that failed. * Let the app continue. * @param operation - name of the operation that failed * @param result - optional value to return as the observable result */ private handleError&lt;T&gt;(operation = 'operation', result?: T) { return (error: any): Observable&lt;T&gt; =&gt; { // TODO: send the error to remote logging infrastructure console.error(error); // log to console instead // TODO: better job of transforming error for user consumption this.log(`${operation} failed: ${error.message}`); // Let the app keep running by returning an empty result. return of(result as T); }; }</div><header class="ng-star-inserted">src/app/hero.service.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/hero.service.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="com">/**
 * Handle Http operation that failed.
 * Let the app continue.
 * @param operation - name of the operation that failed
 * @param result - optional value to return as the observable result
 */</span><span class="pln">
</span><span class="kwd">private</span><span class="pln"> handleError</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">&gt;(</span><span class="pln">operation </span><span class="pun">=</span><span class="pln"> </span><span class="str">'operation'</span><span class="pun">,</span><span class="pln"> result</span><span class="pun">?:</span><span class="pln"> T</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">(</span><span class="pln">error</span><span class="pun">:</span><span class="pln"> any</span><span class="pun">):</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="com">// TODO: send the error to remote logging infrastructure</span><span class="pln">
    console</span><span class="pun">.</span><span class="pln">error</span><span class="pun">(</span><span class="pln">error</span><span class="pun">);</span><span class="pln"> </span><span class="com">// log to console instead</span><span class="pln">

    </span><span class="com">// TODO: better job of transforming error for user consumption</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">`${operation} failed: ${error.message}`</span><span class="pun">);</span><span class="pln">

    </span><span class="com">// Let the app keep running by returning an empty result.</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> of</span><span class="pun">(</span><span class="pln">result </span><span class="kwd">as</span><span class="pln"> T</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">在控制台中汇报了这个错误之后，这个处理器会汇报一个用户友好的消息，并给应用返回一个安全值，让应用继续工作。</p><p translation-origin="off">After reporting the error to the console, the handler constructs a user friendly message and returns a safe value to the app so the app can keep working.</p><p translation-result="on">因为每个服务方法都会返回不同类型的 <code>Observable</code> 结果，因此 <code>handleError()</code> 也需要一个类型参数，以便它返回一个此类型的安全值，正如应用所期望的那样。</p><p translation-origin="off">Because each service method returns a different kind of <code>Observable</code> result, <code>handleError()</code> takes a type parameter so it can return the safe value as the type that the app expects.</p><h3 id="tap-into-the-observable" translation-result="on">窥探 <code>Observable</code><a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#tap-into-the-observable"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="tap-into-the-observable">Tap into the Observable<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#tap-into-the-observable"><i class="material-icons">link</i></a></h3><p translation-result="on"><code>HeroService</code> 的方法将会窥探 <code>Observable</code> 的数据流，并通过 <code>log()</code> 方法往页面底部发送一条消息。</p><p translation-origin="off">The <code>HeroService</code> methods will <strong>tap</strong> into the flow of observable values and send a message, via the <code>log()</code> method, to the message area at the bottom of the page.</p><p translation-result="on">它们可以使用 RxJS 的 <code>tap()</code> 操作符来实现，该操作符会查看 Observable 中的值，使用那些值做一些事情，并且把它们传出来。 这种 <code>tap()</code> 回调不会改变这些值本身。</p><p translation-origin="off">They'll do that with the RxJS <code>tap()</code> operator, which looks at the observable values, does something with those values, and passes them along. The <code>tap()</code> call back doesn't touch the values themselves.</p><p translation-result="on">下面是 <code>getHeroes()</code> 的最终版本，它使用 <code>tap()</code> 来记录各种操作。</p><p translation-origin="off">Here is the final version of <code>getHeroes()</code> with the <code>tap()</code> that logs the operation.</p><code-example path="toh-pt6/src/app/hero.service.ts" header="src/app/hero.service.ts" region="getHeroes" ng-version="10.0.0-rc.2"><div style="display:none">/** GET heroes from the server */ getHeroes(): Observable&lt;Hero[]&gt; { return this.http.get&lt;Hero[]&gt;(this.heroesUrl) .pipe( tap(_ =&gt; this.log('fetched heroes')), catchError(this.handleError&lt;Hero[]&gt;('getHeroes', [])) ); }</div><header class="ng-star-inserted">src/app/hero.service.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/hero.service.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="com">/** GET heroes from the server */</span><span class="pln">
getHeroes</span><span class="pun">():</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">[]&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">http</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">[]&gt;(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">heroesUrl</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">pipe</span><span class="pun">(</span><span class="pln">
      tap</span><span class="pun">(</span><span class="pln">_ </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">'fetched heroes'</span><span class="pun">)),</span><span class="pln">
      catchError</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleError</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">[]&gt;(</span><span class="str">'getHeroes'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[]))</span><span class="pln">
    </span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><h3 id="get-hero-by-id" translation-result="on">通过 id 获取英雄<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#get-hero-by-id"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="get-hero-by-id">Get hero by id<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#get-hero-by-id"><i class="material-icons">link</i></a></h3><p translation-result="on">大多数的 Web API 都支持以 <code>:baseURL/:id</code> 的形式根据 id 进行获取。</p><p translation-origin="off">Most web APIs support a <em>get by id</em> request in the form <code>:baseURL/:id</code>.</p><p translation-result="on">这里的 <code>baseURL</code> 就是在 <a href="tutorial/toh-pt6#heroes-and-http">英雄列表与 HTTP</a> 部分定义过的 <code>heroesURL</code>（<code>api/heroes</code>）。而 <code>id</code> 则是你要获取的英雄的编号，比如，<code>api/heroes/11</code>。 把 <code>HeroService.getHero()</code> 方法改成这样，以发起该请求：</p><p translation-origin="off">Here, the <em>base URL</em> is the <code>heroesURL</code> defined in the <a href="tutorial/toh-pt6#heroes-and-http">Heroes and HTTP</a> section (<code>api/heroes</code>) and <em>id</em> is the number of the hero that you want to retrieve. For example, <code>api/heroes/11</code>. Update the <code>HeroService</code> <code>getHero()</code> method with the following to make that request:</p><code-example path="toh-pt6/src/app/hero.service.ts" region="getHero" header="src/app/hero.service.ts" ng-version="10.0.0-rc.2"><div style="display:none">/** GET hero by id. Will 404 if id not found */ getHero(id: number): Observable&lt;Hero&gt; { const url = `${this.heroesUrl}/${id}`; return this.http.get&lt;Hero&gt;(url).pipe( tap(_ =&gt; this.log(`fetched hero id=${id}`)), catchError(this.handleError&lt;Hero&gt;(`getHero id=${id}`)) ); }</div><header class="ng-star-inserted">src/app/hero.service.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/hero.service.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="com">/** GET hero by id. Will 404 if id not found */</span><span class="pln">
getHero</span><span class="pun">(</span><span class="pln">id</span><span class="pun">:</span><span class="pln"> number</span><span class="pun">):</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">const</span><span class="pln"> url </span><span class="pun">=</span><span class="pln"> </span><span class="str">`${this.heroesUrl}/${id}`</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">http</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">&gt;(</span><span class="pln">url</span><span class="pun">).</span><span class="pln">pipe</span><span class="pun">(</span><span class="pln">
    tap</span><span class="pun">(</span><span class="pln">_ </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">`fetched hero id=${id}`</span><span class="pun">)),</span><span class="pln">
    catchError</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleError</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">&gt;(</span><span class="str">`getHero id=${id}`</span><span class="pun">))</span><span class="pln">
  </span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">这里和 <code>getHeroes()</code> 相比有三个显著的差异:</p><p translation-origin="off">There are three significant differences from <code>getHeroes()</code>:</p><ul><li><p translation-result="on"> <code>getHero()</code> 使用想获取的英雄的 id 构造了一个请求 URL。</p><p translation-origin="off"><code>getHero()</code> constructs a request URL with the desired hero's id.</p></li><li><p translation-result="on">服务器应该使用单个英雄作为回应，而不是一个英雄数组。</p><p translation-origin="off">The server should respond with a single hero rather than an array of heroes.</p></li><li><p translation-result="on">所以，<code>getHero()</code> 会返回 <code>Observable&lt;Hero&gt;</code>（“一个可观察的<em>单个英雄对象</em>”），而不是一个可观察的英雄对象<em>数组</em>。</p><p translation-origin="off"><code>getHero()</code> returns an <code>Observable&lt;Hero&gt;</code> ("<em>an observable of Hero objects</em>") rather than an observable of hero <em>arrays</em> .</p></li></ul><h2 id="update-heroes" translation-result="on">修改英雄<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#update-heroes"><i class="material-icons">link</i></a></h2><h2 translation-origin="off" id="update-heroes">Update heroes<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#update-heroes"><i class="material-icons">link</i></a></h2><p translation-result="on">在<em>英雄详情</em>视图中编辑英雄的名字。 随着输入，英雄的名字也跟着在页面顶部的标题区更新了。 但是当你点击“后退”按钮时，这些修改都丢失了。</p><p translation-origin="off">Edit a hero's name in the hero detail view. As you type, the hero name updates the heading at the top of the page. But when you click the "go back button", the changes are lost.</p><p translation-result="on">如果你希望保留这些修改，就要把它们写回到服务器。</p><p translation-origin="off">If you want changes to persist, you must write them back to the server.</p><p translation-result="on">在英雄详情模板的底部添加一个保存按钮，它绑定了一个 <code>click</code> 事件，事件绑定会调用组件中一个名叫 <code>save()</code> 的新方法：</p><p translation-origin="off">At the end of the hero detail template, add a save button with a <code>click</code> event binding that invokes a new component method named <code>save()</code>.</p><code-example path="toh-pt6/src/app/hero-detail/hero-detail.component.html" region="save" header="src/app/hero-detail/hero-detail.component.html (save)" ng-version="10.0.0-rc.2"><div style="display:none">&lt;button (click)="save()"&gt;save&lt;/button&gt;</div><header class="ng-star-inserted">src/app/hero-detail/hero-detail.component.html (save)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/hero-detail/hero-detail.component.html (save)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="tag">&lt;button</span><span class="pln"> (</span><span class="atn">click</span><span class="pln">)</span><span class="pun">=</span><span class="atv">"save()"</span><span class="tag">&gt;</span><span class="pln">save</span><span class="tag">&lt;/button&gt;</span></code>
    </pre></aio-code></code-example><p translation-result="on">在 <code>HeroDetail</code> 组件类中，添加如下的 <code>save()</code> 方法，它使用英雄服务中的 <code>updateHero()</code> 方法来保存对英雄名字的修改，然后导航回前一个视图。</p><p translation-origin="off">In the <code>HeroDetail</code> component class, add the following <code>save()</code> method, which persists hero name changes using the hero service <code>updateHero()</code> method and then navigates back to the previous view.</p><code-example path="toh-pt6/src/app/hero-detail/hero-detail.component.ts" region="save" header="src/app/hero-detail/hero-detail.component.ts (save)" ng-version="10.0.0-rc.2"><div style="display:none">save(): void { this.heroService.updateHero(this.hero) .subscribe(() =&gt; this.goBack()); }</div><header class="ng-star-inserted">src/app/hero-detail/hero-detail.component.ts (save)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/hero-detail/hero-detail.component.ts (save)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">save</span><span class="pun">():</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">heroService</span><span class="pun">.</span><span class="pln">updateHero</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">hero</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">subscribe</span><span class="pun">(()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">goBack</span><span class="pun">());</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><h4 id="add-heroserviceupdatehero" translation-result="on">添加 <code>HeroService.updateHero()</code><a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#add-heroserviceupdatehero"><i class="material-icons">link</i></a></h4><h4 translation-origin="off" id="add-heroserviceupdatehero">Add <code>HeroService.updateHero()</code><a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#add-heroserviceupdatehero"><i class="material-icons">link</i></a></h4><p translation-result="on"><code>updateHero()</code> 的总体结构和 <code>getHeroes()</code> 很相似，但它会使用 <code>http.put()</code> 来把修改后的英雄保存到服务器上。 把下列代码添加进 <code>HeroService</code>。</p><p translation-origin="off">The overall structure of the <code>updateHero()</code> method is similar to that of <code>getHeroes()</code>, but it uses <code>http.put()</code> to persist the changed hero on the server. Add the following to the <code>HeroService</code>.</p><code-example path="toh-pt6/src/app/hero.service.ts" region="updateHero" header="src/app/hero.service.ts (update)" ng-version="10.0.0-rc.2"><div style="display:none">/** PUT: update the hero on the server */ updateHero(hero: Hero): Observable&lt;any&gt; { return this.http.put(this.heroesUrl, hero, this.httpOptions).pipe( tap(_ =&gt; this.log(`updated hero id=${hero.id}`)), catchError(this.handleError&lt;any&gt;('updateHero')) ); }</div><header class="ng-star-inserted">src/app/hero.service.ts (update)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/hero.service.ts (update)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="com">/** PUT: update the hero on the server */</span><span class="pln">
updateHero</span><span class="pun">(</span><span class="pln">hero</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Hero</span><span class="pun">):</span><span class="pln"> </span><span class="typ">Observable</span><span class="str">&lt;any&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">http</span><span class="pun">.</span><span class="pln">put</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">heroesUrl</span><span class="pun">,</span><span class="pln"> hero</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">httpOptions</span><span class="pun">).</span><span class="pln">pipe</span><span class="pun">(</span><span class="pln">
    tap</span><span class="pun">(</span><span class="pln">_ </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">`updated hero id=${hero.id}`</span><span class="pun">)),</span><span class="pln">
    catchError</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleError</span><span class="str">&lt;any&gt;</span><span class="pun">(</span><span class="str">'updateHero'</span><span class="pun">))</span><span class="pln">
  </span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on"><code><a href="api/common/http/HttpClient#put" class="code-anchor">HttpClient.put()</a></code> 方法接受三个参数：</p><p translation-origin="off">The <code><a href="api/common/http/HttpClient#put" class="code-anchor">HttpClient.put()</a></code> method takes three parameters:</p><ul><li><p translation-result="on">URL 地址</p><p translation-origin="off">the URL</p></li><li><p translation-result="on">要修改的数据（这里就是修改后的英雄）</p><p translation-origin="off">the data to update (the modified hero in this case)</p></li><li><p translation-result="on">选项</p><p translation-origin="off">options</p></li></ul><p translation-result="on">URL 没变。英雄 Web API 通过英雄对象的 <code>id</code> 就可以知道要修改哪个英雄。</p><p translation-origin="off">The URL is unchanged. The heroes web API knows which hero to update by looking at the hero's <code>id</code>.</p><p translation-result="on">英雄 Web API 期待在保存时的请求中有一个特殊的头。 这个头是在 <code>HeroService</code> 的 <code>httpOptions</code> 常量中定义的。</p><p translation-origin="off">The heroes web API expects a special header in HTTP save requests. That header is in the <code>httpOptions</code> constant defined in the <code>HeroService</code>. Add the following to the <code>HeroService</code> class.</p><code-example path="toh-pt6/src/app/hero.service.ts" region="http-options" header="src/app/hero.service.ts" ng-version="10.0.0-rc.2"><div style="display:none">httpOptions = { headers: new <a href="api/common/http/HttpHeaders" class="code-anchor">HttpHeaders</a>({ 'Content-Type': 'application/json' }) };</div><header class="ng-star-inserted">src/app/hero.service.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/hero.service.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">httpOptions </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  headers</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><a href="api/common/http/HttpHeaders" class="code-anchor"><span class="typ">HttpHeaders</span></a><span class="pun">({</span><span class="pln"> </span><span class="str">'Content-Type'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'application/json'</span><span class="pln"> </span><span class="pun">})</span><span class="pln">
</span><span class="pun">};</span></code>
    </pre></aio-code></code-example><p translation-result="on">刷新浏览器，修改英雄名，保存这些修改。在 <code>HeroDetailComponent</code> 的 <code>save()</code> 方法中导航到前一个视图。 现在，改名后的英雄已经显示在列表中了。</p><p translation-origin="off">Refresh the browser, change a hero name and save your change. The <code>save()</code> method in <code>HeroDetailComponent</code> navigates to the previous view. The hero now appears in the list with the changed name.</p><h2 id="add-a-new-hero" translation-result="on">添加新英雄<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#add-a-new-hero"><i class="material-icons">link</i></a></h2><h2 translation-origin="off" id="add-a-new-hero">Add a new hero<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#add-a-new-hero"><i class="material-icons">link</i></a></h2><p translation-result="on">要添加英雄，本应用中只需要英雄的名字。你可以使用一个和添加按钮成对的 <code>&lt;input&gt;</code> 元素。</p><p translation-origin="off">To add a hero, this app only needs the hero's name. You can use an <code>&lt;input&gt;</code> element paired with an add button.</p><p translation-result="on">把下列代码插入到 <code>HeroesComponent</code> 模板中标题的紧后面：</p><p translation-origin="off">Insert the following into the <code>HeroesComponent</code> template, just after the heading:</p><code-example path="toh-pt6/src/app/heroes/heroes.component.html" region="add" header="src/app/heroes/heroes.component.html (add)" ng-version="10.0.0-rc.2"><div style="display:none">&lt;div&gt; &lt;label&gt;Hero name: &lt;input #heroName /&gt; &lt;/label&gt; &lt;!-- (click) passes input value to add() and then clears the input --&gt; &lt;button (click)="add(heroName.value); heroName.value=''"&gt; add &lt;/button&gt; &lt;/div&gt;</div><header class="ng-star-inserted">src/app/heroes/heroes.component.html (add)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/heroes.component.html (add)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="tag">&lt;div&gt;</span><span class="pln">
  </span><span class="tag">&lt;label&gt;</span><span class="pln">Hero name:
    </span><span class="tag">&lt;input</span><span class="pln"> #</span><span class="atn">heroName</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
  </span><span class="tag">&lt;/label&gt;</span><span class="pln">
  </span><span class="com">&lt;!-- (click) passes input value to add() and then clears the input --&gt;</span><span class="pln">
  </span><span class="tag">&lt;button</span><span class="pln"> (</span><span class="atn">click</span><span class="pln">)</span><span class="pun">=</span><span class="atv">"add(heroName.value); heroName.value=''"</span><span class="tag">&gt;</span><span class="pln">
    add
  </span><span class="tag">&lt;/button&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code>
    </pre></aio-code></code-example><p translation-result="on">当点击事件触发时，调用组件的点击处理器（<code>add()</code>），然后清空这个输入框，以便用来输入另一个名字。把下列代码添加到 <code>HeroesComponent</code> 类：</p><p translation-origin="off">In response to a click event, call the component's click handler, <code>add()</code>, and then clear the input field so that it's ready for another name. Add the following to the <code>HeroesComponent</code> class:</p><code-example path="toh-pt6/src/app/heroes/heroes.component.ts" region="add" header="src/app/heroes/heroes.component.ts (add)" ng-version="10.0.0-rc.2"><div style="display:none">add(name: string): void { name = name.trim(); if (!name) { return; } this.heroService.addHero({ name } as Hero) .subscribe(hero =&gt; { this.heroes.push(hero); }); }</div><header class="ng-star-inserted">src/app/heroes/heroes.component.ts (add)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/heroes.component.ts (add)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">add</span><span class="pun">(</span><span class="pln">name</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">):</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  name </span><span class="pun">=</span><span class="pln"> name</span><span class="pun">.</span><span class="pln">trim</span><span class="pun">();</span><span class="pln">
  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">name</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">return</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">heroService</span><span class="pun">.</span><span class="pln">addHero</span><span class="pun">({</span><span class="pln"> name </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">as</span><span class="pln"> </span><span class="typ">Hero</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">.</span><span class="pln">subscribe</span><span class="pun">(</span><span class="pln">hero </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">heroes</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="pln">hero</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">当指定的名字非空时，这个处理器会用这个名字创建一个类似于 <code>Hero</code> 的对象（只缺少 <code>id</code> 属性），并把它传给服务的 <code>addHero()</code> 方法。</p><p translation-origin="off">When the given name is non-blank, the handler creates a <code>Hero</code>-like object from the name (it's only missing the <code>id</code>) and passes it to the services <code>addHero()</code> method.</p><p translation-result="on">当 <code>addHero()</code> 保存成功时，<code>subscribe()</code> 的回调函数会收到这个新英雄，并把它追加到 <code>heroes</code> 列表中以供显示。</p><p translation-origin="off">When <code>addHero()</code> saves successfully, the <code>subscribe()</code> callback receives the new hero and pushes it into to the <code>heroes</code> list for display.</p><p translation-result="on">往 <code>HeroService</code> 类中添加 <code>addHero()</code> 方法。</p><p translation-origin="off">Add the following <code>addHero()</code> method to the <code>HeroService</code> class.</p><code-example path="toh-pt6/src/app/hero.service.ts" region="addHero" header="src/app/hero.service.ts (addHero)" ng-version="10.0.0-rc.2"><div style="display:none">/** POST: add a new hero to the server */ addHero(hero: Hero): Observable&lt;Hero&gt; { return this.http.post&lt;Hero&gt;(this.heroesUrl, hero, this.httpOptions).pipe( tap((newHero: Hero) =&gt; this.log(`added hero w/ id=${newHero.id}`)), catchError(this.handleError&lt;Hero&gt;('addHero')) ); }</div><header class="ng-star-inserted">src/app/hero.service.ts (addHero)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/hero.service.ts (addHero)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="com">/** POST: add a new hero to the server */</span><span class="pln">
addHero</span><span class="pun">(</span><span class="pln">hero</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Hero</span><span class="pun">):</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">http</span><span class="pun">.</span><span class="pln">post</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">&gt;(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">heroesUrl</span><span class="pun">,</span><span class="pln"> hero</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">httpOptions</span><span class="pun">).</span><span class="pln">pipe</span><span class="pun">(</span><span class="pln">
    tap</span><span class="pun">((</span><span class="pln">newHero</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Hero</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">`added hero w/ id=${newHero.id}`</span><span class="pun">)),</span><span class="pln">
    catchError</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleError</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">&gt;(</span><span class="str">'addHero'</span><span class="pun">))</span><span class="pln">
  </span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on"><code>addHero()</code> 和 <code>updateHero()</code> 有两点不同。</p><p translation-origin="off"><code>addHero()</code> differs from <code>updateHero()</code> in two ways:</p><ul><li><p translation-result="on">它调用 <code><a href="api/common/http/HttpClient#post" class="code-anchor">HttpClient.post()</a></code> 而不是 <code>put()</code>。</p><p translation-origin="off">It calls <code><a href="api/common/http/HttpClient#post" class="code-anchor">HttpClient.post()</a></code> instead of <code>put()</code>.</p></li><li><p translation-result="on">它期待服务器为这个新的英雄生成一个 id，然后把它通过 <code>Observable&lt;Hero&gt;</code> 返回给调用者。</p><p translation-origin="off">It expects the server to generate an id for the new hero, which it returns in the <code>Observable&lt;Hero&gt;</code> to the caller.</p></li></ul><p translation-result="on">刷新浏览器，并添加一些英雄。</p><p translation-origin="off">Refresh the browser and add some heroes.</p><h2 id="delete-a-hero" translation-result="on">删除某个英雄<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#delete-a-hero"><i class="material-icons">link</i></a></h2><h2 translation-origin="off" id="delete-a-hero">Delete a hero<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#delete-a-hero"><i class="material-icons">link</i></a></h2><p translation-result="on">英雄列表中的每个英雄都有一个删除按钮。</p><p translation-origin="off">Each hero in the heroes list should have a delete button.</p><p translation-result="on">把下列按钮（<code>button</code>）元素添加到 <code>HeroesComponent</code> 的模板中，就在每个 <code>&lt;li&gt;</code> 元素中的英雄名字后方。</p><p translation-origin="off">Add the following button element to the <code>HeroesComponent</code> template, after the hero name in the repeated <code>&lt;li&gt;</code> element.</p><code-example path="toh-pt6/src/app/heroes/heroes.component.html" header="src/app/heroes/heroes.component.html" region="delete" ng-version="10.0.0-rc.2"><div style="display:none">&lt;button class="delete" title="delete hero" (click)="delete(hero)"&gt;x&lt;/button&gt;</div><header class="ng-star-inserted">src/app/heroes/heroes.component.html</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/heroes.component.html">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"delete"</span><span class="pln"> </span><span class="atn">title</span><span class="pun">=</span><span class="atv">"delete hero"</span><span class="pln">
  (</span><span class="atn">click</span><span class="pln">)</span><span class="pun">=</span><span class="atv">"delete(hero)"</span><span class="tag">&gt;</span><span class="pln">x</span><span class="tag">&lt;/button&gt;</span></code>
    </pre></aio-code></code-example><p translation-result="on">英雄列表的 HTML 应该是这样的：</p><p translation-origin="off">The HTML for the list of heroes should look like this:</p><code-example path="toh-pt6/src/app/heroes/heroes.component.html" region="list" header="src/app/heroes/heroes.component.html (list of heroes)" ng-version="10.0.0-rc.2"><div style="display:none">&lt;ul class="heroes"&gt; &lt;li *<a href="api/common/NgForOf" class="code-anchor">ngFor</a>="let hero of heroes"&gt; &lt;a <a href="api/router/RouterLink" class="code-anchor">routerLink</a>="/detail/{{hero.id}}"&gt; &lt;span class="badge"&gt;{{hero.id}}&lt;/span&gt; {{hero.name}} &lt;/a&gt; &lt;button class="delete" title="delete hero" (click)="delete(hero)"&gt;x&lt;/button&gt; &lt;/li&gt; &lt;/ul&gt;</div><header class="ng-star-inserted">src/app/heroes/heroes.component.html (list of heroes)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/heroes.component.html (list of heroes)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="tag">&lt;ul</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"heroes"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;li</span><span class="pln"> *</span><a href="api/common/NgForOf" class="code-anchor"><span class="atn">ngFor</span></a><span class="pun">=</span><span class="atv">"let hero of heroes"</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="api/router/RouterLink" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/detail/{{hero.id}}"</span><span class="tag">&gt;</span><span class="pln">
      </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"badge"</span><span class="tag">&gt;</span><span class="pln">{{hero.id}}</span><span class="tag">&lt;/span&gt;</span><span class="pln"> {{hero.name}}
    </span><span class="tag">&lt;/a&gt;</span><span class="pln">
    </span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"delete"</span><span class="pln"> </span><span class="atn">title</span><span class="pun">=</span><span class="atv">"delete hero"</span><span class="pln">
      (</span><span class="atn">click</span><span class="pln">)</span><span class="pun">=</span><span class="atv">"delete(hero)"</span><span class="tag">&gt;</span><span class="pln">x</span><span class="tag">&lt;/button&gt;</span><span class="pln">
  </span><span class="tag">&lt;/li&gt;</span><span class="pln">
</span><span class="tag">&lt;/ul&gt;</span></code>
    </pre></aio-code></code-example><p translation-result="on">要把删除按钮定位在每个英雄条目的最右边，就要往 <code>heroes.component.css</code> 中添加一些 CSS。你可以在下方的 <a href="tutorial/toh-pt6#heroescomponent">最终代码</a> 中找到这些 CSS。</p><p translation-origin="off">To position the delete button at the far right of the hero entry, add some CSS to the <code>heroes.component.css</code>. You'll find that CSS in the <a href="tutorial/toh-pt6#heroescomponent">final review code</a> below.</p><p translation-result="on">把 <code>delete()</code> 处理器添加到组件中。</p><p translation-origin="off">Add the <code>delete()</code> handler to the component class.</p><code-example path="toh-pt6/src/app/heroes/heroes.component.ts" region="delete" header="src/app/heroes/heroes.component.ts (delete)" ng-version="10.0.0-rc.2"><div style="display:none">delete(hero: Hero): void { this.heroes = this.heroes.filter(h =&gt; h !== hero); this.heroService.deleteHero(hero).subscribe(); }</div><header class="ng-star-inserted">src/app/heroes/heroes.component.ts (delete)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/heroes/heroes.component.ts (delete)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">delete</span><span class="pun">(</span><span class="pln">hero</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Hero</span><span class="pun">):</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">heroes </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">heroes</span><span class="pun">.</span><span class="pln">filter</span><span class="pun">(</span><span class="pln">h </span><span class="pun">=&gt;</span><span class="pln"> h </span><span class="pun">!==</span><span class="pln"> hero</span><span class="pun">);</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">heroService</span><span class="pun">.</span><span class="pln">deleteHero</span><span class="pun">(</span><span class="pln">hero</span><span class="pun">).</span><span class="pln">subscribe</span><span class="pun">();</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">虽然这个组件把删除英雄的逻辑委托给了 <code>HeroService</code>，但仍保留了更新它自己的英雄列表的职责。 组件的 <code>delete()</code> 方法会在 <code>HeroService</code> 对服务器的操作成功之前，先从列表中移除<em>要删除的英雄</em>。</p><p translation-origin="off">Although the component delegates hero deletion to the <code>HeroService</code>, it remains responsible for updating its own list of heroes. The component's <code>delete()</code> method immediately removes the <em>hero-to-delete</em> from that list, anticipating that the <code>HeroService</code> will succeed on the server.</p><p translation-result="on">组件与 <code>heroService.delete()</code> 返回的 <code>Observable</code> 还完全没有关联。<strong>必须订阅它</strong>。</p><p translation-origin="off">There's really nothing for the component to do with the <code>Observable</code> returned by <code>heroService.delete()</code> <strong>but it must subscribe anyway</strong>.</p><div class="alert is-important"><p translation-result="on">如果你忘了调用 <code>subscribe()</code>，本服务将不会把这个删除请求发送给服务器。 作为一条通用的规则，<code>Observable</code> 在有人订阅之前<em>什么都不会做</em>。</p><p translation-origin="off">If you neglect to <code>subscribe()</code>, the service will not send the delete request to the server. As a rule, an <code>Observable</code> <em>does nothing</em> until something subscribes.</p><p translation-result="on">你可以暂时删除 <code>subscribe()</code> 来确认这一点。点击“Dashboard”，然后点击“Heroes”，就又看到完整的英雄列表了。</p><p translation-origin="off">Confirm this for yourself by temporarily removing the <code>subscribe()</code>, clicking "Dashboard", then clicking "Heroes". You'll see the full list of heroes again.</p></div><p translation-result="on">接下来，把 <code>deleteHero()</code> 方法添加到 <code>HeroService</code> 中，代码如下。</p><p translation-origin="off">Next, add a <code>deleteHero()</code> method to <code>HeroService</code> like this.</p><code-example path="toh-pt6/src/app/hero.service.ts" region="deleteHero" header="src/app/hero.service.ts (delete)" ng-version="10.0.0-rc.2"><div style="display:none">/** DELETE: delete the hero from the server */ deleteHero(hero: Hero | <a href="api/common/DecimalPipe" class="code-anchor">number</a>): Observable&lt;Hero&gt; { const id = typeof hero === 'number' ? hero : hero.id; const url = `${this.heroesUrl}/${id}`; return this.http.delete&lt;Hero&gt;(url, this.httpOptions).pipe( tap(_ =&gt; this.log(`deleted hero id=${id}`)), catchError(this.handleError&lt;Hero&gt;('deleteHero')) ); }</div><header class="ng-star-inserted">src/app/hero.service.ts (delete)</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/hero.service.ts (delete)">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="com">/** DELETE: delete the hero from the server */</span><span class="pln">
deleteHero</span><span class="pun">(</span><span class="pln">hero</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Hero</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> </span><a href="api/common/DecimalPipe" class="code-anchor"><span class="pln">number</span></a><span class="pun">):</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">const</span><span class="pln"> id </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">typeof</span><span class="pln"> hero </span><span class="pun">===</span><span class="pln"> </span><span class="str">'number'</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> hero </span><span class="pun">:</span><span class="pln"> hero</span><span class="pun">.</span><span class="pln">id</span><span class="pun">;</span><span class="pln">
  </span><span class="kwd">const</span><span class="pln"> url </span><span class="pun">=</span><span class="pln"> </span><span class="str">`${this.heroesUrl}/${id}`</span><span class="pun">;</span><span class="pln">

  </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">http</span><span class="pun">.</span><span class="kwd">delete</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">&gt;(</span><span class="pln">url</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">httpOptions</span><span class="pun">).</span><span class="pln">pipe</span><span class="pun">(</span><span class="pln">
    tap</span><span class="pun">(</span><span class="pln">_ </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">`deleted hero id=${id}`</span><span class="pun">)),</span><span class="pln">
    catchError</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleError</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">&gt;(</span><span class="str">'deleteHero'</span><span class="pun">))</span><span class="pln">
  </span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">注意</p><p translation-origin="off">Note the following key points:</p><ul><li><p translation-result="on"> <code>deleteHero()</code> 调用了 <code><a href="api/common/http/HttpClient#delete" class="code-anchor">HttpClient.delete()</a></code>。</p><p translation-origin="off"><code>deleteHero()</code> calls <code><a href="api/common/http/HttpClient#delete" class="code-anchor">HttpClient.delete()</a></code>.</p></li><li><p translation-result="on">URL 就是英雄的资源 URL 加上要删除的英雄的 <code>id</code>。</p><p translation-origin="off">The URL is the heroes resource URL plus the <code>id</code> of the hero to delete.</p></li><li><p translation-result="on">你不用像 <code>put()</code> 和 <code>post()</code> 中那样发送任何数据。</p><p translation-origin="off">You don't send data as you did with <code>put()</code> and <code>post()</code>.</p></li><li><p translation-result="on">你仍要发送 <code>httpOptions</code>。</p><p translation-origin="off">You still send the <code>httpOptions</code>.</p></li></ul><p translation-result="on">刷新浏览器，并试一下这个新的删除功能。</p><p translation-origin="off">Refresh the browser and try the new delete functionality.</p><h2 id="search-by-name" translation-result="on">根据名字搜索<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#search-by-name"><i class="material-icons">link</i></a></h2><h2 translation-origin="off" id="search-by-name">Search by name<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#search-by-name"><i class="material-icons">link</i></a></h2><p translation-result="on">在最后一次练习中，你要学到把 <code>Observable</code> 的操作符串在一起，让你能将相似 HTTP 请求的数量最小化，并节省网络带宽。</p><p translation-origin="off">In this last exercise, you learn to chain <code>Observable</code> operators together so you can minimize the number of similar HTTP requests and consume network bandwidth economically.</p><p translation-result="on">你将往<em>仪表盘</em>中加入<em>英雄搜索</em>特性。 当用户在搜索框中输入名字时，你会不断发送根据名字过滤英雄的 HTTP 请求。 你的目标是仅仅发出尽可能少的必要请求。</p><p translation-origin="off">You will add a heroes search feature to the Dashboard. As the user types a name into a search box, you'll make repeated HTTP requests for heroes filtered by that name. Your goal is to issue only as many requests as necessary.</p><h4 id="heroservicesearchheroes"><code>HeroService.searchHeroes()</code><a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#heroservicesearchheroes"><i class="material-icons">link</i></a></h4><p translation-result="on">先把 <code>searchHeroes()</code> 方法添加到 <code>HeroService</code> 中。</p><p translation-origin="off">Start by adding a <code>searchHeroes()</code> method to the <code>HeroService</code>.</p><code-example path="toh-pt6/src/app/hero.service.ts" region="searchHeroes" header="src/app/hero.service.ts" ng-version="10.0.0-rc.2"><div style="display:none">/* GET heroes whose name contains search term */ searchHeroes(term: string): Observable&lt;Hero[]&gt; { if (!term.trim()) { // if not search term, return empty hero array. return of([]); } return this.http.get&lt;Hero[]&gt;(`${this.heroesUrl}/?name=${term}`).pipe( tap(x =&gt; x.length ? this.log(`found heroes matching "${term}"`) : this.log(`no heroes matching "${term}"`)), catchError(this.handleError&lt;Hero[]&gt;('searchHeroes', [])) ); }</div><header class="ng-star-inserted">src/app/hero.service.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/hero.service.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="com">/* GET heroes whose name contains search term */</span><span class="pln">
searchHeroes</span><span class="pun">(</span><span class="pln">term</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">):</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">[]&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">term</span><span class="pun">.</span><span class="pln">trim</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="com">// if not search term, return empty hero array.</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> of</span><span class="pun">([]);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
  </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">http</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">[]&gt;(</span><span class="str">`${this.heroesUrl}/?name=${term}`</span><span class="pun">).</span><span class="pln">pipe</span><span class="pun">(</span><span class="pln">
    tap</span><span class="pun">(</span><span class="pln">x </span><span class="pun">=&gt;</span><span class="pln"> x</span><span class="pun">.</span><span class="pln">length </span><span class="pun">?</span><span class="pln">
       </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">`found heroes matching "${term}"`</span><span class="pun">)</span><span class="pln"> </span><span class="pun">:</span><span class="pln">
       </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">`no heroes matching "${term}"`</span><span class="pun">)),</span><span class="pln">
    catchError</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleError</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">[]&gt;(</span><span class="str">'searchHeroes'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[]))</span><span class="pln">
  </span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">如果没有搜索词，该方法立即返回一个空数组。 剩下的部分和 <code>getHeroes()</code> 很像。 唯一的不同点是 URL，它包含了一个由搜索词组成的查询字符串。</p><p translation-origin="off">The method returns immediately with an empty array if there is no search term. The rest of it closely resembles <code>getHeroes()</code>, the only significant difference being the URL, which includes a query string with the search term.</p><h3 id="add-search-to-the-dashboard" translation-result="on">为仪表盘添加搜索功能<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#add-search-to-the-dashboard"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="add-search-to-the-dashboard">Add search to the Dashboard<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#add-search-to-the-dashboard"><i class="material-icons">link</i></a></h3><p translation-result="on">打开 <code>DashboardComponent</code> 的模板并且把用于搜索英雄的元素 <code>&lt;app-hero-search&gt;</code> 添加到代码的底部。</p><p translation-origin="off">Open the <code>DashboardComponent</code> template and add the hero search element, <code>&lt;app-hero-search&gt;</code>, to the bottom of the markup.</p><code-example path="toh-pt6/src/app/dashboard/dashboard.component.html" header="src/app/dashboard/dashboard.component.html" ng-version="10.0.0-rc.2"><div style="display:none">&lt;h3&gt;Top Heroes&lt;/h3&gt; &lt;div class="grid grid-pad"&gt; &lt;a *<a href="api/common/NgForOf" class="code-anchor">ngFor</a>="let hero of heroes" class="col-1-4" <a href="api/router/RouterLink" class="code-anchor">routerLink</a>="/detail/{{hero.id}}"&gt; &lt;div class="module hero"&gt; &lt;h4&gt;{{hero.name}}&lt;/h4&gt; &lt;/div&gt; &lt;/a&gt; &lt;/div&gt; &lt;app-hero-search&gt;&lt;/app-hero-search&gt;</div><header class="ng-star-inserted">src/app/dashboard/dashboard.component.html</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/dashboard/dashboard.component.html">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="tag">&lt;h3&gt;</span><span class="pln">Top Heroes</span><span class="tag">&lt;/h3&gt;</span><span class="pln">
</span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"grid grid-pad"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> *</span><a href="api/common/NgForOf" class="code-anchor"><span class="atn">ngFor</span></a><span class="pun">=</span><span class="atv">"let hero of heroes"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"col-1-4"</span><span class="pln">
      </span><a href="api/router/RouterLink" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/detail/{{hero.id}}"</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"module hero"</span><span class="tag">&gt;</span><span class="pln">
      </span><span class="tag">&lt;h4&gt;</span><span class="pln">{{hero.name}}</span><span class="tag">&lt;/h4&gt;</span><span class="pln">
    </span><span class="tag">&lt;/div&gt;</span><span class="pln">
  </span><span class="tag">&lt;/a&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span><span class="pln">

</span><span class="tag">&lt;app-hero-search&gt;&lt;/app-hero-search&gt;</span></code>
    </pre></aio-code></code-example><p translation-result="on">这个模板看起来很像 <code>HeroesComponent</code> 模板中的 <code>*<a href="api/common/NgForOf" class="code-anchor">ngFor</a></code> 复写器。</p><p translation-origin="off">This template looks a lot like the <code>*<a href="api/common/NgForOf" class="code-anchor">ngFor</a></code> repeater in the <code>HeroesComponent</code> template.</p><p translation-result="on">为此，下一步就是添加一个组件，它的选择器要能匹配 <code>&lt;app-hero-search&gt;</code>。</p><p translation-origin="off">For this to work, the next step is to add a component with a selector that matches <code>&lt;app-hero-search&gt;</code>.</p><h3 id="create-herosearchcomponent" translation-result="on">创建 <code>HeroSearchComponent</code><a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#create-herosearchcomponent"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="create-herosearchcomponent">Create <code>HeroSearchComponent</code><a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#create-herosearchcomponent"><i class="material-icons">link</i></a></h3><p translation-result="on">使用 CLI 创建一个 <code>HeroSearchComponent</code>。</p><p translation-origin="off">Create a <code>HeroSearchComponent</code> with the CLI.</p><code-example language="sh" class="code-shell" ng-version="10.0.0-rc.2"><div style="display:none">ng generate component hero-search</div><aio-code><pre class="lang-sh prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">ng generate component hero</span><span class="pun">-</span><span class="pln">search</span></code>
    </pre></aio-code></code-example><p translation-result="on">CLI 生成了 <code>HeroSearchComponent</code> 的三个文件，并把该组件添加到了 <code>AppModule</code> 的声明中。</p><p translation-origin="off">The CLI generates the three <code>HeroSearchComponent</code> files and adds the component to the <code>AppModule</code> declarations.</p><p translation-result="on">把生成的 <code>HeroSearchComponent</code> 的<em>模板</em>改成一个 <code>&lt;input&gt;</code> 和一个匹配到的搜索结果的列表。代码如下：</p><p translation-origin="off">Replace the generated <code>HeroSearchComponent</code> template with an <code>&lt;input&gt;</code> and a list of matching search results, as follows.</p><code-example path="toh-pt6/src/app/hero-search/hero-search.component.html" header="src/app/hero-search/hero-search.component.html" ng-version="10.0.0-rc.2"><div style="display:none">&lt;div id="search-component"&gt; &lt;h4&gt;&lt;label for="search-box"&gt;Hero Search&lt;/label&gt;&lt;/h4&gt; &lt;input #searchBox id="search-box" (input)="search(searchBox.value)" /&gt; &lt;ul class="search-result"&gt; &lt;li *<a href="api/common/NgForOf" class="code-anchor">ngFor</a>="let hero of heroes$ | <a href="api/core/testing/async" class="code-anchor">async</a>" &gt; &lt;a <a href="api/router/RouterLink" class="code-anchor">routerLink</a>="/detail/{{hero.id}}"&gt; {{hero.name}} &lt;/a&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt;</div><header class="ng-star-inserted">src/app/hero-search/hero-search.component.html</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/hero-search/hero-search.component.html">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">"search-component"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;h4&gt;&lt;label</span><span class="pln"> </span><span class="atn">for</span><span class="pun">=</span><span class="atv">"search-box"</span><span class="tag">&gt;</span><span class="pln">Hero Search</span><span class="tag">&lt;/label&gt;&lt;/h4&gt;</span><span class="pln">

  </span><span class="tag">&lt;input</span><span class="pln"> #</span><span class="atn">searchBox</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">"search-box"</span><span class="pln"> (</span><span class="atn">input</span><span class="pln">)</span><span class="pun">=</span><span class="atv">"search(searchBox.value)"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">

  </span><span class="tag">&lt;ul</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"search-result"</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;li</span><span class="pln"> *</span><a href="api/common/NgForOf" class="code-anchor"><span class="atn">ngFor</span></a><span class="pun">=</span><span class="atv">"let hero of heroes$ | </span><a href="api/core/testing/async" class="code-anchor"><span class="atv">async</span></a><span class="atv">"</span><span class="pln"> </span><span class="tag">&gt;</span><span class="pln">
      </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="api/router/RouterLink" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/detail/{{hero.id}}"</span><span class="tag">&gt;</span><span class="pln">
        {{hero.name}}
      </span><span class="tag">&lt;/a&gt;</span><span class="pln">
    </span><span class="tag">&lt;/li&gt;</span><span class="pln">
  </span><span class="tag">&lt;/ul&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code>
    </pre></aio-code></code-example><p translation-result="on">从下面的 <a href="tutorial/toh-pt6#herosearchcomponent">最终代码</a> 中把私有 CSS 样式添加到 <code>hero-search.component.css</code> 中。</p><p translation-origin="off">Add private CSS styles to <code>hero-search.component.css</code> as listed in the <a href="tutorial/toh-pt6#herosearchcomponent">final code review</a> below.</p><p translation-result="on">当用户在搜索框中输入时，一个 <em>keyup</em> 事件绑定会调用该组件的 <code>search()</code> 方法，并传入新的搜索框的值。</p><p translation-origin="off">As the user types in the search box, an input event binding calls the component's <code>search()</code> method with the new search box value.</p><a id="asyncpipe"></a><h3 id="asyncpipe"><code><a href="api/common/AsyncPipe" class="code-anchor">AsyncPipe</a></code><a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#asyncpipe"><i class="material-icons">link</i></a></h3><p translation-result="on"><code>*<a href="api/common/NgForOf" class="code-anchor">ngFor</a></code> 会重复渲染这些英雄对象。注意，<code>*<a href="api/common/NgForOf" class="code-anchor">ngFor</a></code> 在一个名叫 <code>heroes$</code> 的列表上迭代，而不是 <code>heroes</code>。<code>$</code> 是一个约定，表示 <code>heroes$</code> 是一个 <code>Observable</code> 而不是数组。</p><p translation-origin="off">The <code>*<a href="api/common/NgForOf" class="code-anchor">ngFor</a></code> repeats hero objects. Notice that the <code>*<a href="api/common/NgForOf" class="code-anchor">ngFor</a></code> iterates over a list called <code>heroes$</code>, not <code>heroes</code>. The <code>$</code> is a convention that indicates <code>heroes$</code> is an <code>Observable</code>, not an array.</p><code-example path="toh-pt6/src/app/hero-search/hero-search.component.html" header="src/app/hero-search/hero-search.component.html" region="async" ng-version="10.0.0-rc.2"><div style="display:none">&lt;li *<a href="api/common/NgForOf" class="code-anchor">ngFor</a>="let hero of heroes$ | <a href="api/core/testing/async" class="code-anchor">async</a>" &gt;</div><header class="ng-star-inserted">src/app/hero-search/hero-search.component.html</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/hero-search/hero-search.component.html">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="tag">&lt;li</span><span class="pln"> *</span><a href="api/common/NgForOf" class="code-anchor"><span class="atn">ngFor</span></a><span class="pun">=</span><span class="atv">"let hero of heroes$ | </span><a href="api/core/testing/async" class="code-anchor"><span class="atv">async</span></a><span class="atv">"</span><span class="pln"> </span><span class="tag">&gt;</span></code>
    </pre></aio-code></code-example><p translation-result="on">由于 <code>*<a href="api/common/NgForOf" class="code-anchor">ngFor</a></code> 不能直接使用 <code>Observable</code>，所以要使用一个管道字符（<code>|</code>），后面紧跟着一个 <code><a href="api/core/testing/async" class="code-anchor">async</a></code>。这表示 Angular 的 <code><a href="api/common/AsyncPipe" class="code-anchor">AsyncPipe</a></code> 管道，它会自动订阅 <code>Observable</code>，这样你就不用在组件类中这么做了。</p><p translation-origin="off">Since <code>*<a href="api/common/NgForOf" class="code-anchor">ngFor</a></code> can't do anything with an <code>Observable</code>, use the pipe character (<code>|</code>) followed by <code><a href="api/core/testing/async" class="code-anchor">async</a></code>. This identifies Angular's <code><a href="api/common/AsyncPipe" class="code-anchor">AsyncPipe</a></code> and subscribes to an <code>Observable</code> automatically so you won't have to do so in the component class.</p><h3 id="edit-the-herosearchcomponent-class" translation-result="on">修正 <code>HeroSearchComponent</code> 类<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#edit-the-herosearchcomponent-class"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="edit-the-herosearchcomponent-class">Edit the <code>HeroSearchComponent</code> class<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#edit-the-herosearchcomponent-class"><i class="material-icons">link</i></a></h3><p translation-result="on">修改所生成的 <code>HeroSearchComponent</code> 类及其元数据，代码如下：</p><p translation-origin="off">Replace the generated <code>HeroSearchComponent</code> class and metadata as follows.</p><code-example path="toh-pt6/src/app/hero-search/hero-search.component.ts" header="src/app/hero-search/hero-search.component.ts" ng-version="10.0.0-rc.2"><div style="display:none">import { <a href="api/core/Component" class="code-anchor">Component</a>, <a href="api/core/OnInit" class="code-anchor">OnInit</a> } from '@angular/core'; import { Observable, Subject } from 'rxjs'; import { debounceTime, distinctUntilChanged, switchMap } from 'rxjs/operators'; import { Hero } from '../hero'; import { HeroService } from '../hero.service'; @<a href="api/core/Component" class="code-anchor">Component</a>({ selector: 'app-hero-search', templateUrl: './hero-search.component.html', styleUrls: [ './hero-search.component.css' ] }) export class HeroSearchComponent implements <a href="api/core/OnInit" class="code-anchor">OnInit</a> { heroes$: Observable&lt;Hero[]&gt;; private searchTerms = new Subject&lt;string&gt;(); constructor(private heroService: HeroService) {} // Push a search term into the observable stream. search(term: string): void { this.searchTerms.next(term); } ngOnInit(): void { this.heroes$ = this.searchTerms.pipe( // wait 300ms after each keystroke before considering the term debounceTime(300), // ignore new term if same as previous term distinctUntilChanged(), // switch to new search observable each time the term changes switchMap((term: string) =&gt; this.heroService.searchHeroes(term)), ); } }</div><header class="ng-star-inserted">src/app/hero-search/hero-search.component.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/hero-search/hero-search.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/Component" class="code-anchor"><span class="typ">Component</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/core/OnInit" class="code-anchor"><span class="typ">OnInit</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Subject</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
   debounceTime</span><span class="pun">,</span><span class="pln"> distinctUntilChanged</span><span class="pun">,</span><span class="pln"> switchMap
 </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs/operators'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Hero</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../hero'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">HeroService</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'../hero.service'</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@</span><a href="api/core/Component" class="code-anchor"><span class="lit">Component</span></a><span class="pun">({</span><span class="pln">
  selector</span><span class="pun">:</span><span class="pln"> </span><span class="str">'app-hero-search'</span><span class="pun">,</span><span class="pln">
  templateUrl</span><span class="pun">:</span><span class="pln"> </span><span class="str">'./hero-search.component.html'</span><span class="pun">,</span><span class="pln">
  styleUrls</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="pln"> </span><span class="str">'./hero-search.component.css'</span><span class="pln"> </span><span class="pun">]</span><span class="pln">
</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">HeroSearchComponent</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><a href="api/core/OnInit" class="code-anchor"><span class="typ">OnInit</span></a><span class="pln"> </span><span class="pun">{</span><span class="pln">
  heroes$</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">[]&gt;;</span><span class="pln">
  </span><span class="kwd">private</span><span class="pln"> searchTerms </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Subject</span><span class="str">&lt;string&gt;</span><span class="pun">();</span><span class="pln">

  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="kwd">private</span><span class="pln"> heroService</span><span class="pun">:</span><span class="pln"> </span><span class="typ">HeroService</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">

  </span><span class="com">// Push a search term into the observable stream.</span><span class="pln">
  search</span><span class="pun">(</span><span class="pln">term</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">):</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">searchTerms</span><span class="pun">.</span><span class="kwd">next</span><span class="pun">(</span><span class="pln">term</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  ngOnInit</span><span class="pun">():</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">heroes$ </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">searchTerms</span><span class="pun">.</span><span class="pln">pipe</span><span class="pun">(</span><span class="pln">
      </span><span class="com">// wait 300ms after each keystroke before considering the term</span><span class="pln">
      debounceTime</span><span class="pun">(</span><span class="lit">300</span><span class="pun">),</span><span class="pln">

      </span><span class="com">// ignore new term if same as previous term</span><span class="pln">
      distinctUntilChanged</span><span class="pun">(),</span><span class="pln">

      </span><span class="com">// switch to new search observable each time the term changes</span><span class="pln">
      switchMap</span><span class="pun">((</span><span class="pln">term</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">heroService</span><span class="pun">.</span><span class="pln">searchHeroes</span><span class="pun">(</span><span class="pln">term</span><span class="pun">)),</span><span class="pln">
    </span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on">注意，<code>heroes$</code> 声明为一个 <code>Observable</code></p><p translation-origin="off">Notice the declaration of <code>heroes$</code> as an <code>Observable</code>:</p><code-example path="toh-pt6/src/app/hero-search/hero-search.component.ts" header="src/app/hero-search/hero-search.component.ts" region="heroes-stream" ng-version="10.0.0-rc.2"><div style="display:none">heroes$: Observable&lt;Hero[]&gt;;</div><header class="ng-star-inserted">src/app/hero-search/hero-search.component.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/hero-search/hero-search.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="pln">heroes$</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">[]&gt;;</span></code>
    </pre></aio-code></code-example><p translation-result="on">你将会在 <a href="tutorial/toh-pt6#search-pipe"><code>ngOnInit()</code></a>中设置它，在此之前，先仔细看看 <code>searchTerms</code> 的定义。</p><p translation-origin="off">You'll set it in <a href="tutorial/toh-pt6#search-pipe"><code>ngOnInit()</code></a>. Before you do, focus on the definition of <code>searchTerms</code>.</p><h3 id="the-searchterms-rxjs-subject" translation-result="on">RxJS <code>Subject</code> 类型的 <code>searchTerms</code><a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#the-searchterms-rxjs-subject"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="the-searchterms-rxjs-subject">The <code>searchTerms</code> RxJS subject<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#the-searchterms-rxjs-subject"><i class="material-icons">link</i></a></h3><p translation-result="on"><code>searchTerms</code> 属性是 RxJS 的 <code>Subject</code> 类型。</p><p translation-origin="off">The <code>searchTerms</code> property is an RxJS <code>Subject</code>.</p><code-example path="toh-pt6/src/app/hero-search/hero-search.component.ts" header="src/app/hero-search/hero-search.component.ts" region="searchTerms" ng-version="10.0.0-rc.2"><div style="display:none">private searchTerms = new Subject&lt;string&gt;(); // Push a search term into the observable stream. search(term: string): void { this.searchTerms.next(term); }</div><header class="ng-star-inserted">src/app/hero-search/hero-search.component.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/hero-search/hero-search.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">private</span><span class="pln"> searchTerms </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Subject</span><span class="str">&lt;string&gt;</span><span class="pun">();</span><span class="pln">

</span><span class="com">// Push a search term into the observable stream.</span><span class="pln">
search</span><span class="pun">(</span><span class="pln">term</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">):</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">searchTerms</span><span class="pun">.</span><span class="kwd">next</span><span class="pun">(</span><span class="pln">term</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></code-example><p translation-result="on"><code>Subject</code> 既是可观察对象的数据源，本身也是 <code>Observable</code>。 你可以像订阅任何 <code>Observable</code> 一样订阅 <code>Subject</code>。</p><p translation-origin="off">A <code>Subject</code> is both a source of observable values and an <code>Observable</code> itself. You can subscribe to a <code>Subject</code> as you would any <code>Observable</code>.</p><p translation-result="on">你还可以通过调用它的 <code>next(value)</code> 方法往 <code>Observable</code> 中推送一些值，就像 <code>search()</code> 方法中一样。</p><p translation-origin="off">You can also push values into that <code>Observable</code> by calling its <code>next(value)</code> method as the <code>search()</code> method does.</p><p translation-result="on">文本框的 <code>input</code> 事件的<em>事件绑定</em>会调用 <code>search()</code> 方法。</p><p translation-origin="off">The event binding to the textbox's <code>input</code> event calls the <code>search()</code> method.</p><code-example path="toh-pt6/src/app/hero-search/hero-search.component.html" header="src/app/hero-search/hero-search.component.html" region="input" ng-version="10.0.0-rc.2"><div style="display:none">&lt;input #searchBox id="search-box" (input)="search(searchBox.value)" /&gt;</div><header class="ng-star-inserted">src/app/hero-search/hero-search.component.html</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/hero-search/hero-search.component.html">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="tag">&lt;input</span><span class="pln"> #</span><span class="atn">searchBox</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">"search-box"</span><span class="pln"> (</span><span class="atn">input</span><span class="pln">)</span><span class="pun">=</span><span class="atv">"search(searchBox.value)"</span><span class="pln"> </span><span class="tag">/&gt;</span></code>
    </pre></aio-code></code-example><p translation-result="on">每当用户在文本框中输入时，这个事件绑定就会使用文本框的值（搜索词）调用 <code>search()</code> 函数。 <code>searchTerms</code> 变成了一个能发出搜索词的稳定的流。</p><p translation-origin="off">Every time the user types in the textbox, the binding calls <code>search()</code> with the textbox value, a "search term". The <code>searchTerms</code> becomes an <code>Observable</code> emitting a steady stream of search terms.</p><a id="search-pipe"></a><h3 id="chaining-rxjs-operators" translation-result="on">串联 RxJS 操作符<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#chaining-rxjs-operators"><i class="material-icons">link</i></a></h3><h3 translation-origin="off" id="chaining-rxjs-operators">Chaining RxJS operators<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#chaining-rxjs-operators"><i class="material-icons">link</i></a></h3><p translation-result="on">如果每当用户击键后就直接调用 <code>searchHeroes()</code> 将导致创建海量的 HTTP 请求，浪费服务器资源并干扰数据调度计划。</p><p translation-origin="off">Passing a new search term directly to the <code>searchHeroes()</code> after every user keystroke would create an excessive amount of HTTP requests, taxing server resources and burning through data plans.</p><p translation-result="on">应该怎么做呢？<code>ngOnInit()</code> 往 <code>searchTerms</code> 这个可观察对象的处理管道中加入了一系列 RxJS 操作符，用以缩减对 <code>searchHeroes()</code> 的调用次数，并最终返回一个可及时给出英雄搜索结果的可观察对象（每次都是 <code>Hero[]</code> ）。</p><p translation-origin="off">Instead, the <code>ngOnInit()</code> method pipes the <code>searchTerms</code> observable through a sequence of RxJS operators that reduce the number of calls to the <code>searchHeroes()</code>, ultimately returning an observable of timely hero search results (each a <code>Hero[]</code>).</p><p translation-result="on">代码如下：</p><p translation-origin="off">Here's a closer look at the code.</p><code-example path="toh-pt6/src/app/hero-search/hero-search.component.ts" header="src/app/hero-search/hero-search.component.ts" region="search" ng-version="10.0.0-rc.2"><div style="display:none">this.heroes$ = this.searchTerms.pipe( // wait 300ms after each keystroke before considering the term debounceTime(300), // ignore new term if same as previous term distinctUntilChanged(), // switch to new search observable each time the term changes switchMap((term: string) =&gt; this.heroService.searchHeroes(term)), );</div><header class="ng-star-inserted">src/app/hero-search/hero-search.component.ts</header><aio-code class="headed-code"><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/hero-search/hero-search.component.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">this</span><span class="pun">.</span><span class="pln">heroes$ </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">searchTerms</span><span class="pun">.</span><span class="pln">pipe</span><span class="pun">(</span><span class="pln">
  </span><span class="com">// wait 300ms after each keystroke before considering the term</span><span class="pln">
  debounceTime</span><span class="pun">(</span><span class="lit">300</span><span class="pun">),</span><span class="pln">

  </span><span class="com">// ignore new term if same as previous term</span><span class="pln">
  distinctUntilChanged</span><span class="pun">(),</span><span class="pln">

  </span><span class="com">// switch to new search observable each time the term changes</span><span class="pln">
  switchMap</span><span class="pun">((</span><span class="pln">term</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">heroService</span><span class="pun">.</span><span class="pln">searchHeroes</span><span class="pun">(</span><span class="pln">term</span><span class="pun">)),</span><span class="pln">
</span><span class="pun">);</span></code>
    </pre></aio-code></code-example><p translation-result="on">各个操作符的工作方式如下：</p><p translation-origin="off">Each operator works as follows:</p><ul><li><p translation-result="on">在传出最终字符串之前，<code>debounceTime(300)</code> 将会等待，直到新增字符串的事件暂停了 300 毫秒。 你实际发起请求的间隔永远不会小于 300ms。</p><p translation-origin="off"><code>debounceTime(300)</code> waits until the flow of new string events pauses for 300 milliseconds before passing along the latest string. You'll never make requests more frequently than 300ms.</p></li><li><p translation-result="on"> <code>distinctUntilChanged()</code> 会确保只在过滤条件变化时才发送请求。</p><p translation-origin="off"><code>distinctUntilChanged()</code> ensures that a request is sent only if the filter text changed.</p></li><li><p translation-result="on"> <code>switchMap()</code> 会为每个从 <code>debounce()</code> 和 <code>distinctUntilChanged()</code> 中通过的搜索词调用搜索服务。 它会取消并丢弃以前的搜索可观察对象，只保留最近的。</p><p translation-origin="off"><code>switchMap()</code> calls the search service for each search term that makes it through <code>debounce()</code> and <code>distinctUntilChanged()</code>. It cancels and discards previous search observables, returning only the latest search service observable.</p></li></ul><div class="alert is-helpful"><p translation-result="on">借助 <a href="http://www.learnrxjs.io/operators/transformation/switchmap.html">switchMap 操作符</a>， 每个有效的击键事件都会触发一次 <code><a href="api/common/http/HttpClient#get" class="code-anchor">HttpClient.get()</a></code> 方法调用。 即使在每个请求之间都有至少 300ms 的间隔，仍然可能会同时存在多个尚未返回的 HTTP 请求。</p><p translation-origin="off">With the <a href="http://www.learnrxjs.io/operators/transformation/switchmap.html">switchMap operator</a>, every qualifying key event can trigger an <code><a href="api/common/http/HttpClient#get" class="code-anchor">HttpClient.get()</a></code> method call. Even with a 300ms pause between requests, you could have multiple HTTP requests in flight and they may not return in the order sent.</p><p translation-result="on"> <code>switchMap()</code> 会记住原始的请求顺序，只会返回最近一次 HTTP 方法调用的结果。 以前的那些请求都会被取消和舍弃。</p><p translation-origin="off"> <code>switchMap()</code> preserves the original request order while returning only the observable from the most recent HTTP method call. Results from prior calls are canceled and discarded.</p><p translation-result="on">注意，取消前一个 <code>searchHeroes()</code> 可观察对象并不会中止尚未完成的 HTTP 请求。 那些不想要的结果只会在它们抵达应用代码之前被舍弃。</p><p translation-origin="off">Note that canceling a previous <code>searchHeroes()</code> Observable doesn't actually abort a pending HTTP request. Unwanted results are simply discarded before they reach your application code.</p></div><p translation-result="on">记住，组件类中并没有订阅 <code>heroes$</code> 这个可观察对象，而是由模板中的 <a href="tutorial/toh-pt6#asyncpipe"><code>AsyncPipe</code></a>完成的。</p><p translation-origin="off">Remember that the component <em>class</em> does not subscribe to the <code>heroes$</code> <em>observable</em>. That's the job of the <a href="tutorial/toh-pt6#asyncpipe"><code>AsyncPipe</code></a>in the template.</p><h4 id="try-it" translation-result="on">试试看<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#try-it"><i class="material-icons">link</i></a></h4><h4 translation-origin="off" id="try-it">Try it<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#try-it"><i class="material-icons">link</i></a></h4><p translation-result="on">再次运行本应用。在这个 <em>仪表盘</em> 中，在搜索框中输入一些文字。如果你输入的字符匹配上了任何现有英雄的名字，你将会看到如下效果：</p><p translation-origin="off">Run the app again. In the <em>Dashboard</em>, enter some text in the search box. If you enter characters that match any existing hero names, you'll see something like this.</p><div class="lightbox"><img src="generated/images/guide/toh/toh-hero-search.png" alt="Hero Search Component" width="240" height="224"></div><h2 id="final-code-review" translation-result="on">查看最终代码<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#final-code-review"><i class="material-icons">link</i></a></h2><h2 translation-origin="off" id="final-code-review">Final code review<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#final-code-review"><i class="material-icons">link</i></a></h2><p translation-result="on">本文讨论过的代码文件如下（都位于 <code>src/app/</code> 文件夹中）。</p><p translation-origin="off">Here are the code files discussed on this page (all in the <code>src/app/</code> folder).</p><a id="heroservice"></a> <a id="inmemorydataservice"></a> <a id="appmodule"></a><h4 id="heroservice-inmemorydataservice-appmodule"><code>HeroService</code>, <code>InMemoryDataService</code>, <code>AppModule</code><a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#heroservice-inmemorydataservice-appmodule"><i class="material-icons">link</i></a></h4><code-tabs ng-version="10.0.0-rc.2"><div style="display:none"><code-pane header="hero.service.ts" path="toh-pt6/src/app/hero.service.ts">import { <a href="api/core/Injectable" class="code-anchor">Injectable</a> } from '@angular/core'; import { <a href="api/common/http/HttpClient" class="code-anchor">HttpClient</a>, <a href="api/common/http/HttpHeaders" class="code-anchor">HttpHeaders</a> } from '@angular/common/<a href="api/common/http" class="code-anchor">http</a>'; import { Observable, of } from 'rxjs'; import { catchError, map, tap } from 'rxjs/operators'; import { Hero } from './hero'; import { MessageService } from './message.service'; @<a href="api/core/Injectable" class="code-anchor">Injectable</a>({ providedIn: 'root' }) export class HeroService { private heroesUrl = 'api/heroes'; // URL to web api httpOptions = { headers: new <a href="api/common/http/HttpHeaders" class="code-anchor">HttpHeaders</a>({ 'Content-Type': 'application/json' }) }; constructor( private <a href="api/common/http" class="code-anchor">http</a>: <a href="api/common/http/HttpClient" class="code-anchor">HttpClient</a>, private messageService: MessageService) { } /** GET heroes from the server */ getHeroes(): Observable&lt;Hero[]&gt; { return this.http.get&lt;Hero[]&gt;(this.heroesUrl) .pipe( tap(_ =&gt; this.log('fetched heroes')), catchError(this.handleError&lt;Hero[]&gt;('getHeroes', [])) ); } /** GET hero by id. Return `undefined` when id not found */ getHeroNo404&lt;<a href="api/router/Data" class="code-anchor">Data</a>&gt;(id: number): Observable&lt;Hero&gt; { const url = `${this.heroesUrl}/?id=${id}`; return this.http.get&lt;Hero[]&gt;(url) .pipe( map(heroes =&gt; heroes[0]), // returns a {0|1} element array tap(h =&gt; { const outcome = h ? `fetched` : `did not find`; this.log(`${outcome} hero id=${id}`); }), catchError(this.handleError&lt;Hero&gt;(`getHero id=${id}`)) ); } /** GET hero by id. Will 404 if id not found */ getHero(id: number): Observable&lt;Hero&gt; { const url = `${this.heroesUrl}/${id}`; return this.http.get&lt;Hero&gt;(url).pipe( tap(_ =&gt; this.log(`fetched hero id=${id}`)), catchError(this.handleError&lt;Hero&gt;(`getHero id=${id}`)) ); } /* GET heroes whose name contains search term */ searchHeroes(term: string): Observable&lt;Hero[]&gt; { if (!term.trim()) { // if not search term, return empty hero array. return of([]); } return this.http.get&lt;Hero[]&gt;(`${this.heroesUrl}/?name=${term}`).pipe( tap(x =&gt; x.length ? this.log(`found heroes matching "${term}"`) : this.log(`no heroes matching "${term}"`)), catchError(this.handleError&lt;Hero[]&gt;('searchHeroes', [])) ); } //////// Save methods ////////// /** POST: add a new hero to the server */ addHero(hero: Hero): Observable&lt;Hero&gt; { return this.http.post&lt;Hero&gt;(this.heroesUrl, hero, this.httpOptions).pipe( tap((newHero: Hero) =&gt; this.log(`added hero w/ id=${newHero.id}`)), catchError(this.handleError&lt;Hero&gt;('addHero')) ); } /** DELETE: delete the hero from the server */ deleteHero(hero: Hero | <a href="api/common/DecimalPipe" class="code-anchor">number</a>): Observable&lt;Hero&gt; { const id = typeof hero === 'number' ? hero : hero.id; const url = `${this.heroesUrl}/${id}`; return this.http.delete&lt;Hero&gt;(url, this.httpOptions).pipe( tap(_ =&gt; this.log(`deleted hero id=${id}`)), catchError(this.handleError&lt;Hero&gt;('deleteHero')) ); } /** PUT: update the hero on the server */ updateHero(hero: Hero): Observable&lt;any&gt; { return this.http.put(this.heroesUrl, hero, this.httpOptions).pipe( tap(_ =&gt; this.log(`updated hero id=${hero.id}`)), catchError(this.handleError&lt;any&gt;('updateHero')) ); } /** * Handle Http operation that failed. * Let the app continue. * @param operation - name of the operation that failed * @param result - optional value to return as the observable result */ private handleError&lt;T&gt;(operation = 'operation', result?: T) { return (error: any): Observable&lt;T&gt; =&gt; { // TODO: send the error to remote logging infrastructure console.error(error); // log to console instead // TODO: better job of transforming error for user consumption this.log(`${operation} failed: ${error.message}`); // Let the app keep running by returning an empty result. return of(result as T); }; } /** Log a HeroService message with the MessageService */ private log(message: string) { this.messageService.add(`HeroService: ${message}`); } }</code-pane><code-pane header="in-memory-data.service.ts" path="toh-pt6/src/app/in-memory-data.service.ts">import { <a href="api/core/Injectable" class="code-anchor">Injectable</a> } from '@angular/core'; import { InMemoryDbService } from 'angular-in-memory-web-api'; import { Hero } from './hero'; @<a href="api/core/Injectable" class="code-anchor">Injectable</a>({ providedIn: 'root', }) export class InMemoryDataService implements InMemoryDbService { createDb() { const heroes = [ { id: 11, name: 'Dr Nice' }, { id: 12, name: 'Narco' }, { id: 13, name: 'Bombasto' }, { id: 14, name: 'Celeritas' }, { id: 15, name: 'Magneta' }, { id: 16, name: 'RubberMan' }, { id: 17, name: 'Dynama' }, { id: 18, name: 'Dr IQ' }, { id: 19, name: 'Magma' }, { id: 20, name: 'Tornado' } ]; return {heroes}; } // Overrides the genId method to ensure that a hero always has an id. // If the heroes array is empty, // the method below returns the initial number (11). // if the heroes array is not empty, the method below returns the highest // hero id + 1. genId(heroes: Hero[]): number { return heroes.length &gt; 0 ? Math.max(...heroes.map(hero =&gt; hero.id)) + 1 : 11; } }</code-pane><code-pane header="app.module.ts" path="toh-pt6/src/app/app.module.ts">import { <a href="api/core/NgModule" class="code-anchor">NgModule</a> } from '@angular/core'; import { <a href="api/platform-browser/BrowserModule" class="code-anchor">BrowserModule</a> } from '@angular/platform-browser'; import { <a href="api/forms/FormsModule" class="code-anchor">FormsModule</a> } from '@angular/forms'; import { <a href="api/common/http/HttpClientModule" class="code-anchor">HttpClientModule</a> } from '@angular/common/<a href="api/common/http" class="code-anchor">http</a>'; import { HttpClientInMemoryWebApiModule } from 'angular-in-memory-web-api'; import { InMemoryDataService } from './in-memory-data.service'; import { AppRoutingModule } from './app-routing.module'; import { AppComponent } from './app.component'; import { DashboardComponent } from './dashboard/dashboard.component'; import { HeroDetailComponent } from './hero-detail/hero-detail.component'; import { HeroesComponent } from './heroes/heroes.component'; import { HeroSearchComponent } from './hero-search/hero-search.component'; import { MessagesComponent } from './messages/messages.component'; @<a href="api/core/NgModule" class="code-anchor">NgModule</a>({ imports: [ <a href="api/platform-browser/BrowserModule" class="code-anchor">BrowserModule</a>, <a href="api/forms/FormsModule" class="code-anchor">FormsModule</a>, AppRoutingModule, <a href="api/common/http/HttpClientModule" class="code-anchor">HttpClientModule</a>, // The HttpClientInMemoryWebApiModule module intercepts HTTP requests // and returns simulated server responses. // Remove it when a real server is ready to receive requests. HttpClientInMemoryWebApiModule.forRoot( InMemoryDataService, { dataEncapsulation: false } ) ], declarations: [ AppComponent, DashboardComponent, HeroesComponent, HeroDetailComponent, MessagesComponent, HeroSearchComponent ], bootstrap: [ AppComponent ] }) export class AppModule { }</code-pane></div><mat-card class="mat-card mat-focus-indicator"><mat-tab-group class="mat-tab-group code-tab-group mat-primary"><mat-tab-header class="mat-tab-header"><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div><div class="mat-tab-label-container"><div role="tablist" class="mat-tab-list" style="transform:translateX(0)"><div class="mat-tab-labels"><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator mat-tab-label-active ng-star-inserted" id="mat-tab-label-0-0" tabindex="0" aria-posinset="1" aria-setsize="3" aria-controls="mat-tab-content-0-0" aria-selected="true" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">hero.service.ts</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-0-1" tabindex="-1" aria-posinset="2" aria-setsize="3" aria-controls="mat-tab-content-0-1" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">in-memory-data.service.ts</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-0-2" tabindex="-1" aria-posinset="3" aria-setsize="3" aria-controls="mat-tab-content-0-2" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">app.module.ts</span></div></div></div><mat-ink-bar class="mat-ink-bar" style="visibility:visible;left:0;width:160px"></mat-ink-bar></div></div><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div></mat-tab-header><div class="mat-tab-body-wrapper"><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c50-2 mat-tab-body-active ng-star-inserted" id="mat-tab-content-0-0" aria-labelledby="mat-tab-label-0-0"><div class="mat-tab-body-content ng-tns-c50-2 ng-trigger ng-trigger-translateTab" style="transform:none"><aio-code class="ng-star-inserted" style=""><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from hero.service.ts">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/core/Injectable" class="code-anchor"><span class="typ">Injectable</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/core'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><a href="api/common/http/HttpClient" class="code-anchor"><span class="typ">HttpClient</span></a><span class="pun">,</span><span class="pln"> </span><a href="api/common/http/HttpHeaders" class="code-anchor"><span class="typ">HttpHeaders</span></a><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'@angular/common/</span><a href="api/common/http" class="code-anchor"><span class="str">http</span></a><span class="str">'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">,</span><span class="pln"> of </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> catchError</span><span class="pun">,</span><span class="pln"> map</span><span class="pun">,</span><span class="pln"> tap </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'rxjs/operators'</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">Hero</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./hero'</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">MessageService</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> </span><span class="str">'./message.service'</span><span class="pun">;</span><span class="pln">


</span><span class="lit">@</span><a href="api/core/Injectable" class="code-anchor"><span class="lit">Injectable</span></a><span class="pun">({</span><span class="pln"> providedIn</span><span class="pun">:</span><span class="pln"> </span><span class="str">'root'</span><span class="pln"> </span><span class="pun">})</span><span class="pln">
</span><span class="kwd">export</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">HeroService</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

  </span><span class="kwd">private</span><span class="pln"> heroesUrl </span><span class="pun">=</span><span class="pln"> </span><span class="str">'api/heroes'</span><span class="pun">;</span><span class="pln">  </span><span class="com">// URL to web api</span><span class="pln">

  httpOptions </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    headers</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><a href="api/common/http/HttpHeaders" class="code-anchor"><span class="typ">HttpHeaders</span></a><span class="pun">({</span><span class="pln"> </span><span class="str">'Content-Type'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'application/json'</span><span class="pln"> </span><span class="pun">})</span><span class="pln">
  </span><span class="pun">};</span><span class="pln">

  </span><span class="kwd">constructor</span><span class="pun">(</span><span class="pln">
    </span><span class="kwd">private</span><span class="pln"> </span><a href="api/common/http" class="code-anchor"><span class="pln">http</span></a><span class="pun">:</span><span class="pln"> </span><a href="api/common/http/HttpClient" class="code-anchor"><span class="typ">HttpClient</span></a><span class="pun">,</span><span class="pln">
    </span><span class="kwd">private</span><span class="pln"> messageService</span><span class="pun">:</span><span class="pln"> </span><span class="typ">MessageService</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">}</span><span class="pln">

  </span><span class="com">/** GET heroes from the server */</span><span class="pln">
  getHeroes</span><span class="pun">():</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">[]&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">http</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">[]&gt;(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">heroesUrl</span><span class="pun">)</span><span class="pln">
      </span><span class="pun">.</span><span class="pln">pipe</span><span class="pun">(</span><span class="pln">
        tap</span><span class="pun">(</span><span class="pln">_ </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">'fetched heroes'</span><span class="pun">)),</span><span class="pln">
        catchError</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleError</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">[]&gt;(</span><span class="str">'getHeroes'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[]))</span><span class="pln">
      </span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="com">/** GET hero by id. Return `undefined` when id not found */</span><span class="pln">
  getHeroNo404</span><span class="pun">&lt;</span><a href="api/router/Data" class="code-anchor"><span class="typ">Data</span></a><span class="pun">&gt;(</span><span class="pln">id</span><span class="pun">:</span><span class="pln"> number</span><span class="pun">):</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> url </span><span class="pun">=</span><span class="pln"> </span><span class="str">`${this.heroesUrl}/?id=${id}`</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">http</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">[]&gt;(</span><span class="pln">url</span><span class="pun">)</span><span class="pln">
      </span><span class="pun">.</span><span class="pln">pipe</span><span class="pun">(</span><span class="pln">
        map</span><span class="pun">(</span><span class="pln">heroes </span><span class="pun">=&gt;</span><span class="pln"> heroes</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]),</span><span class="pln"> </span><span class="com">// returns a {0|1} element array</span><span class="pln">
        tap</span><span class="pun">(</span><span class="pln">h </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
          </span><span class="kwd">const</span><span class="pln"> outcome </span><span class="pun">=</span><span class="pln"> h </span><span class="pun">?</span><span class="pln"> </span><span class="str">`fetched`</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="str">`did not find`</span><span class="pun">;</span><span class="pln">
          </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">`${outcome} hero id=${id}`</span><span class="pun">);</span><span class="pln">
        </span><span class="pun">}),</span><span class="pln">
        catchError</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleError</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">&gt;(</span><span class="str">`getHero id=${id}`</span><span class="pun">))</span><span class="pln">
      </span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="com">/** GET hero by id. Will 404 if id not found */</span><span class="pln">
  getHero</span><span class="pun">(</span><span class="pln">id</span><span class="pun">:</span><span class="pln"> number</span><span class="pun">):</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> url </span><span class="pun">=</span><span class="pln"> </span><span class="str">`${this.heroesUrl}/${id}`</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">http</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">&gt;(</span><span class="pln">url</span><span class="pun">).</span><span class="pln">pipe</span><span class="pun">(</span><span class="pln">
      tap</span><span class="pun">(</span><span class="pln">_ </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">`fetched hero id=${id}`</span><span class="pun">)),</span><span class="pln">
      catchError</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleError</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">&gt;(</span><span class="str">`getHero id=${id}`</span><span class="pun">))</span><span class="pln">
    </span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="com">/* GET heroes whose name contains search term */</span><span class="pln">
  searchHeroes</span><span class="pun">(</span><span class="pln">term</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">):</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">[]&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">term</span><span class="pun">.</span><span class="pln">trim</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
      </span><span class="com">// if not search term, return empty hero array.</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> of</span><span class="pun">([]);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">http</span><span class="pun">.</span><span class="kwd">get</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">[]&gt;(</span><span class="str">`${this.heroesUrl}/?name=${term}`</span><span class="pun">).</span><span class="pln">pipe</span><span class="pun">(</span><span class="pln">
      tap</span><span class="pun">(</span><span class="pln">x </span><span class="pun">=&gt;</span><span class="pln"> x</span><span class="pun">.</span><span class="pln">length </span><span class="pun">?</span><span class="pln">
         </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">`found heroes matching "${term}"`</span><span class="pun">)</span><span class="pln"> </span><span class="pun">:</span><span class="pln">
         </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">`no heroes matching "${term}"`</span><span class="pun">)),</span><span class="pln">
      catchError</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleError</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">[]&gt;(</span><span class="str">'searchHeroes'</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[]))</span><span class="pln">
    </span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="com">//////// Save methods //////////</span><span class="pln">

  </span><span class="com">/** POST: add a new hero to the server */</span><span class="pln">
  addHero</span><span class="pun">(</span><span class="pln">hero</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Hero</span><span class="pun">):</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">http</span><span class="pun">.</span><span class="pln">post</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">&gt;(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">heroesUrl</span><span class="pun">,</span><span class="pln"> hero</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">httpOptions</span><span class="pun">).</span><span class="pln">pipe</span><span class="pun">(</span><span class="pln">
      tap</span><span class="pun">((</span><span class="pln">newHero</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Hero</span><span class="pun">)</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">`added hero w/ id=${newHero.id}`</span><span class="pun">)),</span><span class="pln">
      catchError</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleError</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">&gt;(</span><span class="str">'addHero'</span><span class="pun">))</span><span class="pln">
    </span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="com">/** DELETE: delete the hero from the server */</span><span class="pln">
  deleteHero</span><span class="pun">(</span><span class="pln">hero</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Hero</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> </span><a href="api/common/DecimalPipe" class="code-anchor"><span class="pln">number</span></a><span class="pun">):</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> id </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">typeof</span><span class="pln"> hero </span><span class="pun">===</span><span class="pln"> </span><span class="str">'number'</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> hero </span><span class="pun">:</span><span class="pln"> hero</span><span class="pun">.</span><span class="pln">id</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">const</span><span class="pln"> url </span><span class="pun">=</span><span class="pln"> </span><span class="str">`${this.heroesUrl}/${id}`</span><span class="pun">;</span><span class="pln">

    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">http</span><span class="pun">.</span><span class="kwd">delete</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">&gt;(</span><span class="pln">url</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">httpOptions</span><span class="pun">).</span><span class="pln">pipe</span><span class="pun">(</span><span class="pln">
      tap</span><span class="pun">(</span><span class="pln">_ </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">`deleted hero id=${id}`</span><span class="pun">)),</span><span class="pln">
      catchError</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleError</span><span class="pun">&lt;</span><span class="typ">Hero</span><span class="pun">&gt;(</span><span class="str">'deleteHero'</span><span class="pun">))</span><span class="pln">
    </span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="com">/** PUT: update the hero on the server */</span><span class="pln">
  updateHero</span><span class="pun">(</span><span class="pln">hero</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Hero</span><span class="pun">):</span><span class="pln"> </span><span class="typ">Observable</span><span class="str">&lt;any&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">http</span><span class="pun">.</span><span class="pln">put</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">heroesUrl</span><span class="pun">,</span><span class="pln"> hero</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">httpOptions</span><span class="pun">).</span><span class="pln">pipe</span><span class="pun">(</span><span class="pln">
      tap</span><span class="pun">(</span><span class="pln">_ </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">`updated hero id=${hero.id}`</span><span class="pun">)),</span><span class="pln">
      catchError</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">handleError</span><span class="str">&lt;any&gt;</span><span class="pun">(</span><span class="str">'updateHero'</span><span class="pun">))</span><span class="pln">
    </span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="com">/**
   * Handle Http operation that failed.
   * Let the app continue.
   * @param operation - name of the operation that failed
   * @param result - optional value to return as the observable result
   */</span><span class="pln">
  </span><span class="kwd">private</span><span class="pln"> handleError</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">&gt;(</span><span class="pln">operation </span><span class="pun">=</span><span class="pln"> </span><span class="str">'operation'</span><span class="pun">,</span><span class="pln"> result</span><span class="pun">?:</span><span class="pln"> T</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">(</span><span class="pln">error</span><span class="pun">:</span><span class="pln"> any</span><span class="pun">):</span><span class="pln"> </span><span class="typ">Observable</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

      </span><span class="com">// TODO: send the error to remote logging infrastructure</span><span class="pln">
      console</span><span class="pun">.</span><span class="pln">error</span><span class="pun">(</span><span class="pln">error</span><span class="pun">);</span><span class="pln"> </span><span class="com">// log to console instead</span><span class="pln">

      </span><span class="com">// TODO: better job of transforming error for user consumption</span><span class="pln">
      </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">`${operation} failed: ${error.message}`</span><span class="pun">);</span><span class="pln">

      </span><span class="com">// Let the app keep running by returning an empty result.</span><span class="pln">
      </span><span class="kwd">return</span><span class="pln"> of</span><span class="pun">(</span><span class="pln">result </span><span class="kwd">as</span><span class="pln"> T</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">};</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">

  </span><span class="com">/** Log a HeroService message with the MessageService */</span><span class="pln">
  </span><span class="kwd">private</span><span class="pln"> log</span><span class="pun">(</span><span class="pln">message</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">messageService</span><span class="pun">.</span><span class="kwd">add</span><span class="pun">(</span><span class="str">`HeroService: ${message}`</span><span class="pun">);</span><span class="pln">
  </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code>
    </pre></aio-code></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c50-3 ng-star-inserted" id="mat-tab-content-0-1" aria-labelledby="mat-tab-label-0-1"><div class="mat-tab-body-content ng-tns-c50-3 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c50-4 ng-star-inserted" id="mat-tab-content-0-2" aria-labelledby="mat-tab-label-0-2"><div class="mat-tab-body-content ng-tns-c50-4 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body></div></mat-tab-group></mat-card></code-tabs><a id="heroescomponent"></a><h4 id="heroescomponent"><code>HeroesComponent</code><a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#heroescomponent"><i class="material-icons">link</i></a></h4><code-tabs ng-version="10.0.0-rc.2"><div style="display:none"><code-pane header="heroes/heroes.component.html" path="toh-pt6/src/app/heroes/heroes.component.html">&lt;h2&gt;My Heroes&lt;/h2&gt; &lt;div&gt; &lt;label&gt;Hero name: &lt;input #heroName /&gt; &lt;/label&gt; &lt;!-- (click) passes input value to add() and then clears the input --&gt; &lt;button (click)="add(heroName.value); heroName.value=''"&gt; add &lt;/button&gt; &lt;/div&gt; &lt;ul class="heroes"&gt; &lt;li *<a href="api/common/NgForOf" class="code-anchor">ngFor</a>="let hero of heroes"&gt; &lt;a <a href="api/router/RouterLink" class="code-anchor">routerLink</a>="/detail/{{hero.id}}"&gt; &lt;span class="badge"&gt;{{hero.id}}&lt;/span&gt; {{hero.name}} &lt;/a&gt; &lt;button class="delete" title="delete hero" (click)="delete(hero)"&gt;x&lt;/button&gt; &lt;/li&gt; &lt;/ul&gt;</code-pane><code-pane header="heroes/heroes.component.ts" path="toh-pt6/src/app/heroes/heroes.component.ts">import { <a href="api/core/Component" class="code-anchor">Component</a>, <a href="api/core/OnInit" class="code-anchor">OnInit</a> } from '@angular/core'; import { Hero } from '../hero'; import { HeroService } from '../hero.service'; @<a href="api/core/Component" class="code-anchor">Component</a>({ selector: 'app-heroes', templateUrl: './heroes.component.html', styleUrls: ['./heroes.component.css'] }) export class HeroesComponent implements <a href="api/core/OnInit" class="code-anchor">OnInit</a> { heroes: Hero[]; constructor(private heroService: HeroService) { } ngOnInit() { this.getHeroes(); } getHeroes(): void { this.heroService.getHeroes() .subscribe(heroes =&gt; this.heroes = heroes); } add(name: string): void { name = name.trim(); if (!name) { return; } this.heroService.addHero({ name } as Hero) .subscribe(hero =&gt; { this.heroes.push(hero); }); } delete(hero: Hero): void { this.heroes = this.heroes.filter(h =&gt; h !== hero); this.heroService.deleteHero(hero).subscribe(); } }</code-pane><code-pane header="heroes/heroes.component.css" path="toh-pt6/src/app/heroes/heroes.component.css">/* HeroesComponent's private CSS styles */ .heroes { margin: 0 0 2em 0; list-style-type: none; padding: 0; width: 15em; } .heroes li { position: relative; cursor: pointer; background-color: #EEE; margin: .5em; padding: .3em 0; height: 1.6em; border-radius: 4px; } .heroes li:hover { color: #607D8B; background-color: #DDD; left: .1em; } .heroes a { color: #333; text-decoration: none; position: relative; display: block; width: 250px; } .heroes a:hover { color: #607D8B; } .heroes .badge { display: inline-block; font-size: small; color: white; padding: 0.8em 0.7em 0 0.7em; background-color: #405061; line-height: 1em; position: relative; left: -1px; top: -4px; height: 1.8em; min-width: 16px; text-align: right; margin-right: .8em; border-radius: 4px 0 0 4px; } button { background-color: #eee; border: none; padding: 5px 10px; border-radius: 4px; cursor: pointer; cursor: hand; font-family: Arial; } button:hover { background-color: #cfd8dc; } button.delete { position: relative; left: 194px; top: -32px; background-color: gray !important; color: white; }</code-pane></div><mat-card class="mat-card mat-focus-indicator"><mat-tab-group class="mat-tab-group code-tab-group mat-primary"><mat-tab-header class="mat-tab-header"><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div><div class="mat-tab-label-container"><div role="tablist" class="mat-tab-list" style="transform:translateX(0)"><div class="mat-tab-labels"><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator mat-tab-label-active ng-star-inserted" id="mat-tab-label-1-0" tabindex="0" aria-posinset="1" aria-setsize="3" aria-controls="mat-tab-content-1-0" aria-selected="true" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">heroes/heroes.component.html</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-1-1" tabindex="-1" aria-posinset="2" aria-setsize="3" aria-controls="mat-tab-content-1-1" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">heroes/heroes.component.ts</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-1-2" tabindex="-1" aria-posinset="3" aria-setsize="3" aria-controls="mat-tab-content-1-2" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">heroes/heroes.component.css</span></div></div></div><mat-ink-bar class="mat-ink-bar" style="visibility:visible;left:0;width:251px"></mat-ink-bar></div></div><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div></mat-tab-header><div class="mat-tab-body-wrapper"><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c50-5 mat-tab-body-active ng-star-inserted" id="mat-tab-content-1-0" aria-labelledby="mat-tab-label-1-0"><div class="mat-tab-body-content ng-tns-c50-5 ng-trigger ng-trigger-translateTab" style="transform:none"><aio-code class="ng-star-inserted" style=""><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from heroes/heroes.component.html">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="tag">&lt;h2&gt;</span><span class="pln">My Heroes</span><span class="tag">&lt;/h2&gt;</span><span class="pln">

</span><span class="tag">&lt;div&gt;</span><span class="pln">
  </span><span class="tag">&lt;label&gt;</span><span class="pln">Hero name:
    </span><span class="tag">&lt;input</span><span class="pln"> #</span><span class="atn">heroName</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
  </span><span class="tag">&lt;/label&gt;</span><span class="pln">
  </span><span class="com">&lt;!-- (click) passes input value to add() and then clears the input --&gt;</span><span class="pln">
  </span><span class="tag">&lt;button</span><span class="pln"> (</span><span class="atn">click</span><span class="pln">)</span><span class="pun">=</span><span class="atv">"add(heroName.value); heroName.value=''"</span><span class="tag">&gt;</span><span class="pln">
    add
  </span><span class="tag">&lt;/button&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span><span class="pln">

</span><span class="tag">&lt;ul</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"heroes"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;li</span><span class="pln"> *</span><a href="api/common/NgForOf" class="code-anchor"><span class="atn">ngFor</span></a><span class="pun">=</span><span class="atv">"let hero of heroes"</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="api/router/RouterLink" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/detail/{{hero.id}}"</span><span class="tag">&gt;</span><span class="pln">
      </span><span class="tag">&lt;span</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"badge"</span><span class="tag">&gt;</span><span class="pln">{{hero.id}}</span><span class="tag">&lt;/span&gt;</span><span class="pln"> {{hero.name}}
    </span><span class="tag">&lt;/a&gt;</span><span class="pln">
    </span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"delete"</span><span class="pln"> </span><span class="atn">title</span><span class="pun">=</span><span class="atv">"delete hero"</span><span class="pln">
      (</span><span class="atn">click</span><span class="pln">)</span><span class="pun">=</span><span class="atv">"delete(hero)"</span><span class="tag">&gt;</span><span class="pln">x</span><span class="tag">&lt;/button&gt;</span><span class="pln">
  </span><span class="tag">&lt;/li&gt;</span><span class="pln">
</span><span class="tag">&lt;/ul&gt;</span></code>
    </pre></aio-code></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c50-6 ng-star-inserted" id="mat-tab-content-1-1" aria-labelledby="mat-tab-label-1-1"><div class="mat-tab-body-content ng-tns-c50-6 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c50-7 ng-star-inserted" id="mat-tab-content-1-2" aria-labelledby="mat-tab-label-1-2"><div class="mat-tab-body-content ng-tns-c50-7 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body></div></mat-tab-group></mat-card></code-tabs><a id="herodetailcomponent"></a><h4 id="herodetailcomponent"><code>HeroDetailComponent</code><a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#herodetailcomponent"><i class="material-icons">link</i></a></h4><code-tabs ng-version="10.0.0-rc.2"><div style="display:none"><code-pane header="hero-detail/hero-detail.component.html" path="toh-pt6/src/app/hero-detail/hero-detail.component.html">&lt;div *<a href="api/common/NgIf" class="code-anchor">ngIf</a>="hero"&gt; &lt;h2&gt;{{hero.name | <a href="api/common/UpperCasePipe" class="code-anchor">uppercase</a>}} Details&lt;/h2&gt; &lt;div&gt;&lt;span&gt;id: &lt;/span&gt;{{hero.id}}&lt;/div&gt; &lt;div&gt; &lt;label&gt;name: &lt;input [(<a href="api/forms/NgModel" class="code-anchor">ngModel</a>)]="hero.name" placeholder="name"/&gt; &lt;/label&gt; &lt;/div&gt; &lt;button (click)="goBack()"&gt;go back&lt;/button&gt; &lt;button (click)="save()"&gt;save&lt;/button&gt; &lt;/div&gt;</code-pane><code-pane header="hero-detail/hero-detail.component.ts" path="toh-pt6/src/app/hero-detail/hero-detail.component.ts">import { <a href="api/core/Component" class="code-anchor">Component</a>, <a href="api/core/OnInit" class="code-anchor">OnInit</a>, <a href="api/core/Input" class="code-anchor">Input</a> } from '@angular/core'; import { <a href="api/router/ActivatedRoute" class="code-anchor">ActivatedRoute</a> } from '@angular/router'; import { <a href="api/common/Location" class="code-anchor">Location</a> } from '@angular/common'; import { Hero } from '../hero'; import { HeroService } from '../hero.service'; @<a href="api/core/Component" class="code-anchor">Component</a>({ selector: 'app-hero-detail', templateUrl: './hero-detail.component.html', styleUrls: [ './hero-detail.component.css' ] }) export class HeroDetailComponent implements <a href="api/core/OnInit" class="code-anchor">OnInit</a> { @<a href="api/core/Input" class="code-anchor">Input</a>() hero: Hero; constructor( private route: <a href="api/router/ActivatedRoute" class="code-anchor">ActivatedRoute</a>, private heroService: HeroService, private location: <a href="api/common/Location" class="code-anchor">Location</a> ) {} ngOnInit(): void { this.getHero(); } getHero(): void { const id = +this.route.snapshot.paramMap.get('id'); this.heroService.getHero(id) .subscribe(hero =&gt; this.hero = hero); } goBack(): void { this.location.back(); } save(): void { this.heroService.updateHero(this.hero) .subscribe(() =&gt; this.goBack()); } }</code-pane></div><mat-card class="mat-card mat-focus-indicator"><mat-tab-group class="mat-tab-group code-tab-group mat-primary"><mat-tab-header class="mat-tab-header"><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div><div class="mat-tab-label-container"><div role="tablist" class="mat-tab-list" style="transform:translateX(0)"><div class="mat-tab-labels"><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator mat-tab-label-active ng-star-inserted" id="mat-tab-label-2-0" tabindex="0" aria-posinset="1" aria-setsize="2" aria-controls="mat-tab-content-2-0" aria-selected="true" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">hero-detail/hero-detail.component.html</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-2-1" tabindex="-1" aria-posinset="2" aria-setsize="2" aria-controls="mat-tab-content-2-1" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">hero-detail/hero-detail.component.ts</span></div></div></div><mat-ink-bar class="mat-ink-bar" style="visibility:visible;left:0;width:305px"></mat-ink-bar></div></div><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div></mat-tab-header><div class="mat-tab-body-wrapper"><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c50-8 mat-tab-body-active ng-star-inserted" id="mat-tab-content-2-0" aria-labelledby="mat-tab-label-2-0"><div class="mat-tab-body-content ng-tns-c50-8 ng-trigger ng-trigger-translateTab" style="transform:none"><aio-code class="ng-star-inserted" style=""><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from hero-detail/hero-detail.component.html">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="tag">&lt;div</span><span class="pln"> *</span><a href="api/common/NgIf" class="code-anchor"><span class="atn">ngIf</span></a><span class="pun">=</span><span class="atv">"hero"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;h2&gt;</span><span class="pln">{{hero.name | </span><a href="api/common/UpperCasePipe" class="code-anchor"><span class="pln">uppercase</span></a><span class="pln">}} Details</span><span class="tag">&lt;/h2&gt;</span><span class="pln">
  </span><span class="tag">&lt;div&gt;&lt;span&gt;</span><span class="pln">id: </span><span class="tag">&lt;/span&gt;</span><span class="pln">{{hero.id}}</span><span class="tag">&lt;/div&gt;</span><span class="pln">
  </span><span class="tag">&lt;div&gt;</span><span class="pln">
    </span><span class="tag">&lt;label&gt;</span><span class="pln">name:
      </span><span class="tag">&lt;input</span><span class="pln"> [(</span><a href="api/forms/NgModel" class="code-anchor"><span class="atn">ngModel</span></a><span class="pln">)]</span><span class="pun">=</span><span class="atv">"hero.name"</span><span class="pln"> </span><span class="atn">placeholder</span><span class="pun">=</span><span class="atv">"name"</span><span class="tag">/&gt;</span><span class="pln">
    </span><span class="tag">&lt;/label&gt;</span><span class="pln">
  </span><span class="tag">&lt;/div&gt;</span><span class="pln">
  </span><span class="tag">&lt;button</span><span class="pln"> (</span><span class="atn">click</span><span class="pln">)</span><span class="pun">=</span><span class="atv">"goBack()"</span><span class="tag">&gt;</span><span class="pln">go back</span><span class="tag">&lt;/button&gt;</span><span class="pln">
  </span><span class="tag">&lt;button</span><span class="pln"> (</span><span class="atn">click</span><span class="pln">)</span><span class="pun">=</span><span class="atv">"save()"</span><span class="tag">&gt;</span><span class="pln">save</span><span class="tag">&lt;/button&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code>
    </pre></aio-code></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c50-9 ng-star-inserted" id="mat-tab-content-2-1" aria-labelledby="mat-tab-label-2-1"><div class="mat-tab-body-content ng-tns-c50-9 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body></div></mat-tab-group></mat-card></code-tabs><a id="dashboardcomponent"></a><h4 id="dashboardcomponent"><code>DashboardComponent</code><a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#dashboardcomponent"><i class="material-icons">link</i></a></h4><code-tabs ng-version="10.0.0-rc.2"><div style="display:none"><code-pane header="src/app/dashboard/dashboard.component.html" path="toh-pt6/src/app/dashboard/dashboard.component.html">&lt;h3&gt;Top Heroes&lt;/h3&gt; &lt;div class="grid grid-pad"&gt; &lt;a *<a href="api/common/NgForOf" class="code-anchor">ngFor</a>="let hero of heroes" class="col-1-4" <a href="api/router/RouterLink" class="code-anchor">routerLink</a>="/detail/{{hero.id}}"&gt; &lt;div class="module hero"&gt; &lt;h4&gt;{{hero.name}}&lt;/h4&gt; &lt;/div&gt; &lt;/a&gt; &lt;/div&gt; &lt;app-hero-search&gt;&lt;/app-hero-search&gt;</code-pane></div><mat-card class="mat-card mat-focus-indicator"><mat-tab-group class="mat-tab-group code-tab-group mat-primary"><mat-tab-header class="mat-tab-header"><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div><div class="mat-tab-label-container"><div role="tablist" class="mat-tab-list" style="transform:translateX(0)"><div class="mat-tab-labels"><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator mat-tab-label-active ng-star-inserted" id="mat-tab-label-3-0" tabindex="0" aria-posinset="1" aria-setsize="1" aria-controls="mat-tab-content-3-0" aria-selected="true" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">src/app/dashboard/dashboard.component.html</span></div></div></div><mat-ink-bar class="mat-ink-bar" style="visibility:visible;left:0;width:354px"></mat-ink-bar></div></div><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div></mat-tab-header><div class="mat-tab-body-wrapper"><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c50-10 mat-tab-body-active ng-star-inserted" id="mat-tab-content-3-0" aria-labelledby="mat-tab-label-3-0"><div class="mat-tab-body-content ng-tns-c50-10 ng-trigger ng-trigger-translateTab" style="transform:none"><aio-code class="ng-star-inserted" style=""><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from src/app/dashboard/dashboard.component.html">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="tag">&lt;h3&gt;</span><span class="pln">Top Heroes</span><span class="tag">&lt;/h3&gt;</span><span class="pln">
</span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"grid grid-pad"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;a</span><span class="pln"> *</span><a href="api/common/NgForOf" class="code-anchor"><span class="atn">ngFor</span></a><span class="pun">=</span><span class="atv">"let hero of heroes"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"col-1-4"</span><span class="pln">
      </span><a href="api/router/RouterLink" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/detail/{{hero.id}}"</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"module hero"</span><span class="tag">&gt;</span><span class="pln">
      </span><span class="tag">&lt;h4&gt;</span><span class="pln">{{hero.name}}</span><span class="tag">&lt;/h4&gt;</span><span class="pln">
    </span><span class="tag">&lt;/div&gt;</span><span class="pln">
  </span><span class="tag">&lt;/a&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span><span class="pln">

</span><span class="tag">&lt;app-hero-search&gt;&lt;/app-hero-search&gt;</span></code>
    </pre></aio-code></div></mat-tab-body></div></mat-tab-group></mat-card></code-tabs><a id="herosearchcomponent"></a><h4 id="herosearchcomponent"><code>HeroSearchComponent</code><a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#herosearchcomponent"><i class="material-icons">link</i></a></h4><code-tabs ng-version="10.0.0-rc.2"><div style="display:none"><code-pane header="hero-search/hero-search.component.html" path="toh-pt6/src/app/hero-search/hero-search.component.html">&lt;div id="search-component"&gt; &lt;h4&gt;&lt;label for="search-box"&gt;Hero Search&lt;/label&gt;&lt;/h4&gt; &lt;input #searchBox id="search-box" (input)="search(searchBox.value)" /&gt; &lt;ul class="search-result"&gt; &lt;li *<a href="api/common/NgForOf" class="code-anchor">ngFor</a>="let hero of heroes$ | <a href="api/core/testing/async" class="code-anchor">async</a>" &gt; &lt;a <a href="api/router/RouterLink" class="code-anchor">routerLink</a>="/detail/{{hero.id}}"&gt; {{hero.name}} &lt;/a&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt;</code-pane><code-pane header="hero-search/hero-search.component.ts" path="toh-pt6/src/app/hero-search/hero-search.component.ts">import { <a href="api/core/Component" class="code-anchor">Component</a>, <a href="api/core/OnInit" class="code-anchor">OnInit</a> } from '@angular/core'; import { Observable, Subject } from 'rxjs'; import { debounceTime, distinctUntilChanged, switchMap } from 'rxjs/operators'; import { Hero } from '../hero'; import { HeroService } from '../hero.service'; @<a href="api/core/Component" class="code-anchor">Component</a>({ selector: 'app-hero-search', templateUrl: './hero-search.component.html', styleUrls: [ './hero-search.component.css' ] }) export class HeroSearchComponent implements <a href="api/core/OnInit" class="code-anchor">OnInit</a> { heroes$: Observable&lt;Hero[]&gt;; private searchTerms = new Subject&lt;string&gt;(); constructor(private heroService: HeroService) {} // Push a search term into the observable stream. search(term: string): void { this.searchTerms.next(term); } ngOnInit(): void { this.heroes$ = this.searchTerms.pipe( // wait 300ms after each keystroke before considering the term debounceTime(300), // ignore new term if same as previous term distinctUntilChanged(), // switch to new search observable each time the term changes switchMap((term: string) =&gt; this.heroService.searchHeroes(term)), ); } }</code-pane><code-pane header="hero-search/hero-search.component.css" path="toh-pt6/src/app/hero-search/hero-search.component.css">/* HeroSearch private styles */ .search-result li { border-bottom: 1px solid gray; border-left: 1px solid gray; border-right: 1px solid gray; width: 195px; height: 16px; padding: 5px; background-color: white; cursor: pointer; list-style-type: none; } .search-result li:hover { background-color: #607D8B; } .search-result li a { color: #888; display: block; text-decoration: none; } .search-result li a:hover { color: white; } .search-result li a:active { color: white; } #search-box { width: 200px; height: 20px; } ul.search-result { margin-top: 0; padding-left: 0; }</code-pane></div><mat-card class="mat-card mat-focus-indicator"><mat-tab-group class="mat-tab-group code-tab-group mat-primary"><mat-tab-header class="mat-tab-header mat-tab-header-pagination-controls-enabled"><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4 mat-tab-header-pagination-disabled"><div class="mat-tab-header-pagination-chevron"></div></div><div class="mat-tab-label-container"><div role="tablist" class="mat-tab-list" style="transform:translateX(0)"><div class="mat-tab-labels"><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator mat-tab-label-active ng-star-inserted" id="mat-tab-label-4-0" tabindex="0" aria-posinset="1" aria-setsize="3" aria-controls="mat-tab-content-4-0" aria-selected="true" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">hero-search/hero-search.component.html</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-4-1" tabindex="-1" aria-posinset="2" aria-setsize="3" aria-controls="mat-tab-content-4-1" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">hero-search/hero-search.component.ts</span></div></div><div role="tab" mattablabelwrapper="" mat-ripple="" cdkmonitorelementfocus="" class="mat-ripple mat-tab-label mat-focus-indicator ng-star-inserted" id="mat-tab-label-4-2" tabindex="-1" aria-posinset="3" aria-setsize="3" aria-controls="mat-tab-content-4-2" aria-selected="false" aria-disabled="false"><div class="mat-tab-label-content"><span class="ng-star-inserted">hero-search/hero-search.component.css</span></div></div></div><mat-ink-bar class="mat-ink-bar" style="visibility:visible;left:0;width:317px"></mat-ink-bar></div></div><div aria-hidden="true" mat-ripple="" class="mat-ripple mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4"><div class="mat-tab-header-pagination-chevron"></div></div></mat-tab-header><div class="mat-tab-body-wrapper"><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c50-11 mat-tab-body-active ng-star-inserted" id="mat-tab-content-4-0" aria-labelledby="mat-tab-label-4-0"><div class="mat-tab-body-content ng-tns-c50-11 ng-trigger ng-trigger-translateTab" style="transform:none"><aio-code class="ng-star-inserted" style=""><pre class="lang- prettyprint">      <button title="Copy code snippet" class="material-icons copy-button no-print ng-star-inserted" aria-label="Copy code snippet from hero-search/hero-search.component.html">
        <span aria-hidden="true">content_copy</span>
      </button>
      <code class="animated fadeIn"><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">"search-component"</span><span class="tag">&gt;</span><span class="pln">
  </span><span class="tag">&lt;h4&gt;&lt;label</span><span class="pln"> </span><span class="atn">for</span><span class="pun">=</span><span class="atv">"search-box"</span><span class="tag">&gt;</span><span class="pln">Hero Search</span><span class="tag">&lt;/label&gt;&lt;/h4&gt;</span><span class="pln">

  </span><span class="tag">&lt;input</span><span class="pln"> #</span><span class="atn">searchBox</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">"search-box"</span><span class="pln"> (</span><span class="atn">input</span><span class="pln">)</span><span class="pun">=</span><span class="atv">"search(searchBox.value)"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">

  </span><span class="tag">&lt;ul</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"search-result"</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;li</span><span class="pln"> *</span><a href="api/common/NgForOf" class="code-anchor"><span class="atn">ngFor</span></a><span class="pun">=</span><span class="atv">"let hero of heroes$ | </span><a href="api/core/testing/async" class="code-anchor"><span class="atv">async</span></a><span class="atv">"</span><span class="pln"> </span><span class="tag">&gt;</span><span class="pln">
      </span><span class="tag">&lt;a</span><span class="pln"> </span><a href="api/router/RouterLink" class="code-anchor"><span class="atn">routerLink</span></a><span class="pun">=</span><span class="atv">"/detail/{{hero.id}}"</span><span class="tag">&gt;</span><span class="pln">
        {{hero.name}}
      </span><span class="tag">&lt;/a&gt;</span><span class="pln">
    </span><span class="tag">&lt;/li&gt;</span><span class="pln">
  </span><span class="tag">&lt;/ul&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code>
    </pre></aio-code></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c50-12 ng-star-inserted" id="mat-tab-content-4-1" aria-labelledby="mat-tab-label-4-1"><div class="mat-tab-body-content ng-tns-c50-12 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body><mat-tab-body role="tabpanel" class="mat-tab-body ng-tns-c50-13 ng-star-inserted" id="mat-tab-content-4-2" aria-labelledby="mat-tab-label-4-2"><div class="mat-tab-body-content ng-tns-c50-13 ng-trigger ng-trigger-translateTab" style="transform:translate3d(100%,0,0);min-height:1px"></div></mat-tab-body></div></mat-tab-group></mat-card></code-tabs><h2 id="summary" translation-result="on">小结<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#summary"><i class="material-icons">link</i></a></h2><h2 translation-origin="off" id="summary">Summary<a title="Link to this heading" class="header-link" aria-hidden="true" href="tutorial/toh-pt6#summary"><i class="material-icons">link</i></a></h2><p translation-result="on">旅程即将结束，不过你已经收获颇丰。</p><p translation-origin="off">You're at the end of your journey, and you've accomplished a lot.</p><ul><li><p translation-result="on">你添加了在应用程序中使用 HTTP 的必备依赖。</p><p translation-origin="off">You added the necessary dependencies to use HTTP in the app.</p></li><li><p translation-result="on">你重构了 <code>HeroService</code>，以通过 web API 来加载英雄数据。</p><p translation-origin="off">You refactored <code>HeroService</code> to load heroes from a web API.</p></li><li><p translation-result="on">你扩展了 <code>HeroService</code> 来支持 <code>post()</code>、<code>put()</code> 和 <code>delete()</code> 方法。</p><p translation-origin="off">You extended <code>HeroService</code> to support <code>post()</code>, <code>put()</code>, and <code>delete()</code> methods.</p></li><li><p translation-result="on">你修改了组件，以允许用户添加、编辑和删除英雄。</p><p translation-origin="off">You updated the components to allow adding, editing, and deleting of heroes.</p></li><li><p translation-result="on">你配置了一个内存 Web API。</p><p translation-origin="off">You configured an in-memory web API.</p></li><li><p translation-result="on">你学会了如何使用“可观察对象”。</p><p translation-origin="off">You learned how to use observables.</p></li></ul><p translation-result="on">《英雄指南》教程结束了。 如果你准备开始学习 Angular 开发的原理，请开始 <a href="guide/architecture" title="Architecture">架构</a> 一章。</p><p translation-origin="off">This concludes the "Tour of Heroes" tutorial. You're ready to learn more about Angular development in the fundamentals section, starting with the <a href="guide/architecture" title="Architecture">Architecture</a> guide.</p></div></div></aio-doc-viewer></main></mat-sidenav-content></mat-sidenav-container><div class="toc-container no-print ng-star-inserted"><aio-lazy-ce selector="aio-toc"><aio-toc ng-version="10.0.0-rc.2"><div class="toc-inner no-print collapsed ng-star-inserted"><ul class="toc-list"><li class="h1 ng-star-inserted active" title="从服务端获取数据"><a href="tutorial/toh-pt6#get-data-from-a-server">从服务端获取数据</a></li><li class="h2 ng-star-inserted" title="启用 HTTP 服务"><a href="tutorial/toh-pt6#enable-http-services">启用 HTTP 服务</a></li><li class="h2 ng-star-inserted" title="模拟数据服务器"><a href="tutorial/toh-pt6#simulate-a-data-server">模拟数据服务器</a></li><li class="h2 ng-star-inserted" title="英雄与 HTTP"><a href="tutorial/toh-pt6#heroes-and-http">英雄与 HTTP</a></li><li class="h3 ng-star-inserted" title="通过 HttpClient 获取英雄"><a href="tutorial/toh-pt6#get-heroes-with-httpclient">通过 <code>HttpClient</code> 获取英雄</a></li><li class="h3 ng-star-inserted" title="HttpClient 的方法返回单个值"><a href="tutorial/toh-pt6#httpclient-methods-return-one-value"><code>HttpClient</code> 的方法返回单个值</a></li><li class="h3 ng-star-inserted" title="HttpClient.get() 返回响应数据"><a href="tutorial/toh-pt6#httpclientget-returns-response-data"><code>HttpClient.get()</code> 返回响应数据</a></li><li class="h3 ng-star-inserted" title="错误处理"><a href="tutorial/toh-pt6#error-handling">错误处理</a></li><li class="h3 ng-star-inserted" title="窥探 Observable"><a href="tutorial/toh-pt6#tap-into-the-observable">窥探 <code>Observable</code></a></li><li class="h3 ng-star-inserted" title="通过 id 获取英雄"><a href="tutorial/toh-pt6#get-hero-by-id">通过 id 获取英雄</a></li><li class="h2 ng-star-inserted" title="修改英雄"><a href="tutorial/toh-pt6#update-heroes">修改英雄</a></li><li class="h2 ng-star-inserted" title="添加新英雄"><a href="tutorial/toh-pt6#add-a-new-hero">添加新英雄</a></li><li class="h2 ng-star-inserted" title="删除某个英雄"><a href="tutorial/toh-pt6#delete-a-hero">删除某个英雄</a></li><li class="h2 ng-star-inserted" title="根据名字搜索"><a href="tutorial/toh-pt6#search-by-name">根据名字搜索</a></li><li class="h3 ng-star-inserted" title="为仪表盘添加搜索功能"><a href="tutorial/toh-pt6#add-search-to-the-dashboard">为仪表盘添加搜索功能</a></li><li class="h3 ng-star-inserted" title="创建 HeroSearchComponent"><a href="tutorial/toh-pt6#create-herosearchcomponent">创建 <code>HeroSearchComponent</code></a></li><li class="h3 ng-star-inserted" title="AsyncPipe"><a href="tutorial/toh-pt6#asyncpipe"><code>AsyncPipe</code></a></li><li class="h3 ng-star-inserted" title="修正 HeroSearchComponent 类"><a href="tutorial/toh-pt6#edit-the-herosearchcomponent-class">修正 <code>HeroSearchComponent</code> 类</a></li><li class="h3 ng-star-inserted" title="RxJS Subject 类型的 searchTerms"><a href="tutorial/toh-pt6#the-searchterms-rxjs-subject">RxJS <code>Subject</code> 类型的 <code>searchTerms</code></a></li><li class="h3 ng-star-inserted" title="串联 RxJS 操作符"><a href="tutorial/toh-pt6#chaining-rxjs-operators">串联 RxJS 操作符</a></li><li class="h2 ng-star-inserted" title="查看最终代码"><a href="tutorial/toh-pt6#final-code-review">查看最终代码</a></li><li class="h2 ng-star-inserted" title="小结"><a href="tutorial/toh-pt6#summary">小结</a></li></ul></div></aio-toc></aio-lazy-ce></div><footer class="no-print"><aio-footer><div class="grid-fluid"><div class="footer-block ng-star-inserted"><h3>资源</h3><ul><li class="ng-star-inserted"><a class="link" href="about" title="Angular 贡献者。">关于</a></li><li class="ng-star-inserted"><a class="link" href="resources" title="网络上的 Angular 工具、培训、博客等">资源列表</a></li><li class="ng-star-inserted"><a class="link" href="presskit" title="我们的联系方式、LOGO 和品牌">宣传资料</a></li><li class="ng-star-inserted"><a class="link" href="https://blog.angular.io/" title="Angular 官方博客">博客</a></li><li class="ng-star-inserted"><a class="link" href="analytics" title="Angular 使用情况分析">使用情况分析</a></li></ul></div><div class="footer-block ng-star-inserted"><h3>帮助</h3><ul><li class="ng-star-inserted"><a class="link" href="https://stackoverflow.com/questions/tagged/angular" title="Stack Overflow: 这里的社区会回答你关于 Angular 的技术问题">Stack Overflow</a></li><li class="ng-star-inserted"><a class="link" href="https://gitter.im/angular/angular" title="和老鸟聊 Angular">Gitter</a></li><li class="ng-star-inserted"><a class="link" href="https://github.com/angular/angular/issues" title="在 github 上报告问题和建议。">报告问题</a></li><li class="ng-star-inserted"><a class="link" href="https://github.com/angular/code-of-conduct/blob/master/CODE_OF_CONDUCT.md" title="让我们彼此尊重">行为规范</a></li></ul></div><div class="footer-block ng-star-inserted"><h3>社区</h3><ul><li class="ng-star-inserted"><a class="link" href="events" title="Angular events around the world.">活动</a></li><li class="ng-star-inserted"><a class="link" href="http://www.meetup.com/topics/angularjs/" title="参加聚会，向别的开发人员学习">聚会</a></li><li class="ng-star-inserted"><a class="link" href="https://twitter.com/angular" title="Twitter">Twitter</a></li><li class="ng-star-inserted"><a class="link" href="https://github.com/angular/angular" title="GitHub">GitHub</a></li><li class="ng-star-inserted"><a class="link" href="contribute" title="向 Angular 做贡献">做贡献</a></li></ul></div><div class="footer-block ng-star-inserted"><h3>多语言</h3><ul><li class="ng-star-inserted"><a class="link" href="https://angular.io/" title="English Version.">English Version</a></li><li class="ng-star-inserted"><a class="link" href="https://angular.tw/" title="正體中文版">正體中文版</a></li><li class="ng-star-inserted"><a class="link" href="https://angular.jp/" title="日本語版">日本語版</a></li><li class="ng-star-inserted"><a class="link" href="https://angular.kr/" title="한국어">한국어</a></li></ul></div></div><p>Super-powered by Google ©2010-2020. 代码授权方式：<a href="license" title="License text">MIT-style License</a>. 文档授权方式：<a href="http://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>.</p><p>当前版本：10.0.0-build.140+sha.c1501f60.</p></aio-footer></footer><div class="cdk-visually-hidden ng-star-inserted"><mat-icon role="img" class="mat-icon notranslate material-icons mat-icon-no-color" aria-hidden="true">&nbsp;</mat-icon></div></aio-shell><noscript><div class="background-sky hero"></div><section id="intro" style="text-shadow:1px 1px #1976d2"><div class="hero-logo"><img src="assets/images/logos/angular/angular.svg" width="250" height="250" alt="Angular"></div><div class="homepage-container"><div class="hero-headline">一套框架，多种平台<br>移动 &amp; 桌面</div></div></section><h2 style="color:red;margin-top:40px;position:relative;text-align:center;text-shadow:1px 1px #fafafa"><b><i>该网站需要浏览器支持 JavaScript</i></b></h2></noscript><script src="runtime-es2015.fcd764ba8b27349cbf9b.js" type="module"></script><script src="runtime-es5.fcd764ba8b27349cbf9b.js" nomodule="" defer=""></script><script src="polyfills-es5.3da43dfa31f1cc176ea1.js" nomodule="" defer=""></script><script src="polyfills-es2015.ac110d314cf16f4d5df4.js" type="module"></script><script src="main-es2015.f39f5ebc8f80f8d1e43b.js" type="module"></script><script src="main-es5.f39f5ebc8f80f8d1e43b.js" nomodule="" defer=""></script><div class="cdk-live-announcer-element cdk-visually-hidden" aria-atomic="true" aria-live="polite"></div></body></html>