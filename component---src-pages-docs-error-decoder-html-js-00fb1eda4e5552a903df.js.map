{"version":3,"sources":["webpack:///./src/pages/docs/error-decoder.html.js","webpack:///./src/components/ErrorDecoder/index.js","webpack:///./src/components/ErrorDecoder/ErrorDecoder.js"],"names":["__webpack_require__","r","__webpack_exports__","Glamor","d","pageQuery","components_Container__WEBPACK_IMPORTED_MODULE_0__","components_ErrorDecoder__WEBPACK_IMPORTED_MODULE_1__","components_Flex__WEBPACK_IMPORTED_MODULE_2__","hex2rgba__WEBPACK_IMPORTED_MODULE_3__","hex2rgba__WEBPACK_IMPORTED_MODULE_3___default","n","components_MarkdownHeader__WEBPACK_IMPORTED_MODULE_4__","components_Layout__WEBPACK_IMPORTED_MODULE_6__","components_StickyResponsiveSidebar__WEBPACK_IMPORTED_MODULE_7__","components_TitleAndMetaTags__WEBPACK_IMPORTED_MODULE_8__","theme__WEBPACK_IMPORTED_MODULE_9__","utils_createLink__WEBPACK_IMPORTED_MODULE_10__","utils_findSectionForPath__WEBPACK_IMPORTED_MODULE_11__","utils_sectionList__WEBPACK_IMPORTED_MODULE_12__","ErrorPage","_ref","data","location","createElement","direction","grow","shrink","halign","css","width","flex","position","zIndex","sharedStyles","articleLayout","container","type","minHeight","path","markdownRemark","fields","title","frontmatter","content","markdown","dangerouslySetInnerHTML","__html","html","marginTop","& code","display","padding","borderRadius","backgroundColor","hex2rgba","colors","error","color","errorCodesString","errorCodesJson","internal","contentDigest","sidebar","createLink","createLinkDocs","defaultActiveSection","findSectionForPath","pathname","sectionListDocs","sectionList","_ErrorDecoder__WEBPACK_IMPORTED_MODULE_0__","ErrorDecoder","ErrorResult","props","code","errorMsg","msg","split","map","message","i","key","target","rel","href","errorCodes","JSON","parse","parseResult","search","rawQueryString","substring","args","queries","length","query","decodeURIComponent","indexOf","slice","push","parseQueryString","argList","argIdx","replace","arg","undefined","replaceArgs"],"mappings":"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","file":"component---src-pages-docs-error-decoder-html-js-00fb1eda4e5552a903df.js","sourcesContent":["/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * @emails react-core\n * @flow\n */\n\nimport Container from 'components/Container';\nimport ErrorDecoder from 'components/ErrorDecoder';\nimport Flex from 'components/Flex';\nimport hex2rgba from 'hex2rgba';\nimport MarkdownHeader from 'components/MarkdownHeader';\nimport React from 'react';\nimport {graphql} from 'gatsby';\nimport Layout from 'components/Layout';\nimport StickyResponsiveSidebar from 'components/StickyResponsiveSidebar';\nimport TitleAndMetaTags from 'components/TitleAndMetaTags';\nimport {colors, sharedStyles} from 'theme';\nimport {createLinkDocs} from 'utils/createLink';\nimport findSectionForPath from 'utils/findSectionForPath';\nimport {sectionListDocs} from 'utils/sectionList';\n\ntype Props = {\n  data: Object,\n  location: Location,\n};\n\nconst ErrorPage = ({data, location}: Props) => (\n  <Layout location={location}>\n    <Flex\n      direction=\"column\"\n      grow=\"1\"\n      shrink=\"0\"\n      halign=\"stretch\"\n      css={{\n        width: '100%',\n        flex: '1 0 auto',\n        position: 'relative',\n        zIndex: 0,\n      }}>\n      <Container>\n        <div css={sharedStyles.articleLayout.container}>\n          <Flex\n            type=\"article\"\n            direction=\"column\"\n            grow=\"1\"\n            halign=\"stretch\"\n            css={{\n              minHeight: 'calc(100vh - 40px)',\n            }}>\n            <MarkdownHeader\n              path={data.markdownRemark.fields.path}\n              title={data.markdownRemark.frontmatter.title}\n            />\n            <TitleAndMetaTags\n              title={`React - ${data.markdownRemark.frontmatter.title}`}\n            />\n\n            <div css={sharedStyles.articleLayout.content}>\n              <div\n                css={sharedStyles.markdown}\n                dangerouslySetInnerHTML={{__html: data.markdownRemark.html}}\n              />\n              <div\n                css={[\n                  sharedStyles.markdown,\n                  {\n                    marginTop: 30,\n                    '& code': {\n                      display: 'block',\n                      marginTop: 30,\n                      padding: '1rem',\n                      borderRadius: '0.5rem',\n                      backgroundColor: hex2rgba(colors.error, 0.1),\n                      color: colors.error,\n                    },\n                  },\n                ]}>\n                <ErrorDecoder\n                  errorCodesString={data.errorCodesJson.internal.contentDigest}\n                  location={location}\n                />\n              </div>\n            </div>\n          </Flex>\n\n          <div css={sharedStyles.articleLayout.sidebar}>\n            <StickyResponsiveSidebar\n              createLink={createLinkDocs}\n              defaultActiveSection={findSectionForPath(\n                location.pathname,\n                sectionListDocs,\n              )}\n              location={location}\n              sectionList={sectionListDocs}\n              title={data.markdownRemark.frontmatter.title}\n            />\n          </div>\n        </div>\n      </Container>\n    </Flex>\n  </Layout>\n);\n\nexport const pageQuery = graphql`\n  query ErrorPageMarkdown($slug: String!) {\n    markdownRemark(fields: {slug: {eq: $slug}}) {\n      html\n      fields {\n        path\n      }\n      frontmatter {\n        title\n      }\n    }\n    errorCodesJson {\n      internal {\n        contentDigest\n      }\n    }\n  }\n`;\n\nexport default ErrorPage;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * @emails react-core\n */\n\nimport ErrorDecoder from './ErrorDecoder';\n\nexport default ErrorDecoder;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * @emails react-core\n * @flow\n */\n\nimport React from 'react';\n\nimport type {Node} from 'react';\n\nfunction replaceArgs(msg: string, argList: Array<string>): string {\n  let argIdx = 0;\n  return msg.replace(/%s/g, function() {\n    const arg = argList[argIdx++];\n    return arg === undefined ? '[missing argument]' : arg;\n  });\n}\n\n// When the message contains a URL (like https://fb.me/react-refs-must-have-owner),\n// make it a clickable link.\nfunction urlify(str: string): Node {\n  const urlRegex = /(https:\\/\\/fb\\.me\\/[a-z\\-]+)/g;\n\n  const segments = str.split(urlRegex);\n\n  return segments.map((message, i) => {\n    if (i % 2 === 1) {\n      return (\n        <a key={i} target=\"_blank\" rel=\"noopener\" href={message}>\n          {message}\n        </a>\n      );\n    }\n    return message;\n  });\n}\n\n// `?invariant=123&args[]=foo&args[]=bar`\n// or `// ?invariant=123&args[0]=foo&args[1]=bar`\nfunction parseQueryString(\n  search: string,\n): ?{|code: string, args: Array<string>|} {\n  const rawQueryString = search.substring(1);\n  if (!rawQueryString) {\n    return null;\n  }\n\n  let code = '';\n  let args = [];\n\n  const queries = rawQueryString.split('&');\n  for (let i = 0; i < queries.length; i++) {\n    const query = decodeURIComponent(queries[i]);\n    if (query.indexOf('invariant=') === 0) {\n      code = query.slice(10);\n    } else if (query.indexOf('args[') === 0) {\n      args.push(query.slice(query.indexOf(']=') + 2));\n    }\n  }\n\n  return {args, code};\n}\n\nfunction ErrorResult(props: {|code: ?string, msg: string|}) {\n  const code = props.code;\n  const errorMsg = props.msg;\n\n  if (!code) {\n    return (\n      <p>\n        一旦遇到错误，你将收到指向此页面的特定错误的链接，我们会完整地显示错误内容。\n      </p>\n    );\n  }\n\n  return (\n    <div>\n      <p>\n        <b>刚刚遇到错误的完整内容为：</b>\n      </p>\n      <code>\n        <b>{urlify(errorMsg)}</b>\n      </code>\n    </div>\n  );\n}\n\nfunction ErrorDecoder(props: {|\n  errorCodesString: string,\n  location: {search: string},\n|}) {\n  let code = null;\n  let msg = '';\n\n  const errorCodes = JSON.parse(props.errorCodesString);\n  const parseResult = parseQueryString(props.location.search || '');\n  if (parseResult != null) {\n    code = parseResult.code;\n    msg = replaceArgs(errorCodes[code], parseResult.args);\n  }\n\n  return <ErrorResult code={code} msg={msg} />;\n}\n\nexport default ErrorDecoder;\n"],"sourceRoot":""}