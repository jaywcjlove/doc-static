{"componentChunkName":"component---src-templates-blog-js","path":"/blog/2018/09/10/introducing-the-react-profiler.html","result":{"data":{"markdownRemark":{"html":"<p>React 16.5 添加了对开发者工具的 Profiler 插件的支持。\n该插件使用了 React 的<a href=\"https://github.com/reactjs/rfcs/pull/51\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"> Profiler 实验性 API</a> 来收集所有组件渲染的耗时，目的是为了找出 React 应用程序的性能瓶颈。\n它将完全兼容我们即将推出的<a href=\"/blog/2018/03/01/sneak-peek-beyond-react-16.html\">时间片和 suspense</a> 特性。</p>\n<p>这篇博文包含以下内容：</p>\n<ul>\n<li><a href=\"#profiling-an-application\">分析应用程序</a></li>\n<li>\n<p><a href=\"#reading-performance-data\">查看性能数据</a></p>\n<ul>\n<li><a href=\"#browsing-commits\">浏览提交记录</a></li>\n<li><a href=\"#filtering-commits\">筛选提交记录</a></li>\n<li><a href=\"#flame-chart\">火焰图</a></li>\n<li><a href=\"#ranked-chart\">排序图</a></li>\n<li><a href=\"#component-chart\">组件图</a></li>\n<li><a href=\"#interactions\">交互动作</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#troubleshooting\">常见问题</a></p>\n<ul>\n<li><a href=\"#no-profiling-data-has-been-recorded-for-the-selected-root\">选择的根元素下没有分析数据被记录</a></li>\n<li><a href=\"#no-timing-data-to-display-for-the-selected-commit\">选中的提交记录没可展示的时间数据</a></li>\n</ul>\n</li>\n<li><a href=\"#deep-dive-video\">视频解析</a></li>\n</ul>\n<h2 id=\"profiling-an-application\"><a href=\"#profiling-an-application\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>分析应用程序 </h2>\n<p>开发者工具将会对支持新的分析 API 的应用程序添加一个“Profiler”选项卡：</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4da6b55fc3c98de04c261cd902c14dc3/ad997/devtools-profiler-tab.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 840px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 47.61904761904761%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAAB60lEQVQoz62RzW7TQBSFI8Srsekz1BJs2LDkLVjUKGSRxJay6AsgRJtCwwKJqiGNY4fSFhAqUdImkf/GcezxZHw9l5lpQXSBxIIjfTrjY+mTf2qDPXvr7XH34bA/2nbcsTEcjY0TxzMc95Px4ahvvN5/Y3QPDo2Xr/aMo+OB3r2xxPM0rutuSx45jvOgpvLty/l3uiaYXX7FTZYgcIqiLDSVPJcsQ9hkuquSyi1Hmq+RMaYpigJV5vO5q4W94dX5e2+F3YFfHowi6I1jeHeawKFHNL1xcof9YQRnPwgwmgOlFKSLK2GSJB+l7n5ttogvAp/hbBbA9TIRkzkT0yUVYVqKKKtEtIY7hJKsAIHid5QUCSEDLczW6YUa4utFFUwnOJkQvJqGSIIM+YYj54AbXsm+oSxBdonSqF/1D+GJFsZkpYWrZVKlYSyCgIo4osL3C7GKE5FEiTwzEYaFhIo0zgVnXIi/PWGepWdqSBeEp0EEflBAFDIIJSuyBimFwKdACINYkqUMoAQl+QW/Ffa18PNlOFFDSSvcyG+c5yj/ooQiMtmixH9KFEWnWrj12Hz67HnrhW1bO82WZbbbbbPVusFqt0zLkm3ZZlteq3uKZrNp1ut1s9FoKHZs2250Op0nWnibe/+B2u7ubu0n/Rxb5mrVIIgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"新的开发者工具“Profiler”选项卡\"\n        title=\"\"\n        src=\"/static/4da6b55fc3c98de04c261cd902c14dc3/1e088/devtools-profiler-tab.png\"\n        srcset=\"/static/4da6b55fc3c98de04c261cd902c14dc3/65ed1/devtools-profiler-tab.png 210w,\n/static/4da6b55fc3c98de04c261cd902c14dc3/d10fb/devtools-profiler-tab.png 420w,\n/static/4da6b55fc3c98de04c261cd902c14dc3/1e088/devtools-profiler-tab.png 840w,\n/static/4da6b55fc3c98de04c261cd902c14dc3/ad997/devtools-profiler-tab.png 1012w\"\n        sizes=\"(max-width: 840px) 100vw, 840px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<blockquote>\n<p>注意：</p>\n<p><code class=\"gatsby-code-text\">react-dom</code> 16.5+ 在 DEV 模式下支持性能分析。\n在生产环境也可以使用 <code class=\"gatsby-code-text\">react-dom/profiling</code> 代码包进行性能分析，\n查阅 <a href=\"https://fb.me/react-profiling\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">fb.me/react-profiling</a> 了解更多如何使用这个代码包。</p>\n</blockquote>\n<p>这个“Profiler”面板初始为空，你可以点击 record 按钮开始分析：</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/bae8d10e17f06eeb8c512c91c0153cff/ad997/start-profiling.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 840px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 47.61904761904761%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABdUlEQVQoz62QvU7DMBCAI8SrsfAMjQQzI+9RBthpq0ody9ABMTC0C0lKwo8KDEjt0GZomthJmx8S1+bukkbAiHrSp7OTu89na4+318f347sTe2w3DNPQDaPENE19OBzq/f6NPhgMIPf10WhE3+k/YBkPumPbDcdxTi3LOtIwPiYvnyxkaj53VRAEv/B9Xy2XS7VarZTnIR59Z4xBZsr1AsXDSGFMp1OHhLOn57cszZTP10Ucx+IvSZIQaZqK9XotNpuNkFKK7XYrCkSIHIVwuAG6Q40HwTsdoSQWSlwQ1fpngISoa0oEdnPOTRJGUURCrMdcFAUBI5RZCFX9rzMCYpWXtVQAz2CRMAzDWgjNEvaSeZ5ki4WEUyVcs55qNyWu8zyXcH2Jz1EJzZ1wUgnzLMtEAm+VcC5i1xVfsI+hAZqxqX47zNVVkbwSPpAQJpipPQQM9krCdrt93u12LzudThO4+AdN6L9qtVpnJKziYA9ovV5P+wavR2c66XZI3gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"点击“record”开始分析\"\n        title=\"\"\n        src=\"/static/bae8d10e17f06eeb8c512c91c0153cff/1e088/start-profiling.png\"\n        srcset=\"/static/bae8d10e17f06eeb8c512c91c0153cff/65ed1/start-profiling.png 210w,\n/static/bae8d10e17f06eeb8c512c91c0153cff/d10fb/start-profiling.png 420w,\n/static/bae8d10e17f06eeb8c512c91c0153cff/1e088/start-profiling.png 840w,\n/static/bae8d10e17f06eeb8c512c91c0153cff/ad997/start-profiling.png 1012w\"\n        sizes=\"(max-width: 840px) 100vw, 840px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>当你开始记录之后，开发者工具将在每次应用程序渲染时自动收集性能数据。\n你可以和平常一样使用你的应用程序，\n当你完成分析之后，请点击“Stop”按钮。</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/45619de03bed468869f7a0878f220586/ad997/stop-profiling.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 840px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 47.61904761904761%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABcklEQVQoz62QS2vCQBCAQ+lf66W/wUB77rH/Qw/tuSQieLSHQMFDD3oxiSQHUfsCC1UP5rGJeTRuNrvd2SRiH/TkwMdkM7PfDiNZD3fnj+P+hTW2Grqhy7peYhiGPBgM5F7vXtY0jeeePBwOxX9R55j6SLYtq2Hb9qVpmmcSxNN08oZCxJbLNfN9/xue57HNZsNc12WOAzjiP0KIZ8TWjs+CcMsgFouFLYQfL6+zLNsxD0V5kiQkTRMCuSZN0z1wzrKM0KIgBScHCMEg5I/rXHcqhQjNxROMEnoQRUH/DC6i0HwAgdtBEBilcLsVQuitMiuo6GF8DPYzoC56eA3nOcvzXDTzNZilMAz3QpgAPlcrl2r9Z/qZJLQs/Z4QY0zjOKawikpo1MJpJcQcKJI03pHZ3CF8DELLVeyB3dV9FbgSjoQwiqJ3doTgg02EUFXV606nc9Nut5ucVo2iqK3D8z80+f1bRVGuhLCKkyMgdbtd6Qtm52eikNUIKgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"当你完成性能分析之后，点击“stop”\"\n        title=\"\"\n        src=\"/static/45619de03bed468869f7a0878f220586/1e088/stop-profiling.png\"\n        srcset=\"/static/45619de03bed468869f7a0878f220586/65ed1/stop-profiling.png 210w,\n/static/45619de03bed468869f7a0878f220586/d10fb/stop-profiling.png 420w,\n/static/45619de03bed468869f7a0878f220586/1e088/stop-profiling.png 840w,\n/static/45619de03bed468869f7a0878f220586/ad997/stop-profiling.png 1012w\"\n        sizes=\"(max-width: 840px) 100vw, 840px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>假设你的应用程序在分析时至少渲染一次，开发者工具将提供几种方法查看性能数据。\n我们将会<a href=\"#reading-performance-data\">在接下来介绍它们</a>。</p>\n<h2 id=\"reading-performance-data\"><a href=\"#reading-performance-data\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>查看性能数据 </h2>\n<h3 id=\"browsing-commits\"><a href=\"#browsing-commits\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>浏览提交记录 </h3>\n<p>从概念上讲，React 分两个阶段工作：</p>\n<ul>\n<li><strong>渲染</strong> 阶段会确定需要进行哪些更改，比如 DOM。在此阶段，React 调用 <code class=\"gatsby-code-text\">render</code>，然后将结果与上次渲染的结果进行比较。</li>\n<li><strong>提交</strong> 阶段发生在当 React 应用变化时。（对于 React DOM 来说，会发生在 React 插入，更新及删除 DOM 节点的时候。）在此阶段，React 还会调用 <code class=\"gatsby-code-text\">componentDidMount</code> 和 <code class=\"gatsby-code-text\">componentDidUpdate</code> 之类的生命周期方法。</li>\n</ul>\n<p>开发者工具的 profiler 是在提交阶段收集性能数据的。\n每次提交都会被展示在 profiler 界面顶部的条形图中：</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/bd72dec045515d59be51c944e902d263/d8f62/commit-selector.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 601px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 10%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAsSAAALEgHS3X78AAAAaklEQVQI103Kuw5AQBBAUf//LxqlQhQSjWqFQoIN2RkzY58iUVI63U1uBgDLqpFknLRBSSmFEOLPl4HZI95yRsSL6LHuZop0ZAfCuPnNsLWe5XTOfnP6MftOSnHfyzLXRT60pZ41qMp3zQsu+2w/rwWfxgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"已分析的提交记录\"\n        title=\"\"\n        src=\"/static/bd72dec045515d59be51c944e902d263/d8f62/commit-selector.png\"\n        srcset=\"/static/bd72dec045515d59be51c944e902d263/65ed1/commit-selector.png 210w,\n/static/bd72dec045515d59be51c944e902d263/d10fb/commit-selector.png 420w,\n/static/bd72dec045515d59be51c944e902d263/d8f62/commit-selector.png 601w\"\n        sizes=\"(max-width: 601px) 100vw, 601px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>在条形图中，每一列都表示单次提交的数据，当前选中的提交会变成黑色。\n你可以点击各个列（或者是左/右切换按钮）来查看不同的提交的数据。</p>\n<p>这些列的颜色和高度对应该次提交渲染所需的时间。\n(较高的黄色的列比较短的蓝色的列耗费的时间长。)</p>\n<h3 id=\"filtering-commits\"><a href=\"#filtering-commits\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>筛选提交记录 </h3>\n<p>你分析的时间越长，应用程序渲染的次数就越多。\n有时候，你可能会因为<em>过多的提交记录</em>而感觉难以处理。\nprofiler 提供了一个筛选功能，帮助你解决这个问题。\n使用它来设置一个时间阈值，profiler 将隐藏所有比该值<em>更快</em>的提交记录。</p>\n<p><img src=\"/683b9d860ef722e1505e5e629df7ef7e/filtering-commits.gif\" alt=\"按时间筛选提交记录\"></p>\n<h3 id=\"flame-chart\"><a href=\"#flame-chart\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>火焰图 </h3>\n<p>火焰图会展示你所指定的那一次提交的应用程序的信息，\n图中的每一列都代表了一个 React 组件，（如：<code class=\"gatsby-code-text\">App</code>，<code class=\"gatsby-code-text\">Nav</code>）。\n列的大小和颜色代表渲染该组件及其子组件所需的耗时。\n(列的宽度代表组件<em>上次渲染</em>的耗时，列的颜色代表在<em>该次提交</em>中渲染的耗时。)</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3046f500b9bfc052bde8b7b3b3cfc243/ad997/flame-chart.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 840px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 47.61904761904761%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAAB30lEQVQoz62Rz08TURDHG+O/xsW/gZeIN6M3L548kTSQiFHUgx5oS9PIqQkhgaIpEovYbep2d1vaQgndSpV2f++2XWRnZ3y7LejZ8E2+eW/mzXzevN1EZevdvaKwfV/6Xpuv1UQWWRRFJksSE4Qy2y0U2F6xyHZ3CqwiVJmi1Jksy6yuKHGNJEnzPF7gPXOJSMftZsccTejXQCdvNCLf92NPJhNyXIdc1yXDMkk3dZ5zyfMcnvfIdhzyxmMeexRJVVUxBrbaJ0dD3SVdMwJDN8EyLG4TTO7hQAOeB7V3Bu2zDvwY9MHqdeGnUIGLahV8bQgBwFUE1DStzHF3E5/yyaaw+ZSOS0k4+rKIjVISGwfPsbG3iKeHy9j6uoQdeR3HZh/9y4CvJqp1Bd3zcwwsCzkLIqBt20IMXN1aaz7cWKZn2+/DtdIH2hA/0mE1T0tvH9Cb9ceU//yKbN+ha0EY0u8guIkRMQZallWJgQenJ82dwQWVhkbYG1+iz2vkfhdf7m/ifquMmqNHU2CIfzXl3OgaOJ1w5HqN2WX8W/BDXgBIANOnwHSoEKLGyP/uZ76aAb/FQP6XunQLchxHiYHpdPpJNptdzWQyK9wv/sMrvP91KpV6FANnunMLTuRyucQfU2RSA7PakTgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"火焰图示例\"\n        title=\"\"\n        src=\"/static/3046f500b9bfc052bde8b7b3b3cfc243/1e088/flame-chart.png\"\n        srcset=\"/static/3046f500b9bfc052bde8b7b3b3cfc243/65ed1/flame-chart.png 210w,\n/static/3046f500b9bfc052bde8b7b3b3cfc243/d10fb/flame-chart.png 420w,\n/static/3046f500b9bfc052bde8b7b3b3cfc243/1e088/flame-chart.png 840w,\n/static/3046f500b9bfc052bde8b7b3b3cfc243/ad997/flame-chart.png 1012w\"\n        sizes=\"(max-width: 840px) 100vw, 840px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<blockquote>\n<p>注意：</p>\n<p>列的宽度表示组件（及其子组件）上次渲染所需的耗时。\n如果组件在本次提交中未重新渲染，则代表上次渲染的耗时。\n一个列越宽，其所代表的组件渲染耗时就越长。</p>\n<p>列的颜色表示组件（及其子组件）在本次提交中渲染的耗时。\n黄色代表耗时较长，蓝色代表耗时较短，灰色代表该组件在这次提交中没有重新渲染。</p>\n</blockquote>\n<p>例如，上图中所展示的提交总共渲染耗时为 18.4ms。\n<code class=\"gatsby-code-text\">Router</code> 组件是渲染成本“最昂贵的”（花费了 18.4ms）。\n它所花费的时间大部分在它的两个子组件上：<code class=\"gatsby-code-text\">Nav</code>（8.4ms）和 <code class=\"gatsby-code-text\">Route</code>（7.9ms）。\n剩下的时间用于它的其他子组件和它自身的渲染。</p>\n<p>你可以通过单击组件放大或缩小火焰图：\n<img src=\"/39ba82394205242af7c37ccb3a631f4d/zoom-in-and-out.gif\" alt=\"单击组件放大或缩小火焰图\"></p>\n<p>点击一个组件的同时也会选中它，它的详细信息将会展示在右边的面板中，该面板会展示该组件在这次提交时的 <code class=\"gatsby-code-text\">props</code> 和 <code class=\"gatsby-code-text\">state</code>。\n你可以深入研究这些信息，进一步了解这次提交组件实际渲染的内容：</p>\n<p><img src=\"/1f4d023f1a0f281386625f28df87c78f/props-and-state.gif\" alt=\"查看组件提交的 props 和 state\"></p>\n<p>在某些情况下，选中一个组件后在不同的提交之间切换也可以发现触发这次渲染的<em>原因</em>：</p>\n<p><img src=\"/cc2a8b37bbce52c49a11c2f8e55dccbc/see-which-props-changed.gif\" alt=\"查看提交之间变化的数据\"></p>\n<p>上图表示 <code class=\"gatsby-code-text\">state.scrollOffset</code> 在提交之间被改变了。\n这可能是导致 <code class=\"gatsby-code-text\">List</code> 组件重新渲染的原因。</p>\n<h3 id=\"ranked-chart\"><a href=\"#ranked-chart\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>排序图 </h3>\n<p>同火焰图一样，排序图也会展示你所指定的那一次提交的信息，\n图中的每一列都代表了一个 React 组件（如：<code class=\"gatsby-code-text\">App</code>，<code class=\"gatsby-code-text\">Nav</code>）。\n不同的是排序图是有顺序的，耗时最长的组件会展示在第一行。</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0c81347535e28c9cdef0e94fab887b89/ad997/ranked-chart.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 840px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 47.61904761904761%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABlUlEQVQoz62OT2/TMBiHI7SvxoXPMEtwhhvckPYBECqHIY6s6r/BdpjaXmARNzSta6WQpGuF1o5kW7e1YYmj1HHiuH6xvYpNOwBC+0mPbL2v9fxsdFrvHpn7zceHVnfV/tZFtnWNa/dQr/MVmbufkWl+QeanNuod7CHXsZHjuqjf7yPHcZBt26vyfGJZ1kND5Xg0HpEcwLskkKQcSAa/wXMOEY4hTa4giCgkdAFzQiGOMUQRhiRJNCq+71taOOhtD04HHwCPWwU7aXF22ubFEuo1eXb8kQuvxmf9TU7HW3wefOeTixmfTac8yzJeFAVTwiAIOlK3Yrwovx4+a7yClJxzYKEQWSAg/3kDuxIiDwUUob6nSSg8zxdRFAkpE9LFlRBjfKCFL3fqw72Jr2YLtf0TKly+IoQApRQYYyCE0EJZ0NXCtWZ9eEawFsqIf8ntnlvC6x/aP44Oc7FQM6aWf0OW3p2xpXBfC/OUenAPiePY1cL3GxvPq9XqeqVSKUne/AelWq32tlwuP9XCZR7cA0aj0TB+AdiMX66/MIlxAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"排序图示例\"\n        title=\"\"\n        src=\"/static/0c81347535e28c9cdef0e94fab887b89/1e088/ranked-chart.png\"\n        srcset=\"/static/0c81347535e28c9cdef0e94fab887b89/65ed1/ranked-chart.png 210w,\n/static/0c81347535e28c9cdef0e94fab887b89/d10fb/ranked-chart.png 420w,\n/static/0c81347535e28c9cdef0e94fab887b89/1e088/ranked-chart.png 840w,\n/static/0c81347535e28c9cdef0e94fab887b89/ad997/ranked-chart.png 1012w\"\n        sizes=\"(max-width: 840px) 100vw, 840px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<blockquote>\n<p>注意：</p>\n<p>组件的渲染耗时包含了其子组件渲染所花费的时间，\n因此，渲染耗时最长的组件通常距离树的顶部最近。</p>\n</blockquote>\n<p>与火焰图一样，你可以通过单击组件放大或缩小排序图。</p>\n<h3 id=\"component-chart\"><a href=\"#component-chart\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>组件图 </h3>\n<p>在你分析的过程中，使用该图来查看某一组件在多次提交中的渲染时间有时候是非常有用的。\n组件图会以一个列的形式展示，\n其中每一列都表示你所选择的组件某一次提交下的渲染时间。\n每列的颜色和高度都表示该组件在某次提交中<em>同其它组件</em>的渲染耗时对比。</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d71275b42c6109e222fbb0932a0c8c09/ad997/component-chart.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 840px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 47.61904761904761%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAACSElEQVQoz62P20tUURTGh+gf6a33CHwTukCIQQ9JNw8kEZHRU2+9BzaCJ1LLB43xOPiaMjIgBl1Gzcuc0RnL0RQdTUWdOefsc3Wcs85ardlq9Af0wcf69tqL3147tjCeaPqiTzzM5xZbs9mscuJ5RWdPTU4qqVRKSafTyujIqJLJZBRd15WzuRzP5PP51kKh0JbL5a7H6lpZXloXrk27e/tkWhaZpkkWV0vYMpfLZVkNwyTTsEgIIV2f3auYZDsO1bW5WVqQwFJpa9lzHTosV0LX88D3ffC52lYFhLCAYbC/UwTXWOW8DfwY9wV4POP6Ac97NeGF9KO4Psu48zHnmIq00Ue1lV5AIqw7NJcwmH4sM0CEYRgihEfsABmEDMVqlc9RiCyob1gxjDkJrGwXipR/QrTWHdGZTJ0w00xQtfmAFNW8v1cRvxIeHpBrGVS2KuR6rgTaQsxLoFgdKdJCG1Vnn0bHYh0lwVlBmGjAo68tyE0Mph5hsPweg60xDJ0SVrd30d7ZQd8PMAKQQN76ZEN7bewnLbYTpC/Wqp+uwdGvBMBBBnDiMkSfGiCYeQ74uRFg/BKEqQsAvz9CzToGr7wPYSRhtVPgjAS6G+Ml2npJ9P0q0XwT0TTXmZtE2WaiuRucr5z09VucG4mcb0Q+f4S//K9s216SwMG+jhfJN+3dgx0tXVq8VR3qfKAOxe+o2ut77Luq1qmoWpxz/L6qddxWtb5Xav/bd2p/b4/6YWBAHdS0rmQy2ZNIJJ5J4KnO/QfHhoeHY38AsLpA6BTZFEwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"组件图示例\"\n        title=\"\"\n        src=\"/static/d71275b42c6109e222fbb0932a0c8c09/1e088/component-chart.png\"\n        srcset=\"/static/d71275b42c6109e222fbb0932a0c8c09/65ed1/component-chart.png 210w,\n/static/d71275b42c6109e222fbb0932a0c8c09/d10fb/component-chart.png 420w,\n/static/d71275b42c6109e222fbb0932a0c8c09/1e088/component-chart.png 840w,\n/static/d71275b42c6109e222fbb0932a0c8c09/ad997/component-chart.png 1012w\"\n        sizes=\"(max-width: 840px) 100vw, 840px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>上图显示 <code class=\"gatsby-code-text\">List</code> 组件渲染了 11 次。\n同时它还显示了每次渲染时，它都是提交中最“昂贵”的组件（意味着它的耗时最长）。</p>\n<p>想查看此图，请双击组件<em>或者</em>选择组件后单击右侧面板中的蓝色列表图标。\n你可以通过单击右侧面板中的“x”按钮返回原图。\n也可以通过双击组件图的某一列来查看该提交的更多信息</p>\n<p><img src=\"/99cb4321ded8eb0c21ae5fc673878563/see-all-commits-for-a-fiber.gif\" alt=\"如何查看某一组件所有的渲染\"></p>\n<p>如果你选中的组件在分析期间从未被渲染过，则会显示下面的消息：</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8eb0c37a13353ef5d9e61ae8fc040705/ad997/no-render-times-for-selected-component.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 840px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 47.61904761904761%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABZ0lEQVQoz62PzU7CQBDHG+OrefEZaKJnj74HHvQBCiHckQMx8eABE5VSUlDwQEI9oId+7PaD2rTLjrND26BHwz/5dbc7M/+Z0SZ3xumDdX9mT+yGaZp6xXg81ofDod7v9/XBYKD3erf4/0jvVY5ljnTbthvT6fTcsqwTTel9PlvyiMN6/QUBYxAEDBjbEQQBuK4Lvu+D53kE55xQuZ8egzCKQGm1ciZk6Dgf8zT9BtcPizhOxGazqUFTEUWRyPO8Bs2IJElETHlJzpMCXhfLZ7Q71jC4oBYghfrsU6m6qxMbSZxYZllWRreqTm3xQoZhGJLhFlUUBSiEEDXV286P8gAnpRjsOtEFBxv9MsSkLa4hFbiqZJxJjMk4jultX382IEOsqSd8KzvleAicQKRpSuBaKplQhQoVr+4leWn4RIY4gQMHEA42I8NWq3XZ6XSu2+12E7n6B02svzEM44IMSx0dAK3b7Wo/FtRnZY5UiRMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"所选组件无渲染时间\"\n        title=\"\"\n        src=\"/static/8eb0c37a13353ef5d9e61ae8fc040705/1e088/no-render-times-for-selected-component.png\"\n        srcset=\"/static/8eb0c37a13353ef5d9e61ae8fc040705/65ed1/no-render-times-for-selected-component.png 210w,\n/static/8eb0c37a13353ef5d9e61ae8fc040705/d10fb/no-render-times-for-selected-component.png 420w,\n/static/8eb0c37a13353ef5d9e61ae8fc040705/1e088/no-render-times-for-selected-component.png 840w,\n/static/8eb0c37a13353ef5d9e61ae8fc040705/ad997/no-render-times-for-selected-component.png 1012w\"\n        sizes=\"(max-width: 840px) 100vw, 840px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h3 id=\"interactions\"><a href=\"#interactions\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>交互动作 </h3>\n<p>React 最近添加了一个用于跟踪更新<em>原因</em>的<a href=\"https://fb.me/react-interaction-tracing\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">实验性 API</a>。\n被这些 API 跟踪的“交互动作”也会显示在 profiler 中:</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a91a39ac076b71aa7a202aaf46f8bd5a/ad997/interactions.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 840px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 47.61904761904761%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABl0lEQVQoz62RzW7aQBDHraqvlkufIZaSc499j/TQPgAgxD1wQJFy6IFKSQyOgBAUKVFJJKAW9trOrm28O97J7ILpoT1VGemn9Xz9Z0Z2bi8an36MLk/G/vh4OBy6NaPRyB0MBm6v13P7/b7bPe+S/9PGPc+zNf7Qcyfj8fFkMjn1ff/IMfYwv3tMeIrL1RrjOEZG1C9jDDebDYZheCBJEkzT1ObXYYzJ6ysaWywWt1bw19PTPY8TXP2OVMA45FkGWY0QIASHoiggJwT5JAo0BMIogpAxE5Naa1wul9ck99F5mU7nIgiwoMIKkXKVNkZDNchSy0zossh1JaWNZ9tCr4JAx4zpPM9MCMyGdNWNFXyezeZpFCEPgkpVgGVZopTygFIKt0LYb07nizRGUW6RtseSYmS1oGcF4/V6jqaxKCoFoEEpDeYljK+sX+182pLut9vX/LVhyvkMd1m5n/Zvdo1AdSSvQf9B7gWvrCDnfIHvYPTnp1aw2Wx+abfb31qt1hnx9T84o/7vjUbjsxXc24d3wOl0Os4blShlbz/d1/8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"交互动作面板\"\n        title=\"\"\n        src=\"/static/a91a39ac076b71aa7a202aaf46f8bd5a/1e088/interactions.png\"\n        srcset=\"/static/a91a39ac076b71aa7a202aaf46f8bd5a/65ed1/interactions.png 210w,\n/static/a91a39ac076b71aa7a202aaf46f8bd5a/d10fb/interactions.png 420w,\n/static/a91a39ac076b71aa7a202aaf46f8bd5a/1e088/interactions.png 840w,\n/static/a91a39ac076b71aa7a202aaf46f8bd5a/ad997/interactions.png 1012w\"\n        sizes=\"(max-width: 840px) 100vw, 840px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>上图显示了一个分析期间被跟踪的四个交互动作。\n每行都表示一个已经被跟踪的交互动作。\n每行中彩色的点表示与该交互动作相关的提交记录。</p>\n<p>你还可以从火焰图和排序图的视图中查看某一提交记录被跟踪了哪些交互动作：</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9847e78f930cb7cf2b0f9682853a5dbc/ad997/interactions-for-commit.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 840px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 47.61904761904761%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABuUlEQVQoz62Ry27aQBSGraqv1k2fISO16y77Humi3XUDCPECva3SICULLkkxYGKCsAmCFMYm2OBbYo7P6ZmBpllX+aVftmfO+fzPGaP97fPr0/aPN91f5pFpmkK50+mIbrcrms2GODn5Kc7PzsTXL99Fq9UW/X5f27Is0ev1VN0RP99yzytDaTS0x3dRSkt5R3GcUJZlj47jmDzPo9lsxt8xpWmq1zabDQVBQFEUaStNp9OOBlr29dV8uSYp5U56Hvi+r71arYBhwIUwHF6DlDNe8yAIQ/i9WIDHNdnDA+x2u1wBuafJuJdGvV637asBua4L4/EYlR3HRWswRNdx0HUnOJ/Pcb0OEAAwiSO8GY1wLSXmSYLMAgUMw7ClgXx2m+dBk8mk4DS8saEsjeiycUoXF5fkOA7luQ6hVdzfU3J7S9liQbnvExaFBvII2hrI87GTJFGzKbIs5X1CKlJMfROXS4k8N5UCH8Xv9MSsv8B9wu12Ozj8XMUAVcBdgPujwL+1vQtOhE+NmB+ADQ3kW7qhZxDffF8Dy+Xy+2q1+rFSqRyzP/yHj7n/U6lUeqeBB714Bhu1Ws34A880Xu+Ar3OjAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"提交记录的交互动作列表\"\n        title=\"\"\n        src=\"/static/9847e78f930cb7cf2b0f9682853a5dbc/1e088/interactions-for-commit.png\"\n        srcset=\"/static/9847e78f930cb7cf2b0f9682853a5dbc/65ed1/interactions-for-commit.png 210w,\n/static/9847e78f930cb7cf2b0f9682853a5dbc/d10fb/interactions-for-commit.png 420w,\n/static/9847e78f930cb7cf2b0f9682853a5dbc/1e088/interactions-for-commit.png 840w,\n/static/9847e78f930cb7cf2b0f9682853a5dbc/ad997/interactions-for-commit.png 1012w\"\n        sizes=\"(max-width: 840px) 100vw, 840px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>通过单击交互动作和提交记录，可以在它们之间切换：</p>\n<p><img src=\"/7c66e7686b5242473c87b3d0b4576cf3/navigate-between-interactions-and-commits.gif\" alt=\"在交互动作和提交记录之间切换\"></p>\n<p>tracing API 是新的特性，我们会在未来的博文中更详细地介绍它。</p>\n<h2 id=\"troubleshooting\"><a href=\"#troubleshooting\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>常见问题 </h2>\n<h3 id=\"no-profiling-data-has-been-recorded-for-the-selected-root\"><a href=\"#no-profiling-data-has-been-recorded-for-the-selected-root\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>选择的根元素下没有分析数据被记录 </h3>\n<p>如果你的应用程序有多个“根”节点，你可能会在分析后看到以下消息：\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0755492a211f5bbb775285c0ff2fdfda/ad997/no-profiler-data-multi-root.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 840px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 47.61904761904761%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABjUlEQVQoz62Qy07CQBRAG+OvufEbmETXLv0PWOgH8GhY2wVCAjEuxbZUNEpMTCCB0kDoY0pfdKYz3hkeC40LE25yeqfzOHPnKtaDev74+ngxtIYlwzCQQNd11Ol0ULvdRpqmoftWC/V6PaTdaajb7SLTNOW+gaGjoWWVXoz+pTkwzxQRnwP9Cy8cbttz7vk+9zyP+5BXq5VkuVwexovFgruuywOxD3BcnwdBwHme8PFkbEnhZDT6yPyAu35Ioiimcbwl2ZMkh7xer2kURZQxRouioIQKaM4h4KI+6E6VIAxHfBsUYH8BHwYSyY81cU5U+iyFIcZSWGRZQaB8gvEvKMAJkbdCdRIQwxQRSCG0SZdCGEhhinERzGbMt20WAHg+Z6HjMG86ZWKeJAmD5x0qBBGD1rA0TffCbYXw9ndxU5KmebrZ0Ah6leW5RPzHcCDJMgrrsrciRA93TxXkO+GTFEKTJ/wIgTF+k8JarXbdaDRuIJfr9XoFckXkf1BWVfW2Wq1eSeEuTo6A0mw2lW+bPmTlyk2LHgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"选择的根元素下没有分析数据被记录\"\n        title=\"\"\n        src=\"/static/0755492a211f5bbb775285c0ff2fdfda/1e088/no-profiler-data-multi-root.png\"\n        srcset=\"/static/0755492a211f5bbb775285c0ff2fdfda/65ed1/no-profiler-data-multi-root.png 210w,\n/static/0755492a211f5bbb775285c0ff2fdfda/d10fb/no-profiler-data-multi-root.png 420w,\n/static/0755492a211f5bbb775285c0ff2fdfda/1e088/no-profiler-data-multi-root.png 840w,\n/static/0755492a211f5bbb775285c0ff2fdfda/ad997/no-profiler-data-multi-root.png 1012w\"\n        sizes=\"(max-width: 840px) 100vw, 840px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>这个信息表示你在“Elements”面板中选择的根节点没有性能数据被记录。\n在这种情况下，请尝试在该面板中选择其他根节点来查看性能分析数据：</p>\n<p><img src=\"/bdc30593d414b5c8d2ae92027ed11940/select-a-root-to-view-profiling-data.gif\" alt=\"在“Elements”界面中选择根节点来查看它的性能数据\"></p>\n<h3 id=\"no-timing-data-to-display-for-the-selected-commit\"><a href=\"#no-timing-data-to-display-for-the-selected-commit\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>选中的提交记录没可展示的时间数据 </h3>\n<p>有时提交的速度可能很快，以至于 <code class=\"gatsby-code-text\">performance.now()</code> 无法给开发者工具任何有意义的数据。\n在这种情况下，将显示以下的消息：</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/63b2fb6298feecb179272c467020ed95/ad997/no-timing-data-for-commit.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 840px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 47.61904761904761%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABe0lEQVQoz61QTUvDQBAN4l/z4m9oQM8e/R/1oFehLaU/QSwWexK0CYQkrQURNGAxkKRJNh/tJpNdZzdJqSdB+uAxs7Ozb96Oot/dnj7q47OFaXZMy1RNs6Zt26quzdSHyVSdTJ/U8f1Y1TRd1i3LUufzuYzY28F4bhjGiSLwtrTfw4Twjy+PJ4TwLMt2jCLCw+Cbp4HD1+EaaylPkoTHcYx3kcwFBRzHMaSg7/uvDAtxRsuCUiiKAsqyhBLjZrMFmsdAExfCyAcoKaRpCqvVClzXxfuN6C2EoOd5Lyh3rBBClrwGINlfzPOcoRuGLllVVax5JxzPfgniFytsrr+bZ1zkguiIp/it7XZbTwXglFLegjEmBcMw1KRgEARLLHIUrkhCGJ4ZrmFHbGS4J0kc1rpie2gFa4doddFMLpCA0+Vu0J2MYqcoAi1ELkT2WDSCz1IQJ3/yAwB3akvBfr9/ORwOrweDQRd59Q928f1Nr9e7kIINjg5AZTQaKT+0smf7vT5VvwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"选中的提交记录没可展示的时间数据\"\n        title=\"\"\n        src=\"/static/63b2fb6298feecb179272c467020ed95/1e088/no-timing-data-for-commit.png\"\n        srcset=\"/static/63b2fb6298feecb179272c467020ed95/65ed1/no-timing-data-for-commit.png 210w,\n/static/63b2fb6298feecb179272c467020ed95/d10fb/no-timing-data-for-commit.png 420w,\n/static/63b2fb6298feecb179272c467020ed95/1e088/no-timing-data-for-commit.png 840w,\n/static/63b2fb6298feecb179272c467020ed95/ad997/no-timing-data-for-commit.png 1012w\"\n        sizes=\"(max-width: 840px) 100vw, 840px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h2 id=\"deep-dive-video\"><a href=\"#deep-dive-video\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>视频解析 </h2>\n<p>以下视频演示了如何使用 React profiler 来检测和改进实际 React 应用程序中的性能瓶颈。</p>\n<br>\n<div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.25%; position: relative; height: 0; overflow: hidden; \" > <iframe src=\"https://www.youtube-nocookie.com/embed/nySib7ipZdk?rel=0\" frameborder=\"0\" allow=\"autoplay; encrypted-media\" allowfullscreen style=\" position: absolute; top: 0; left: 0; width: 100%; height: 100%; \"></iframe> </div>","excerpt":"React 16.5 添加了对开发者工具的 Profiler 插件的支持。\n该插件使用了 React 的 Profiler 实验性 API 来收集所有组件渲染的耗时，目的是为了找出 React 应用程序的性能瓶颈。\n它将完全兼容我们即将推出的时间片和 suspense 特性。 这篇博文包含以下内容： 分析应用程序 查看性能数据 浏览提交记录 筛选提交记录 火焰图 排序图 组件图 交互动作 常见问题 选择的根元素下没有分析数据被记录 选中的提交记录没可展示的时间数据 视频解析 分析应用程序  开发者工具将会对支持新的分析 API 的应用程序添加一个“Profiler”选项卡：  注意：  16.5+ 在 DEV 模式下支持性能分析。\n在生产环境也可以使用  代码包进行性能分析，\n查阅 fb.me/react-profiling 了解更多如何使用这个代码包。 这个“Profiler”面板初始为空，你可以点击 record 按钮开始分析：  当你开始记录之后，开发者工具将在每次应用程序渲染时自动收集性能数据。\n你可以和平常一样使用你的应用程序，\n当你完成分析之后，请点击“Stop…","frontmatter":{"title":"React Profiler 介绍","next":null,"prev":null,"author":[{"frontmatter":{"name":"Brian Vaughn","url":"https://github.com/bvaughn"}}]},"fields":{"date":"September 10, 2018","path":"content/blog/2018-09-10-introducing-the-react-profiler.md","slug":"/blog/2018/09/10/introducing-the-react-profiler.html"}},"allMarkdownRemark":{"edges":[{"node":{"frontmatter":{"title":"React 18 发布计划"},"fields":{"slug":"/blog/2021/06/08/the-plan-for-react-18.html"}}},{"node":{"frontmatter":{"title":"介绍 Zero-Bundle-Size 的 React 服务端组件"},"fields":{"slug":"/blog/2020/12/21/data-fetching-with-react-server-components.html"}}},{"node":{"frontmatter":{"title":"React v17.0"},"fields":{"slug":"/blog/2020/10/20/react-v17.html"}}},{"node":{"frontmatter":{"title":"介绍全新的 JSX 转换"},"fields":{"slug":"/blog/2020/09/22/introducing-the-new-jsx-transform.html"}}},{"node":{"frontmatter":{"title":"React v17.0 RC 版本发布：没有新特性"},"fields":{"slug":"/blog/2020/08/10/react-v17-rc.html"}}},{"node":{"frontmatter":{"title":"React v16.13.0"},"fields":{"slug":"/blog/2020/02/26/react-v16.13.0.html"}}},{"node":{"frontmatter":{"title":"Building Great User Experiences with Concurrent Mode and Suspense"},"fields":{"slug":"/blog/2019/11/06/building-great-user-experiences-with-concurrent-mode-and-suspense.html"}}},{"node":{"frontmatter":{"title":"使用 React 预发布版为新功能打基础"},"fields":{"slug":"/blog/2019/10/22/react-release-channels.html"}}},{"node":{"frontmatter":{"title":"全新的 React DevTools 简介"},"fields":{"slug":"/blog/2019/08/15/new-react-devtools.html"}}},{"node":{"frontmatter":{"title":"React v16.9.0 发布及 Roadmap 最新进展"},"fields":{"slug":"/blog/2019/08/08/react-v16.9.0.html"}}}]}},"pageContext":{"slug":"/blog/2018/09/10/introducing-the-react-profiler.html"}},"staticQueryHashes":[]}