{"componentChunkName":"component---src-templates-blog-js","path":"/blog/2020/02/26/react-v16.13.0.html","result":{"data":{"markdownRemark":{"html":"<p>今天我们发布了 React 16.13.0。此版本修复了部分 bug 并添加了新的弃用警告，以助力接下来的主要版本。</p>\n<h2 id=\"new-warnings\"><a href=\"#new-warnings\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>新的警告 </h2>\n<h3 id=\"warnings-for-some-updates-during-render\"><a href=\"#warnings-for-some-updates-during-render\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Render 期间更新的警告 </h3>\n<p>React 组件不应在 render 期间对其他组件产生副作用。</p>\n<p>在 render 期间调用 <code class=\"gatsby-code-text\">setState</code> 是被支持的，但是 <a href=\"/docs/hooks-faq.html#how-do-i-implement-getderivedstatefromprops\">仅仅适用于<em>同一个组件</em></a>。 如果你在另一个组件 render 期间调用 <code class=\"gatsby-code-text\">setState</code>，现在你将会看到一条警告。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"gatsby-code-text\"><code class=\"gatsby-code-text\">Warning: Cannot update a component from inside the function body of a different component.</code></pre></div>\n<p><strong>这些警告将会帮助你找到应用中由意外的状态改变引起的 bug。</strong> 在极少数情况下，由于渲染，你有意要更改另一个组件的状态，你可以将 <code class=\"gatsby-code-text\">setState</code> 调用包装为  <code class=\"gatsby-code-text\">useEffect</code>。</p>\n<h3 id=\"warnings-for-conflicting-style-rules\"><a href=\"#warnings-for-conflicting-style-rules\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>冲突的样式规则警告 </h3>\n<p>当动态地应用包含了全写和简写的 <code class=\"gatsby-code-text\">style</code> 版本的 CSS 属性时，特定的更新组合可能会导致样式不一致。例如：</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"gatsby-code-jsx\"><code class=\"gatsby-code-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>toggle <span class=\"token operator\">?</span> \n  <span class=\"token punctuation\">{</span> background<span class=\"token operator\">:</span> <span class=\"token string\">'blue'</span><span class=\"token punctuation\">,</span> backgroundColor<span class=\"token operator\">:</span> <span class=\"token string\">'red'</span> <span class=\"token punctuation\">}</span> <span class=\"token operator\">:</span> \n  <span class=\"token punctuation\">{</span> backgroundColor<span class=\"token operator\">:</span> <span class=\"token string\">'red'</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  ...\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span> </code></pre></div>\n<p>你可能期待这个 <code class=\"gatsby-code-text\">&lt;div></code> 总是拥有红色背景，不论 <code class=\"gatsby-code-text\">toggle</code> 的值是什么。然而，在 <code class=\"gatsby-code-text\">true</code> 和 <code class=\"gatsby-code-text\">false</code>之间交替使用<code class=\"gatsby-code-text\">toggle</code>时，背景色开始是 <code class=\"gatsby-code-text\">red</code>，然后在 <code class=\"gatsby-code-text\">transparent</code> 和 <code class=\"gatsby-code-text\">blue</code>之间交替， <a href=\"https://codesandbox.io/s/suspicious-sunset-g3jub\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">正如你能在这个 demo 中看到的</a>。</p>\n<p><strong>React 现在检测到冲突的样式规则并打印出警告。</strong>要解决此问题，请不要在 <code class=\"gatsby-code-text\">style</code> 属性中混合使用同一CSS属性的简写和全写版本。</p>\n<h3 id=\"warnings-for-some-deprecated-string-refs\"><a href=\"#warnings-for-some-deprecated-string-refs\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>某些废弃字符串 ref 的警告 </h3>\n<p><a href=\"/docs/refs-and-the-dom.html#legacy-api-string-refs\">字符串 ref 是过时的 API</a> 这是不可取的，将来将被弃用：</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"gatsby-code-jsx\"><code class=\"gatsby-code-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Button</span></span> <span class=\"token attr-name\">ref</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>myRef<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre></div>\n<p>(不要将字符串 ref 与一般的 ref 混淆，后者<strong>仍然完全受支持</strong>。)</p>\n<p>在将来，我们将提供一个自动脚本（“codemod”），以从字符串 ref 中迁移。然而，一些罕见的案例不能自动迁移。此版本在弃用之前添加了一个新的警告<strong>仅适用于那些情况</strong>。</p>\n<p>例如，如果将字符串 ref 与 Render Prop 模式一起使用，则它将触发：</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"gatsby-code-jsx\"><code class=\"gatsby-code-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">ClassWithRenderProp</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">componentDidMount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">doSomething</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>refs<span class=\"token punctuation\">.</span>myRef<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span><span class=\"token function\">children</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ClassParent</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ClassWithRenderProp</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Button</span></span> <span class=\"token attr-name\">ref</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>myRef<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">ClassWithRenderProp</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>这样的代码通常暗含 bug。（你可能希望 ref 在 <code class=\"gatsby-code-text\">ClassParent</code> 上可用，但是它被放在 <code class=\"gatsby-code-text\">ClassWithRenderProp</code> 上）。</p>\n<p><strong>你很可能没有这样的代码</strong>。如果是有意为之，请将其转换为 <a href=\"/docs/refs-and-the-dom.html#creating-refs\"><code class=\"gatsby-code-text\">React.createRef()</code></a>：</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"gatsby-code-jsx\"><code class=\"gatsby-code-jsx\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">ClassWithRenderProp</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  myRef <span class=\"token operator\">=</span> React<span class=\"token punctuation\">.</span><span class=\"token function\">createRef</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">componentDidMount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">doSomething</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>myRef<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props<span class=\"token punctuation\">.</span><span class=\"token function\">children</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>myRef<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ClassParent</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ClassWithRenderProp</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n        </span><span class=\"token punctuation\">{</span><span class=\"token parameter\">myRef</span> <span class=\"token operator\">=></span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Button</span></span> <span class=\"token attr-name\">ref</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>myRef<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span><span class=\"token plain-text\">\n      </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">ClassWithRenderProp</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>Note</p>\n<p>要查看此警告，你需要在你的 Babel plugins 中安装 <a href=\"https://babeljs.io/docs/en/babel-plugin-transform-react-jsx-self\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">babel-plugin-transform-react-jsx-self</a>。它必须 <em>仅仅</em> 在开发模式下启用。 </p>\n<p>如果你使用 Create React App 或者用 babel 7+ 的 React preset，那么默认情况下已经安装了这个插件。</p>\n</blockquote>\n<h3 id=\"deprecating-reactcreatefactory\"><a href=\"#deprecating-reactcreatefactory\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>弃用 <code class=\"gatsby-code-text\">React.createFactory</code> </h3>\n<p><a href=\"/docs/react-api.html#createfactory\"><code class=\"gatsby-code-text\">React.createFactory</code></a>为 React 创建一个帮助器元素。此版本向该方法添加了一个弃用警告。它将在未来的主要版本中删除。</p>\n<p>把 <code class=\"gatsby-code-text\">React.createFactory</code> 替换为普通的 JSX 。或者可以复制并粘贴此单行辅助对象或将其发布为库：</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"gatsby-code-jsx\"><code class=\"gatsby-code-jsx\"><span class=\"token keyword\">let</span> <span class=\"token function-variable function\">createFactory</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">type</span> <span class=\"token operator\">=></span> React<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> type<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>它的作用完全相同。</p>\n<h3 id=\"deprecating-reactdomunstable_createportal-in-favor-of-reactdomcreateportal\"><a href=\"#deprecating-reactdomunstable_createportal-in-favor-of-reactdomcreateportal\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>弃用 <code class=\"gatsby-code-text\">ReactDOM.unstable_createPortal</code> 推荐 <code class=\"gatsby-code-text\">ReactDOM.createPortal</code></h3>\n<p>当 React 16 发布时，<code class=\"gatsby-code-text\">createPortal</code> 成为一个官方支持的 API。</p>\n<p>但是，我们保留了 <code class=\"gatsby-code-text\">unstable_createPortal</code> 作为受支持的别名，以使采用它的少数库正常工作。我们现在反对使用 unstable 别名。直接使用 <code class=\"gatsby-code-text\">createPortal</code> 而不是 <code class=\"gatsby-code-text\">unstable_createPortal</code>。它有完全相同的签名。</p>\n<h2 id=\"other-improvements\"><a href=\"#other-improvements\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>其他改进 </h2>\n<h3 id=\"component-stacks-in-hydration-warnings\"><a href=\"#component-stacks-in-hydration-warnings\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Hydration 过程中组件堆栈的警告 </h3>\n<p>React 将组件堆栈添加到其开发警告中，使开发人员能够隔离 bug 并调试他们的程序。此版本将组件堆栈添加到许多以前没有的开发警告中。举个例子，考虑一下以前版本中的 hydration 警告：</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/20bd06e254e7ad32aa007a59a41d1e65/61583/hydration-warning-before.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 840px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 7.142857142857142%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAP0lEQVQI1zWLQQrAIAwE+/+PJhqRYkkOlriNDR6GZQb2msTwUuAcSwSvNV0k2/azrWVXC/RnmUF7xx2fdzz4ABFxTIdyNAG5AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"控制台警告的屏幕截图，简单地说明 hydration 不匹配的性质：\"Warning: Expected server HTML to contain a matching div in div.\"\"\n        title=\"\"\n        src=\"/static/20bd06e254e7ad32aa007a59a41d1e65/1e088/hydration-warning-before.png\"\n        srcset=\"/static/20bd06e254e7ad32aa007a59a41d1e65/65ed1/hydration-warning-before.png 210w,\n/static/20bd06e254e7ad32aa007a59a41d1e65/d10fb/hydration-warning-before.png 420w,\n/static/20bd06e254e7ad32aa007a59a41d1e65/1e088/hydration-warning-before.png 840w,\n/static/20bd06e254e7ad32aa007a59a41d1e65/78612/hydration-warning-before.png 1260w,\n/static/20bd06e254e7ad32aa007a59a41d1e65/61583/hydration-warning-before.png 1616w\"\n        sizes=\"(max-width: 840px) 100vw, 840px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>虽然它指出了代码中的一个错误，但不清楚错误在哪里存在，以及下一步该怎么做。此版本向此警告添加了一个组件堆栈，使其看起来如下所示：</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/abf3b580867e79d5f377330842bb6522/d3d45/hydration-warning-after.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 840px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 16.19047619047619%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAk0lEQVQI11WOwQ6CMBBE+f/P4k7wLBEOEJEKFSItRmifg17w8LKzm8nOJOu1JdQ1oaoIRcGrrFikt7Yldh3hJqS/09wJ+22eCc8fcXb4fmCU5z1NJFEL+QnSFLIML1yeEy4lKAw9wfRwP2AfB0Y2/Vjli4MlCW6BvU1xJjYNDAqwFtQkGqMGauE90R1xf6Ab8iD9Ab5h5IiPbXX7AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"控制台警告的屏幕截图，说明 hydration 不匹配的性质，但也包括组件堆栈：\"Warning: Expected server HTML to contain a matching div in div, in div (at pages/index.js:4)...\"\"\n        title=\"\"\n        src=\"/static/abf3b580867e79d5f377330842bb6522/1e088/hydration-warning-after.png\"\n        srcset=\"/static/abf3b580867e79d5f377330842bb6522/65ed1/hydration-warning-after.png 210w,\n/static/abf3b580867e79d5f377330842bb6522/d10fb/hydration-warning-after.png 420w,\n/static/abf3b580867e79d5f377330842bb6522/1e088/hydration-warning-after.png 840w,\n/static/abf3b580867e79d5f377330842bb6522/78612/hydration-warning-after.png 1260w,\n/static/abf3b580867e79d5f377330842bb6522/d3d45/hydration-warning-after.png 1614w\"\n        sizes=\"(max-width: 840px) 100vw, 840px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>这样可以清楚地看出问题所在，并让你更快地找到并修复错误。</p>\n<h3 id=\"notable-bugfixes\"><a href=\"#notable-bugfixes\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>值得注意的错误修复 </h3>\n<p>此版本包含其他一些值得注意的改进：</p>\n<ul>\n<li>在严格的开发模式下，React 调用生命周期方法两次，以清除任何可能不需要的副作用。此版本将此行为添加到 <code class=\"gatsby-code-text\">shouldComponentUpdate</code> 中。这不会影响大多数代码，除非在 <code class=\"gatsby-code-text\">shouldComponentUpdate</code> 中有副作用。要解决此问题，请将具有副作用的代码移到 <code class=\"gatsby-code-text\">componentDidUpdate</code> 中。</li>\n<li>在严格开发模式下，使用遗留上下文 API 的警告不包括触发警告的组件堆栈。此版本将丢失的堆栈添加到警告中。</li>\n<li><code class=\"gatsby-code-text\">onMouseEnter</code> 现在在被禁用的 <code class=\"gatsby-code-text\">&lt;button></code> 对象上不能被触发。</li>\n<li>自从我们发布 v16 以来，ReactDOM 缺少一个 <code class=\"gatsby-code-text\">version</code> 导出。这个版本又添加了它。我们不建议在应用程序逻辑中使用它，但是在调试同一页面上的 ReactDOM 的不匹配/多个版本时，它非常有用。</li>\n</ul>\n<p>我们感谢所有帮助揭示和解决这些和其他问题的贡献者。你可以找到完整的变更日志 <a href=\"#changelog\">如下</a>。</p>\n<h2 id=\"installation\"><a href=\"#installation\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>安装 </h2>\n<h3 id=\"react\"><a href=\"#react\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>React </h3>\n<p>React v16.13.0 现在在 npm 库中已经可用。</p>\n<p>用 Yarn 安装 React 16，运行：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"gatsby-code-bash\"><code class=\"gatsby-code-bash\"><span class=\"token function\">yarn</span> <span class=\"token function\">add</span> react@^16.13.0 react-dom@^16.13.0</code></pre></div>\n<p>用 npm 安装 React 16，运行：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"gatsby-code-bash\"><code class=\"gatsby-code-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save react@^16.13.0 react-dom@^16.13.0</code></pre></div>\n<p>我们也通过 CDN 提供了 React 的 UMD 版本：</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"gatsby-code-html\"><code class=\"gatsby-code-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">crossorigin</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://unpkg.com/react@16/umd/react.production.min.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">crossorigin</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://unpkg.com/react-dom@16/umd/react-dom.production.min.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>参考这篇文档 <a href=\"/docs/installation.html\">详细安装说明</a>。</p>\n<h2 id=\"changelog\"><a href=\"#changelog\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>变更日志 </h2>\n<h3 id=\"react\"><a href=\"#react\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>React </h3>\n<ul>\n<li>当字符串 ref 的使用方式不符合将来的代码模式时发出警告 (<a href=\"https://github.com/lunaruan\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">@lunaruan</a> in <a href=\"https://github.com/facebook/react/pull/17864\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">#17864</a>)</li>\n<li>弃用 <code class=\"gatsby-code-text\">React.createFactory()</code> (<a href=\"https://github.com/trueadm\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">@trueadm</a> in <a href=\"https://github.com/facebook/react/pull/17878\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">#17878</a>)</li>\n</ul>\n<h3 id=\"react-dom\"><a href=\"#react-dom\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>React DOM </h3>\n<ul>\n<li><code class=\"gatsby-code-text\">style</code> 中的更改可能导致意外冲突时发出警告 (<a href=\"https://github.com/sophiebits\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">@sophiebits</a> 在 <a href=\"https://github.com/facebook/react/pull/14181\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">#14181</a>，<a href=\"https://github.com/facebook/react/pull/18002\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">#18002</a>)</li>\n<li>在另一个组件的 render 阶段更新 function 组件时发出警告 (<a href=\"(https://github.com/acdlite)\">@acdlite</a> 在 <a href=\"https://github.com/facebook/react/pull/17099\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">#17099</a>)</li>\n<li>弃用 <code class=\"gatsby-code-text\">unstable_createPortal</code> (<a href=\"https://github.com/trueadm\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">@trueadm</a> 在 <a href=\"https://github.com/facebook/react/pull/17880\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">#17880</a>)</li>\n<li>修复 <code class=\"gatsby-code-text\">onMouseEnter</code> 在被禁用的按钮上被触发 (<a href=\"https://github.com/AlfredoGJ\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">@AlfredoGJ</a> 在 <a href=\"https://github.com/facebook/react/pull/17675\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">#17675</a>)</li>\n<li>在 <code class=\"gatsby-code-text\">StrictMode</code> 下调用 <code class=\"gatsby-code-text\">shouldComponentUpdate</code> 两次 (<a href=\"https://github.com/bvaughn\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">@bvaughn</a> 在 <a href=\"https://github.com/facebook/react/pull/17942\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">#17942</a>)</li>\n<li>增加 ReactDOM <code class=\"gatsby-code-text\">version</code> 属性 (<a href=\"https://github.com/ealush\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">@ealush</a> 在 <a href=\"https://github.com/facebook/react/pull/15780\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">#15780</a>)</li>\n<li>不要调用 <code class=\"gatsby-code-text\">dangerouslySetInnerHTML</code> 的 <code class=\"gatsby-code-text\">toString()</code> 方法 (<a href=\"https://github.com/sebmarkbage\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">@sebmarkbage</a> 在 <a href=\"https://github.com/facebook/react/pull/17773\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">#17773</a>)</li>\n<li>在组件堆栈中展示更多警告 (<a href=\"https://github.com/gaearon\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">@gaearon</a> 在 <a href=\"https://github.com/facebook/react/pull/17922\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">#17922</a>，<a href=\"https://github.com/facebook/react/pull/17586\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">#17586</a>)</li>\n</ul>\n<h3 id=\"concurrent-mode-experimental\"><a href=\"#concurrent-mode-experimental\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>并发模式（实验） </h3>\n<ul>\n<li>警告有问题的用法 <code class=\"gatsby-code-text\">ReactDOM.createRoot()</code> (<a href=\"https://github.com/trueadm\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">@trueadm</a> 在 <a href=\"https://github.com/facebook/react/pull/17937\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">#17937</a>)</li>\n<li>移除 <code class=\"gatsby-code-text\">ReactDOM.createRoot()</code> 回调传参并且在用法上增加了警告 (<a href=\"https://github.com/bvaughn\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">@bvaughn</a> 在 <a href=\"https://github.com/facebook/react/pull/17916\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">#17916</a>)</li>\n<li>不要将空闲/屏幕外的工作与其他工作分组 (<a href=\"https://github.com/sebmarkbage\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">@sebmarkbage</a> 在 <a href=\"https://github.com/facebook/react/pull/17456\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">#17456</a>)</li>\n<li>调整 <code class=\"gatsby-code-text\">SuspenseList</code> CPU 边界启发式 (<a href=\"https://github.com/sebmarkbage\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">@sebmarkbage</a> 在 <a href=\"https://github.com/facebook/react/pull/17455\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">#17455</a>)</li>\n<li>增加丢失事件插件属性 (<a href=\"https://github.com/trueadm\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">@trueadm</a> 在 <a href=\"https://github.com/facebook/react/pull/17914\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">#17914</a>)</li>\n<li>修复 <code class=\"gatsby-code-text\">isPending</code> 仅当从输入事件内部转换时为 true (<a href=\"https://github.com/acdlite\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">@acdlite</a> 在 <a href=\"https://github.com/facebook/react/pull/17382\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">#17382</a>)</li>\n<li>修复 <code class=\"gatsby-code-text\">React.memo</code> 组件在被更高优先级的更新中断时删除更新 (<a href=\"https://github.com/acdlite\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">@acdlite</a> 在 <a href=\"https://github.com/facebook/react/pull/18091\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">#18091</a>)</li>\n<li>以错误的优先级暂停时不发出警告 (<a href=\"https://github.com/gaearon\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">@gaearon</a> 在 <a href=\"https://github.com/facebook/react/pull/17971\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">#17971</a>)</li>\n<li>用重定基更新修复一个 bug (<a href=\"https://github.com/acdlite\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">@acdlite</a> 和 <a href=\"https://github.com/sebmarkbage\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">@sebmarkbage</a> 在 <a href=\"https://github.com/facebook/react/pull/17560\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">#17560</a>，<a href=\"https://github.com/facebook/react/pull/17510\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">#17510</a>，<a href=\"https://github.com/facebook/react/pull/17483\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">#17483</a>，<a href=\"https://github.com/facebook/react/pull/17480\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">#17480</a>)</li>\n</ul>","excerpt":"今天我们发布了 React 16.13.0。此版本修复了部分 bug 并添加了新的弃用警告，以助力接下来的主要版本。 新的警告  Render 期间更新的警告  React 组件不应在 render 期间对其他组件产生副作用。 在 render 期间调用  是被支持的，但是 仅仅适用于同一个组件。 如果你在另一个组件 render 期间调用 ，现在你将会看到一条警告。 这些警告将会帮助你找到应用中由意外的状态改变引起的 bug。 在极少数情况下，由于渲染，你有意要更改另一个组件的状态，你可以将  调用包装为  。 冲突的样式规则警告  当动态地应用包含了全写和简写的  版本的 CSS 属性时，特定的更新组合可能会导致样式不一致。例如： 你可能期待这个  总是拥有红色背景，不论  的值是什么。然而，在  和 之间交替使用时，背景色开始是 ，然后在  和 之间交替， 正如你能在这个 demo 中看到的。 React 现在检测到冲突的样式规则并打印出警告。要解决此问题，请不要在  属性中混合使用同一CSS属性的简写和全写版本。 某些废弃字符串 ref 的警告  字符串 ref…","frontmatter":{"title":"React v16.13.0","next":null,"prev":null,"author":[{"frontmatter":{"name":"Sunil Pai","url":"https://twitter.com/threepointone"}}]},"fields":{"date":"February 26, 2020","path":"content/blog/2020-02-26-react-v16.13.0.md","slug":"/blog/2020/02/26/react-v16.13.0.html"}},"allMarkdownRemark":{"edges":[{"node":{"frontmatter":{"title":"React 18 发布计划"},"fields":{"slug":"/blog/2021/06/08/the-plan-for-react-18.html"}}},{"node":{"frontmatter":{"title":"介绍 Zero-Bundle-Size 的 React 服务端组件"},"fields":{"slug":"/blog/2020/12/21/data-fetching-with-react-server-components.html"}}},{"node":{"frontmatter":{"title":"React v17.0"},"fields":{"slug":"/blog/2020/10/20/react-v17.html"}}},{"node":{"frontmatter":{"title":"介绍全新的 JSX 转换"},"fields":{"slug":"/blog/2020/09/22/introducing-the-new-jsx-transform.html"}}},{"node":{"frontmatter":{"title":"React v17.0 RC 版本发布：没有新特性"},"fields":{"slug":"/blog/2020/08/10/react-v17-rc.html"}}},{"node":{"frontmatter":{"title":"React v16.13.0"},"fields":{"slug":"/blog/2020/02/26/react-v16.13.0.html"}}},{"node":{"frontmatter":{"title":"Building Great User Experiences with Concurrent Mode and Suspense"},"fields":{"slug":"/blog/2019/11/06/building-great-user-experiences-with-concurrent-mode-and-suspense.html"}}},{"node":{"frontmatter":{"title":"使用 React 预发布版为新功能打基础"},"fields":{"slug":"/blog/2019/10/22/react-release-channels.html"}}},{"node":{"frontmatter":{"title":"全新的 React DevTools 简介"},"fields":{"slug":"/blog/2019/08/15/new-react-devtools.html"}}},{"node":{"frontmatter":{"title":"React v16.9.0 发布及 Roadmap 最新进展"},"fields":{"slug":"/blog/2019/08/08/react-v16.9.0.html"}}}]}},"pageContext":{"slug":"/blog/2020/02/26/react-v16.13.0.html"}},"staticQueryHashes":[]}