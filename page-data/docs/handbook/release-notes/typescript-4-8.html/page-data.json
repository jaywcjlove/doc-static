{"componentChunkName":"component---src-templates-documentation-tsx","path":"/docs/handbook/release-notes/typescript-4-8.html","result":{"data":{"markdownRemark":{"id":"a16eddf9-f4d2-59cc-b1b1-6cb899c81daa","excerpt":"Improved Intersection Reduction, Union Compatibility, and Narrowing TypeScript 4.8 brings a series of correctness and consistency improvements under…","html":"<h2 id=\"improved-intersection-reduction-union-compatibility-and-narrowing\" style=\"position:relative;\"><a href=\"#improved-intersection-reduction-union-compatibility-and-narrowing\" aria-label=\"improved intersection reduction union compatibility and narrowing permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Improved Intersection Reduction, Union Compatibility, and Narrowing</h2>\n<p>TypeScript 4.8 brings a series of correctness and consistency improvements under <code>--strictNullChecks</code>.\nThese changes affect how intersection and union types work, and are leveraged in how TypeScript narrows types.</p>\n<p>For example, <code>unknown</code> is close in spirit to the union type <code>{} | null | undefined</code> because it accepts <code>null</code>, <code>undefined</code>, and any other type.\nTypeScript now recognizes this, and allows assignments from <code>unknown</code> to <code>{} | null | undefined</code>.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">f</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">x</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">unknown</span><span style=\"color: #000000\">, </span><span style=\"color: #001080\">y</span><span style=\"color: #000000\">: {} | </span><span style=\"color: #1C6277\">null</span><span style=\"color: #000000\"> | </span><span style=\"color: #1C6277\">undefined</span><span style=\"color: #000000\">) {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #001080\">x</span><span style=\"color: #000000\"> = </span><span style=\"color: #001080\">y</span><span style=\"color: #000000\">; </span><span style=\"color: #008000\">// always worked</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #001080\">y</span><span style=\"color: #000000\"> = </span><span style=\"color: #001080\">x</span><span style=\"color: #000000\">; </span><span style=\"color: #008000\">// used to error, now works</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p>Another change is that <code>{}</code> intersected with any other object type simplifies right down to that object type.\nThat meant that we were able to rewrite <code>NonNullable</code> to just use an intersection with <code>{}</code>, because <code>{} &#x26; null</code> and <code>{} &#x26; undefined</code> just get tossed away.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">diff</div><div class='code-container'><code><div class='line'><span style=\"color: #A31515\">- type NonNullable&lt;T&gt; = T extends null | undefined ? never : T;</span></div><div class='line'><span style=\"color: #098658\">+ type NonNullable&lt;T&gt; = T & {};</span></div></code></div></pre>\n<p>This is an improvement because intersection types like this can be reduced and assigned to, while conditional types currently cannot.\nSo <code>NonNullable&#x3C;NonNullable&#x3C;T>></code> now simplifies at least to <code>NonNullable&#x3C;T></code>, whereas it didn’t before.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">foo</span><span style=\"color: #000000\">&lt;</span><span style=\"color: #1C6277\">T</span><span style=\"color: #000000\">&gt;(</span><span style=\"color: #001080\">x</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">NonNullable</span><span style=\"color: #000000\">&lt;</span><span style=\"color: #1C6277\">T</span><span style=\"color: #000000\">&gt;, </span><span style=\"color: #001080\">y</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">NonNullable</span><span style=\"color: #000000\">&lt;</span><span style=\"color: #1C6277\">NonNullable</span><span style=\"color: #000000\">&lt;</span><span style=\"color: #1C6277\">T</span><span style=\"color: #000000\">&gt;&gt;) {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #001080\">x</span><span style=\"color: #000000\"> = </span><span style=\"color: #001080\">y</span><span style=\"color: #000000\">; </span><span style=\"color: #008000\">// always worked</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #001080\">y</span><span style=\"color: #000000\"> = </span><span style=\"color: #001080\">x</span><span style=\"color: #000000\">; </span><span style=\"color: #008000\">// used to error, now works</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p>These changes also allowed us to bring in sensible improvements in control flow analysis and type narrowing.\nFor example, <code>unknown</code> is now narrowed just like <code>{} | null | undefined</code> in truthy branches.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">narrowUnknownishUnion</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">x</span><span style=\"color: #000000\">: {} | </span><span style=\"color: #1C6277\">null</span><span style=\"color: #000000\"> | </span><span style=\"color: #1C6277\">undefined</span><span style=\"color: #000000\">) {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #AF00DB\">if</span><span style=\"color: #000000\"> (</span><span style=\"color: #001080\">x</span><span style=\"color: #000000\">) {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #001080\">x</span><span style=\"color: #000000\">;  </span><span style=\"color: #008000\">// {}</span></div><div class='line'><span style=\"color: #000000\">    }</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #AF00DB\">else</span><span style=\"color: #000000\"> {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #001080\">x</span><span style=\"color: #000000\">;  </span><span style=\"color: #008000\">// {} | null | undefined</span></div><div class='line'><span style=\"color: #000000\">    }</span></div><div class='line'><span style=\"color: #000000\">}</span></div><div class='line'></div><div class='line'><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">narrowUnknown</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">x</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">unknown</span><span style=\"color: #000000\">) {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #AF00DB\">if</span><span style=\"color: #000000\"> (</span><span style=\"color: #001080\">x</span><span style=\"color: #000000\">) {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #001080\">x</span><span style=\"color: #000000\">;  </span><span style=\"color: #008000\">// used to be 'unknown', now '{}'</span></div><div class='line'><span style=\"color: #000000\">    }</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #AF00DB\">else</span><span style=\"color: #000000\"> {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #001080\">x</span><span style=\"color: #000000\">;  </span><span style=\"color: #008000\">// unknown</span></div><div class='line'><span style=\"color: #000000\">    }</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p>Generic values also get narrowed similarly.\nWhen checking that a value isn’t <code>null</code> or <code>undefined</code>, TypeScript now just intersects it with <code>{}</code> - which again, is the same as saying it’s <code>NonNullable</code>.\nPutting many of the changes here together, we can now define the following function without any type assertions.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">throwIfNullable</span><span style=\"color: #000000\">&lt;</span><span style=\"color: #1C6277\">T</span><span style=\"color: #000000\">&gt;(</span><span style=\"color: #001080\">value</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">T</span><span style=\"color: #000000\">): </span><span style=\"color: #1C6277\">NonNullable</span><span style=\"color: #000000\">&lt;</span><span style=\"color: #1C6277\">T</span><span style=\"color: #000000\">&gt; {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #AF00DB\">if</span><span style=\"color: #000000\"> (</span><span style=\"color: #001080\">value</span><span style=\"color: #000000\"> === </span><span style=\"color: #0000FF\">undefined</span><span style=\"color: #000000\"> || </span><span style=\"color: #001080\">value</span><span style=\"color: #000000\"> === </span><span style=\"color: #0000FF\">null</span><span style=\"color: #000000\">) {</span></div><div class='line'><span style=\"color: #000000\">        </span><span style=\"color: #AF00DB\">throw</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">Error</span><span style=\"color: #000000\">(</span><span style=\"color: #A31515\">\"Nullable value!\"</span><span style=\"color: #000000\">);</span></div><div class='line'><span style=\"color: #000000\">    }</span></div><div class='line'></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #008000\">// Used to fail because 'T' was not assignable to 'NonNullable&lt;T&gt;'.</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #008000\">// Now narrows to 'T & {}' and succeeds because that's just 'NonNullable&lt;T&gt;'.</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #AF00DB\">return</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">value</span><span style=\"color: #000000\">;</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p><code>value</code> now gets narrowed to <code>T &#x26; {}</code>, and is now identical with <code>NonNullable&#x3C;T></code> - so the body of the function just works with no TypeScript-specific syntax.</p>\n<p>On their own, these changes may appear small - but they represent fixes for many many paper cuts that have been reported over several years.</p>\n<p>For more specifics on these improvements, you can <a href=\"https://github.com/microsoft/TypeScript/pull/49119\">read more here</a>.</p>\n<h2 id=\"improved-inference-for-infer-types-in-template-string-types\" style=\"position:relative;\"><a href=\"#improved-inference-for-infer-types-in-template-string-types\" aria-label=\"improved inference for infer types in template string types permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Improved Inference for <code>infer</code> Types in Template String Types</h2>\n<p>TypeScript recently introduced a way to add <code>extends</code> constraints to <code>infer</code> type variables in conditional types.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #008000\">// Grabs the first element of a tuple if it's assignable to 'number',</span></div><div class='line'><span style=\"color: #008000\">// and returns 'never' if it can't find one.</span></div><div class='line'><span style=\"color: #0000FF\">type</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">TryGetNumberIfFirst</span><span style=\"color: #000000\">&lt;</span><span style=\"color: #1C6277\">T</span><span style=\"color: #000000\">&gt; =</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #1C6277\">T</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">extends</span><span style=\"color: #000000\"> [</span><span style=\"color: #0000FF\">infer</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">U</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">extends</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">number</span><span style=\"color: #000000\">, ...</span><span style=\"color: #1C6277\">unknown</span><span style=\"color: #000000\">[]] ? </span><span style=\"color: #1C6277\">U</span><span style=\"color: #000000\"> : </span><span style=\"color: #1C6277\">never</span><span style=\"color: #000000\">;</span></div></code></div></pre>\n<p>If these <code>infer</code> types appear in a template string type and are constrained to a primitive type, TypeScript will now try to parse out a literal type.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #008000\">// SomeNum used to be 'number'; now it's '100'.</span></div><div class='line'><span style=\"color: #0000FF\">type</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">SomeNum</span><span style=\"color: #000000\"> = </span><span style=\"color: #A31515\">\"100\"</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">extends</span><span style=\"color: #000000\"> </span><span style=\"color: #A31515\">`</span><span style=\"color: #0000FF\">${</span><span style=\"color: #0000FF\">infer</span><span style=\"color: #000000FF\"> </span><span style=\"color: #1C6277\">U</span><span style=\"color: #000000FF\"> </span><span style=\"color: #0000FF\">extends</span><span style=\"color: #000000FF\"> </span><span style=\"color: #1C6277\">number</span><span style=\"color: #000000FF\">}</span><span style=\"color: #A31515\">` ? U : never;</span></div><div class='line'></div><div class='line'><span style=\"color: #A31515\">// SomeBigInt used to be 'bigint'; now it's '100n'.</span></div><div class='line'><span style=\"color: #A31515\">type SomeBigInt = \"100\" extends `</span><span style=\"color: #1C6277\">$</span><span style=\"color: #000000FF\">{</span><span style=\"color: #0000FF\">infer</span><span style=\"color: #000000FF\"> </span><span style=\"color: #1C6277\">U</span><span style=\"color: #000000FF\"> </span><span style=\"color: #0000FF\">extends</span><span style=\"color: #000000FF\"> </span><span style=\"color: #1C6277\">bigint</span><span style=\"color: #000000FF\">}</span><span style=\"color: #A31515\">` ? U : never;</span></div><div class='line'></div><div class='line'><span style=\"color: #A31515\">// SomeBool used to be 'boolean'; now it's 'true'.</span></div><div class='line'><span style=\"color: #A31515\">type SomeBool = \"true\" extends `</span><span style=\"color: #1C6277\">$</span><span style=\"color: #000000FF\">{</span><span style=\"color: #0000FF\">infer</span><span style=\"color: #000000FF\"> </span><span style=\"color: #1C6277\">U</span><span style=\"color: #000000FF\"> </span><span style=\"color: #0000FF\">extends</span><span style=\"color: #000000FF\"> </span><span style=\"color: #1C6277\">boolean</span><span style=\"color: #000000FF\">}</span><span style=\"color: #A31515\">` ? U : never;</span></div></code></div></pre>\n<p>This can now better convey what a library will do at runtime, and give more precise types.</p>\n<p>One note on this is that when TypeScript parses these literal types out it will greedily try to parse out as much of what looks like of the appropriate primitive type;\nhowever it then checks to see if the print-back of that primitive matches up with the string contents.\nIn other words, TypeScript checks whether the going from the string, to the primitive, and back matches.\nIf it doesn’t see that the string can be “round-tripped”, then it will fall back to the base primitive type.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #008000\">// JustNumber is `number` here because TypeScript parses out `\"1.0\"`, but `String(Number(\"1.0\"))` is `\"1\"` and doesn't match.</span></div><div class='line'><span style=\"color: #0000FF\">type</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">JustNumber</span><span style=\"color: #000000\"> = </span><span style=\"color: #A31515\">\"1.0\"</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">extends</span><span style=\"color: #000000\"> </span><span style=\"color: #A31515\">`</span><span style=\"color: #0000FF\">${</span><span style=\"color: #0000FF\">infer</span><span style=\"color: #000000FF\"> </span><span style=\"color: #1C6277\">T</span><span style=\"color: #000000FF\"> </span><span style=\"color: #0000FF\">extends</span><span style=\"color: #000000FF\"> </span><span style=\"color: #1C6277\">number</span><span style=\"color: #000000FF\">}</span><span style=\"color: #A31515\">` ? T : never; </span></div></code></div></pre>\n<p>You can <a href=\"https://github.com/microsoft/TypeScript/pull/48094\">see more about this feature here</a>.</p>\n<h2 id=\"--build---watch-and---incremental-performance-improvements\" style=\"position:relative;\"><a href=\"#--build---watch-and---incremental-performance-improvements\" aria-label=\"  build   watch and   incremental performance improvements permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code>--build</code>, <code>--watch</code>, and <code>--incremental</code> Performance Improvements</h2>\n<p>TypeScript 4.8 introduces several optimizations that should speed up scenarios around <code>--watch</code> and <code>--incremental</code>, along with project references builds using <code>--build</code>.\nFor example, TypeScript is now able to avoid spending time updating timestamps during no-op changes in <code>--watch</code> mode, which makes rebuilds faster and avoids messing with other build tools that might be watching for TypeScript’s output.\nMany other optimizations where we’re able to reuse information across <code>--build</code>, <code>--watch</code>, and <code>--incremental</code> have been introduced as well.</p>\n<p>How big are these improvements?\nWell, on a fairly large internal codebase, we’ve seen time reductions on the order of 10%-25% on many simple common operations, with around 40% time reductions in no-change scenarios.\nWe’ve seen similar results on the TypeScript codebase as well.</p>\n<p>You can see <a href=\"https://github.com/microsoft/TypeScript/pull/48784\">the changes, along with the performance results on GitHub</a>.</p>\n<h2 id=\"errors-when-comparing-object-and-array-literals\" style=\"position:relative;\"><a href=\"#errors-when-comparing-object-and-array-literals\" aria-label=\"errors when comparing object and array literals permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Errors When Comparing Object and Array Literals</h2>\n<p>In many languages, operators like <code>==</code> perform what’s called “value” equality on objects.\nFor example, in Python it’s valid to check whether a list is empty by checking whether a value is equal to the empty list using <code>==</code>.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">py</div><div class='code-container'><code><div class='line'><span style=\"color: #AF00DB\">if</span><span style=\"color: #000000\"> people_at_home == []:</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #795E26\">print</span><span style=\"color: #000000\">(</span><span style=\"color: #A31515\">\"here's where I lie, broken inside. &lt;/3\"</span><span style=\"color: #000000\">)</span></div><div class='line'><span style=\"color: #000000\">    adopt_animals()</span></div></code></div></pre>\n<p>This is not the case in JavaScript, where <code>==</code> and <code>===</code> between objects (and therefore, arrays) check whether both references point to the same value.\nWe believe that similar code in JavaScript is at best an early foot-gun for JavaScript developers, and at worst a bug in production code.\nThat’s why TypeScript now disallows code like the following.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #AF00DB\">if</span><span style=\"color: #000000\"> (</span><span style=\"color: #001080\">peopleAtHome</span><span style=\"color: #000000\"> === []) {</span></div><div class='line'><span style=\"color: #008000\">//  ~~~~~~~~~~~~~~~~~~~</span></div><div class='line'><span style=\"color: #008000\">// This condition will always return 'false' since JavaScript compares objects by reference, not value.</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #001080\">console</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">log</span><span style=\"color: #000000\">(</span><span style=\"color: #A31515\">\"here's where I lie, broken inside. &lt;/3\"</span><span style=\"color: #000000\">)</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #795E26\">adoptAnimals</span><span style=\"color: #000000\">();</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p>We’d like to extend our gratitude to <a href=\"https://github.com/Jack-Works\">Jack Works</a> who contributed this check.\nYou can <a href=\"https://github.com/microsoft/TypeScript/pull/45978\">view the changes involved here</a>.</p>\n<h2 id=\"improved-inference-from-binding-patterns\" style=\"position:relative;\"><a href=\"#improved-inference-from-binding-patterns\" aria-label=\"improved inference from binding patterns permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Improved Inference from Binding Patterns</h2>\n<p>In some cases, TypeScript will pick up a type from a binding pattern to make better inferences.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">declare</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">chooseRandomly</span><span style=\"color: #000000\">&lt;</span><span style=\"color: #1C6277\">T</span><span style=\"color: #000000\">&gt;(</span><span style=\"color: #001080\">x</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">T</span><span style=\"color: #000000\">, </span><span style=\"color: #001080\">y</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">T</span><span style=\"color: #000000\">): </span><span style=\"color: #1C6277\">T</span><span style=\"color: #000000\">;</span></div><div class='line'></div><div class='line'><span style=\"color: #0000FF\">let</span><span style=\"color: #000000\"> [</span><span style=\"color: #001080\">a</span><span style=\"color: #000000\">, </span><span style=\"color: #001080\">b</span><span style=\"color: #000000\">, </span><span style=\"color: #001080\">c</span><span style=\"color: #000000\">] = </span><span style=\"color: #795E26\">chooseRandomly</span><span style=\"color: #000000\">([</span><span style=\"color: #098658\">42</span><span style=\"color: #000000\">, </span><span style=\"color: #0000FF\">true</span><span style=\"color: #000000\">, </span><span style=\"color: #A31515\">\"hi!\"</span><span style=\"color: #000000\">], [</span><span style=\"color: #098658\">0</span><span style=\"color: #000000\">, </span><span style=\"color: #0000FF\">false</span><span style=\"color: #000000\">, </span><span style=\"color: #A31515\">\"bye!\"</span><span style=\"color: #000000\">]);</span></div><div class='line'><span style=\"color: #008000\">//   ^  ^  ^</span></div><div class='line'><span style=\"color: #008000\">//   |  |  |</span></div><div class='line'><span style=\"color: #008000\">//   |  |  string</span></div><div class='line'><span style=\"color: #008000\">//   |  |</span></div><div class='line'><span style=\"color: #008000\">//   |  boolean</span></div><div class='line'><span style=\"color: #008000\">//   |</span></div><div class='line'><span style=\"color: #008000\">//   number</span></div></code></div></pre>\n<p>When <code>chooseRandomly</code> needs to figure out a type for <code>T</code>, it will primarily look at <code>[42, true, \"hi!\"]</code> and <code>[0, false, \"bye!\"]</code>;\nbut TypeScript needs to figure out whether those two types should be <code>Array&#x3C;number | boolean | string></code> or the tuple type <code>[number, boolean, string]</code>.\nTo do that, it will look for existing candidates as a hint to see whether there are any tuple types.\nWhen TypeScript sees the binding pattern <code>[a, b, c]</code>, it creates the type <code>[any, any, any]</code>, and that type gets picked up as a low-priority candidate for <code>T</code> which also gets used as a hint for the types of <code>[42, true, \"hi!\"]</code> and <code>[0, false, \"bye!\"]</code>.</p>\n<p>You can see how this was good for <code>chooseRandomly</code>, but it fell short in other cases.\nFor example, take the following code</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">declare</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">f</span><span style=\"color: #000000\">&lt;</span><span style=\"color: #1C6277\">T</span><span style=\"color: #000000\">&gt;(</span><span style=\"color: #001080\">x</span><span style=\"color: #000000\">?: </span><span style=\"color: #1C6277\">T</span><span style=\"color: #000000\">): </span><span style=\"color: #1C6277\">T</span><span style=\"color: #000000\">;</span></div><div class='line'></div><div class='line'><span style=\"color: #0000FF\">let</span><span style=\"color: #000000\"> [</span><span style=\"color: #001080\">x</span><span style=\"color: #000000\">, </span><span style=\"color: #001080\">y</span><span style=\"color: #000000\">, </span><span style=\"color: #001080\">z</span><span style=\"color: #000000\">] = </span><span style=\"color: #795E26\">f</span><span style=\"color: #000000\">();</span></div></code></div></pre>\n<p>The binding pattern <code>[x, y, z]</code> hinted that <code>f</code> should produce an <code>[any, any, any]</code> tuple;\nbut <code>f</code> really shouldn’t change its type argument based on a binding pattern.\nIt can’t suddenly conjure up a new array-like value based on what it’s being assigned to, so the binding pattern type has way too much influence on the produced type.\nOn top of that, because the binding pattern type is full of <code>any</code>s, we’re left with <code>x</code>, <code>y</code>, and <code>z</code> being typed as <code>any</code>.</p>\n<p>In TypeScript 4.8, these binding patterns are never used as candidates for type arguments.\nInstead, they’re just consulted in case a parameter needs a more specific type like in our <code>chooseRandomly</code> example.\nIf you need to revert to the old behavior, you can always provide explicit type arguments.</p>\n<p>You can <a href=\"https://github.com/microsoft/TypeScript/pull/49086\">look at the change on GitHub</a> if you’re curious to learn more.</p>\n<h2 id=\"file-watching-fixes-especially-across-git-checkouts\" style=\"position:relative;\"><a href=\"#file-watching-fixes-especially-across-git-checkouts\" aria-label=\"file watching fixes especially across git checkouts permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>File-Watching Fixes (Especially Across <code>git checkout</code>s)</h2>\n<p>We’ve had a long-standing bug where TypeScript has a very hard time with certain file changes in <code>--watch</code> mode and editor scenarios.\nSometimes the symptoms are stale or inaccurate errors that might show up that require restarting <code>tsc</code> or VS Code.\nFrequently these occur on Unix systems, and you might have seen these after saving a file with vim or swapping branches in git.</p>\n<p>This was caused by assumptions of how Node.js handles rename events across file systems.\nFile systems used by Linux and macOS utilize <a href=\"https://en.wikipedia.org/wiki/Inode\">inodes</a>, and <a href=\"https://nodejs.org/api/fs.html#inodes\">Node.js will attach file watchers to inodes rather than file paths</a>.\nSo when Node.js returns <a href=\"https://nodejs.org/api/fs.html#class-fsfswatcher\">a watcher object</a>, it might be watching a path or an inode depending on the platform and file system.</p>\n<p>To be a bit more efficient, TypeScript tries to reuse the same watcher objects if it detects a path still exists on disk.\nThis is where things went wrong, because even if a file still exists at that path, a distinct file might have been created, and that file will have a different inode.\nSo TypeScript would end up reusing the watcher object instead of installing a new watcher at the original location, and watch for changes at what might be a totally irrelevant file.\nSo TypeScript 4.8 now handles these cases on inode systems and properly installs a new watcher and fixes this.</p>\n<p>We’d like to extend our thanks to <a href=\"https://github.com/MarcCelani-at\">Marc Celani</a> and his team at Airtable who invested lots of time in investigating the issues they were experiencing and pointing out the root cause.\nYou can view <a href=\"https://github.com/microsoft/TypeScript/pull/48997\">the specific fixes around file-watching here</a>.</p>\n<h2 id=\"find-all-references-performance-improvements\" style=\"position:relative;\"><a href=\"#find-all-references-performance-improvements\" aria-label=\"find all references performance improvements permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Find-All-References Performance Improvements</h2>\n<p>When running find-all-references in your editor, TypeScript is now able to act a little smarter as it aggregates references.\nThis reduced the amount of time TypeScript took to search a widely-used identifier in its own codebase by about 20%.</p>\n<p><a href=\"https://github.com/microsoft/TypeScript/pull/49581\">You can read up more on the improvement here</a>.</p>\n<h2 id=\"exclude-specific-files-from-auto-imports\" style=\"position:relative;\"><a href=\"#exclude-specific-files-from-auto-imports\" aria-label=\"exclude specific files from auto imports permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Exclude Specific Files from Auto-Imports</h2>\n<p>TypeScript 4.8 introduces an editor preference for excluding files from auto-imports.\nIn Visual Studio Code, file names or globs can be added under “Auto Import File Exclude Patterns” in the Settings UI, or in a <code>.vscode/settings.json</code> file:</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">jsonc</div><div class='code-container'><code><div class='line'><span style=\"color: #000000\">{</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #008000\">// Note that `javascript.preferences.autoImportFileExcludePatterns` can be specified for JavaScript too.</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #0451A5\">\"typescript.preferences.autoImportFileExcludePatterns\"</span><span style=\"color: #000000\">: [</span></div><div class='line'><span style=\"color: #000000\">      </span><span style=\"color: #A31515\">\"**/node_modules/@types/node\"</span></div><div class='line'><span style=\"color: #000000\">    ]</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p>This can be useful in cases where you can’t avoid having certain modules or libraries in your compilation but you rarely want to import from them.\nThese modules might have lots of exports that can pollute the auto-imports list and make it harder to navigate, and this option can help in those situations.</p>\n<p>You can <a href=\"https://github.com/microsoft/TypeScript/pull/49578\">see more specifics about the implementation here</a>.</p>\n<h2 id=\"correctness-fixes-and-breaking-changes\" style=\"position:relative;\"><a href=\"#correctness-fixes-and-breaking-changes\" aria-label=\"correctness fixes and breaking changes permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Correctness Fixes and Breaking Changes</h2>\n<p>Due to the nature of type system changes, there are very few changes that can be made that don’t affect <em>some</em> code;\nhowever, there are a few changes that are more likely to require adapting existing code.</p>\n<h3 id=\"libdts-updates\" style=\"position:relative;\"><a href=\"#libdts-updates\" aria-label=\"libdts updates permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code>lib.d.ts</code> Updates</h3>\n<p>While TypeScript strives to avoid major breaks, even small changes in the built-in libraries can cause issues.\nWe don’t expect major breaks as a result of DOM and <code>lib.d.ts</code> updates, but one notable change is that the <code>cause</code> property on <code>Error</code>s now has the type <code>unknown</code> instead of <code>Error</code>.</p>\n<h3 id=\"unconstrained-generics-no-longer-assignable-to-\" style=\"position:relative;\"><a href=\"#unconstrained-generics-no-longer-assignable-to-\" aria-label=\"unconstrained generics no longer assignable to  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Unconstrained Generics No Longer Assignable to <code>{}</code></h3>\n<p>In TypeScript 4.8, for projects with <code>strictNullChecks</code> enabled, TypeScript will now correctly issue an error when an unconstrained type parameter is used in a position where <code>null</code> or <code>undefined</code> are not legal values.\nThat will include any type that expects <code>{}</code>, <code>object</code>, or an object type with all-optional properties.</p>\n<p>A simple example can be seen in the following.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #008000\">// Accepts any non-null non-undefined value</span></div><div class='line'><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">bar</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">value</span><span style=\"color: #000000\">: {}) {</span></div><div class='line'><span style=\"color: #000000\">  </span><span style=\"color: #1C6277\">Object</span><span style=\"color: #000000\">.</span><span style=\"color: #795E26\">keys</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">value</span><span style=\"color: #000000\">); </span><span style=\"color: #008000\">// This call throws on null/undefined at runtime.</span></div><div class='line'><span style=\"color: #000000\">}</span></div><div class='line'></div><div class='line'><span style=\"color: #008000\">// Unconstrained type parameter T...</span></div><div class='line'><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">foo</span><span style=\"color: #000000\">&lt;</span><span style=\"color: #1C6277\">T</span><span style=\"color: #000000\">&gt;(</span><span style=\"color: #001080\">x</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">T</span><span style=\"color: #000000\">) {</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #795E26\">bar</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">x</span><span style=\"color: #000000\">); </span><span style=\"color: #008000\">// Used to be allowed, now is an error in 4.8.</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #008000\">//  ~</span></div><div class='line'><span style=\"color: #000000\">    </span><span style=\"color: #008000\">// error: Argument of type 'T' is not assignable to parameter of type '{}'.</span></div><div class='line'><span style=\"color: #000000\">}</span></div><div class='line'></div><div class='line'><span style=\"color: #795E26\">foo</span><span style=\"color: #000000\">(</span><span style=\"color: #0000FF\">undefined</span><span style=\"color: #000000\">);</span></div></code></div></pre>\n<p>As demonstrated above, code like this has a potential bug - the values <code>null</code> and <code>undefined</code> can be indirectly passed through these unconstrained type parameters to code that is not supposed to observe those values.</p>\n<p>This behavior will also be visible in type positions. One example would be:</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">interface</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">Foo</span><span style=\"color: #000000\">&lt;</span><span style=\"color: #1C6277\">T</span><span style=\"color: #000000\">&gt; {</span></div><div class='line'><span style=\"color: #000000\">  </span><span style=\"color: #001080\">x</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">Bar</span><span style=\"color: #000000\">&lt;</span><span style=\"color: #1C6277\">T</span><span style=\"color: #000000\">&gt;;</span></div><div class='line'><span style=\"color: #000000\">}</span></div><div class='line'></div><div class='line'><span style=\"color: #0000FF\">interface</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">Bar</span><span style=\"color: #000000\">&lt;</span><span style=\"color: #1C6277\">T</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">extends</span><span style=\"color: #000000\"> {}&gt; { }</span></div></code></div></pre>\n<p>Existing code that didn’t want to handle <code>null</code> and <code>undefined</code> can be fixed by propagating the appropriate constraints through.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">diff</div><div class='code-container'><code><div class='line'><span style=\"color: #A31515\">- function foo&lt;T&gt;(x: T) {</span></div><div class='line'><span style=\"color: #098658\">+ function foo&lt;T extends {}&gt;(x: T) {</span></div></code></div></pre>\n<p>Another work-around would be to check for <code>null</code> and <code>undefined</code> at runtime.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">diff</div><div class='code-container'><code><div class='line'><span style=\"color: #000000\">  function foo&lt;T&gt;(x: T) {</span></div><div class='line'><span style=\"color: #098658\">+     if (x !== null && x !== undefined) {</span></div><div class='line'><span style=\"color: #000000\">          bar(x);</span></div><div class='line'><span style=\"color: #098658\">+     }</span></div><div class='line'><span style=\"color: #000000\">  }</span></div></code></div></pre>\n<p>And if you know that for some reason, your generic value can’t be <code>null</code> or <code>undefined</code>, you can just use a non-null assertion.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">diff</div><div class='code-container'><code><div class='line'><span style=\"color: #000000\">  function foo&lt;T&gt;(x: T) {</span></div><div class='line'><span style=\"color: #A31515\">-     bar(x);</span></div><div class='line'><span style=\"color: #098658\">+     bar(x!);</span></div><div class='line'><span style=\"color: #000000\">  }</span></div></code></div></pre>\n<p>When it comes to types, you’ll often either need to propagate constraints, or intersect your types with <code>{}</code>.</p>\n<p>For more information, you can <a href=\"https://github.com/microsoft/TypeScript/pull/49119\">see the change that introduced this</a> along with <a href=\"https://github.com/microsoft/TypeScript/issues/49489\">the specific discussion issue regarding how unconstrained generics now work</a>.</p>\n<h3 id=\"decorators-are-placed-on-modifiers-on-typescripts-syntax-trees\" style=\"position:relative;\"><a href=\"#decorators-are-placed-on-modifiers-on-typescripts-syntax-trees\" aria-label=\"decorators are placed on modifiers on typescripts syntax trees permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Decorators are placed on <code>modifiers</code> on TypeScript’s Syntax Trees</h3>\n<p>The current direction of decorators in TC39 means that TypeScript will have to handle a break in terms of placement of decorators.\nPreviously, TypeScript assumed decorators would always be placed prior to all keywords/modifiers.\nFor example</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #000000\">@</span><span style=\"color: #001080\">decorator</span></div><div class='line'><span style=\"color: #AF00DB\">export</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">class</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">Foo</span><span style=\"color: #000000\"> {</span></div><div class='line'><span style=\"color: #000000\">  </span><span style=\"color: #008000\">// ...</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p>Decorators as currently proposed do not support this syntax.\nInstead, the <code>export</code> keyword must precede the decorator.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">export</span><span style=\"color: #000000\"> @</span><span style=\"color: #001080\">decorator</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">class</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">Foo</span><span style=\"color: #000000\"> {</span></div><div class='line'><span style=\"color: #000000\">  </span><span style=\"color: #008000\">// ...</span></div><div class='line'><span style=\"color: #000000\">}</span></div></code></div></pre>\n<p>Unfortunately, TypeScript’s trees are <em>concrete</em> rather than <em>abstract</em>, and our architecture expects syntax tree node fields to be entirely ordered before or after each other.\nTo support both legacy decorators and decorators as proposed, TypeScript will have to gracefully parse, and intersperse, modifiers and decorators.</p>\n<p>To do this, it exposes a new type alias called <code>ModifierLike</code> which is a <code>Modifier</code> or a <code>Decorator</code>.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #AF00DB\">export</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">type</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">ModifierLike</span><span style=\"color: #000000\"> = </span><span style=\"color: #1C6277\">Modifier</span><span style=\"color: #000000\"> | </span><span style=\"color: #1C6277\">Decorator</span><span style=\"color: #000000\">;</span></div></code></div></pre>\n<p>Decorators are now placed in the same field as <code>modifiers</code> which is now a <code>NodeArray&#x3C;ModifierLike></code> when set, and the entire field is deprecated.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">diff</div><div class='code-container'><code><div class='line'><span style=\"color: #A31515\">- readonly modifiers?: NodeArray&lt;Modifier&gt; | undefined;</span></div><div class='line'><span style=\"color: #098658\">+ /**</span></div><div class='line'><span style=\"color: #098658\">+  * @deprecated ...</span></div><div class='line'><span style=\"color: #098658\">+  * Use `ts.canHaveModifiers()` to test whether a `Node` can have modifiers.</span></div><div class='line'><span style=\"color: #098658\">+  * Use `ts.getModifiers()` to get the modifiers of a `Node`.</span></div><div class='line'><span style=\"color: #098658\">+  * ...</span></div><div class='line'><span style=\"color: #098658\">+  */</span></div><div class='line'><span style=\"color: #098658\">+ readonly modifiers?: NodeArray&lt;ModifierLike&gt; | undefined;</span></div></code></div></pre>\n<p>All existing <code>decorators</code> properties have been marked as deprecated and will always be <code>undefined</code> if read.\nThe type has also been changed to <code>undefined</code> so that existing tools know to handle them correctly.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">diff</div><div class='code-container'><code><div class='line'><span style=\"color: #A31515\">- readonly decorators?: NodeArray&lt;Decorator&gt; | undefined;</span></div><div class='line'><span style=\"color: #098658\">+ /**</span></div><div class='line'><span style=\"color: #098658\">+  * @deprecated ...</span></div><div class='line'><span style=\"color: #098658\">+  * Use `ts.canHaveDecorators()` to test whether a `Node` can have decorators.</span></div><div class='line'><span style=\"color: #098658\">+  * Use `ts.getDecorators()` to get the decorators of a `Node`.</span></div><div class='line'><span style=\"color: #098658\">+  * ...</span></div><div class='line'><span style=\"color: #098658\">+  */</span></div><div class='line'><span style=\"color: #098658\">+ readonly decorators?: undefined;</span></div></code></div></pre>\n<p>To avoid new deprecation warnings and other issues, TypeScript now exposes four new functions to use in place of the <code>decorators</code> and <code>modifiers</code> properties.\nThere are individual predicates for testing whether a node has support modifiers and decorators, along with respective accessor functions for grabbing them.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">canHaveModifiers</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">node</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">Node</span><span style=\"color: #000000\">): </span><span style=\"color: #001080\">node</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">is</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">HasModifiers</span><span style=\"color: #000000\">;</span></div><div class='line'><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">getModifiers</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">node</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">HasModifiers</span><span style=\"color: #000000\">): </span><span style=\"color: #0000FF\">readonly</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">Modifier</span><span style=\"color: #000000\">[] | </span><span style=\"color: #1C6277\">undefined</span><span style=\"color: #000000\">;</span></div><div class='line'></div><div class='line'><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">canHaveDecorators</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">node</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">Node</span><span style=\"color: #000000\">): </span><span style=\"color: #001080\">node</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">is</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">HasDecorators</span><span style=\"color: #000000\">;</span></div><div class='line'><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">getDecorators</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">node</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">HasDecorators</span><span style=\"color: #000000\">): </span><span style=\"color: #0000FF\">readonly</span><span style=\"color: #000000\"> </span><span style=\"color: #1C6277\">Decorator</span><span style=\"color: #000000\">[] | </span><span style=\"color: #1C6277\">undefined</span><span style=\"color: #000000\">;</span></div></code></div></pre>\n<p>As an example of how to access modifiers off of a node, you can write</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">const</span><span style=\"color: #000000\"> </span><span style=\"color: #0070C1\">modifiers</span><span style=\"color: #000000\"> = </span><span style=\"color: #795E26\">canHaveModifiers</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">myNode</span><span style=\"color: #000000\">) ? </span><span style=\"color: #795E26\">getModifiers</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">myNode</span><span style=\"color: #000000\">) : </span><span style=\"color: #0000FF\">undefined</span><span style=\"color: #000000\">;</span></div></code></div></pre>\n<p>With the note that each call to <code>getModifiers</code> and <code>getDecorators</code> may allocate a new array.</p>\n<p>For more information, see changes around</p>\n<ul>\n<li><a href=\"https://github.com/microsoft/TypeScript/pull/49089\">the restructuring of our tree nodes</a></li>\n<li><a href=\"https://github.com/microsoft/TypeScript/pull/50343\">the deprecations</a></li>\n<li><a href=\"https://github.com/microsoft/TypeScript/pull/50399\">exposing the predicate functions</a></li>\n</ul>\n<h3 id=\"types-cannot-be-importedexported-in-javascript-files\" style=\"position:relative;\"><a href=\"#types-cannot-be-importedexported-in-javascript-files\" aria-label=\"types cannot be importedexported in javascript files permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Types Cannot Be Imported/Exported in JavaScript Files</h3>\n<p>TypeScript previously allowed JavaScript files to import and export entities declared with a type, but no value, in <code>import</code> and <code>export</code> statements.\nThis behavior was incorrect, because named imports and exports for values that don’t exist will cause a runtime error under ECMAScript modules.\nWhen a JavaScript file is type-checked under <code>--checkJs</code> or through a <code>// @ts-check</code> comment, TypeScript will now issue an error.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #008000\">// @ts-check</span></div><div class='line'></div><div class='line'><span style=\"color: #008000\">// Will fail at runtime because 'SomeType' is not a value.</span></div><div class='line'><span style=\"color: #AF00DB\">import</span><span style=\"color: #000000\"> { </span><span style=\"color: #001080\">someValue</span><span style=\"color: #000000\">, </span><span style=\"color: #001080\">SomeType</span><span style=\"color: #000000\"> } </span><span style=\"color: #AF00DB\">from</span><span style=\"color: #000000\"> </span><span style=\"color: #A31515\">\"some-module\"</span><span style=\"color: #000000\">;</span></div><div class='line'></div><div class='line'><span style=\"color: #008000\">/**</span></div><div class='line'><span style=\"color: #008000\"> * </span><span style=\"color: #0000FF\">@type</span><span style=\"color: #008000\"> </span><span style=\"color: #1C6277\">{SomeType}</span></div><div class='line'><span style=\"color: #008000\"> */</span></div><div class='line'><span style=\"color: #AF00DB\">export</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">const</span><span style=\"color: #000000\"> </span><span style=\"color: #0070C1\">myValue</span><span style=\"color: #000000\"> = </span><span style=\"color: #001080\">someValue</span><span style=\"color: #000000\">;</span></div><div class='line'></div><div class='line'><span style=\"color: #008000\">/**</span></div><div class='line'><span style=\"color: #008000\"> * </span><span style=\"color: #0000FF\">@typedef</span><span style=\"color: #008000\"> </span><span style=\"color: #1C6277\">{string | number}</span><span style=\"color: #008000\"> </span><span style=\"color: #1C6277\">MyType</span></div><div class='line'><span style=\"color: #008000\"> */</span></div><div class='line'></div><div class='line'><span style=\"color: #008000\">// Will fail at runtime because 'MyType' is not a value.</span></div><div class='line'><span style=\"color: #AF00DB\">export</span><span style=\"color: #000000\"> { </span><span style=\"color: #001080\">MyType</span><span style=\"color: #000000\"> </span><span style=\"color: #AF00DB\">as</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">MyExportedType</span><span style=\"color: #000000\"> };</span></div></code></div></pre>\n<p>To reference a type from another module, you can instead directly qualify the import.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">diff</div><div class='code-container'><code><div class='line'><span style=\"color: #A31515\">- import { someValue, SomeType } from \"some-module\";</span></div><div class='line'><span style=\"color: #098658\">+ import { someValue } from \"some-module\";</span></div><div class='line'><span style=\"color: #000000\">  </span></div><div class='line'><span style=\"color: #000000\">  /**</span></div><div class='line'><span style=\"color: #A31515\">-  * @type {SomeType}</span></div><div class='line'><span style=\"color: #098658\">+  * @type {import(\"some-module\").SomeType}</span></div><div class='line'><span style=\"color: #000000\">   */</span></div><div class='line'><span style=\"color: #000000\">  export const myValue = someValue;</span></div></code></div></pre>\n<p>To export a type, you can just use a <code>/** @typedef */</code> comment in JSDoc.\n<code>@typedef</code> comments already automatically export types from their containing modules.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">diff</div><div class='code-container'><code><div class='line'><span style=\"color: #000000\">  /**</span></div><div class='line'><span style=\"color: #000000\">   * @typedef {string | number} MyType</span></div><div class='line'><span style=\"color: #000000\">   */</span></div><div class='line'></div><div class='line'><span style=\"color: #098658\">+ /**</span></div><div class='line'><span style=\"color: #098658\">+  * @typedef {MyType} MyExportedType</span></div><div class='line'><span style=\"color: #098658\">+  */</span></div><div class='line'><span style=\"color: #A31515\">- export { MyType as MyExportedType };</span></div></code></div></pre>\n<p>You can <a href=\"https://github.com/microsoft/TypeScript/pull/49580\">read more about the change here</a>.</p>\n<h3 id=\"binding-patterns-do-not-directly-contribute-to-inference-candidates\" style=\"position:relative;\"><a href=\"#binding-patterns-do-not-directly-contribute-to-inference-candidates\" aria-label=\"binding patterns do not directly contribute to inference candidates permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Binding Patterns Do Not Directly Contribute to Inference Candidates</h3>\n<p>As mentioned above, binding patterns no longer change the type of inference results in function calls.\nYou can <a href=\"https://github.com/microsoft/TypeScript/pull/49086\">read more about the original change here</a>.</p>\n<h3 id=\"unused-renames-in-binding-patterns-are-now-errors-in-type-signatures\" style=\"position:relative;\"><a href=\"#unused-renames-in-binding-patterns-are-now-errors-in-type-signatures\" aria-label=\"unused renames in binding patterns are now errors in type signatures permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Unused Renames in Binding Patterns are Now Errors in Type Signatures</h3>\n<p>TypeScript’s type annotation syntax often looks like it can be used when destructuring values.\nFor example, take the following function.</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">declare</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">makePerson</span><span style=\"color: #000000\">({ </span><span style=\"color: #001080\">name</span><span style=\"color: #000000\">: </span><span style=\"color: #001080\">string</span><span style=\"color: #000000\">, </span><span style=\"color: #001080\">age</span><span style=\"color: #000000\">: </span><span style=\"color: #001080\">number</span><span style=\"color: #000000\"> }): </span><span style=\"color: #1C6277\">Person</span><span style=\"color: #000000\">;</span></div></code></div></pre>\n<p>You might read this signature and think that <code>makePerson</code> obviously takes an object with a <code>name</code> property with the type <code>string</code> and an <code>age</code> property with the type <code>number</code>;\nhowever, JavaScript’s destructuring syntax is actually taking precedence here.\n<code>makePerson</code> does say that it’s going to take an object with a <code>name</code> and an <code>age</code> property, but instead of specifying a type for them, it’s just saying that it renames <code>name</code> and <code>age</code> to <code>string</code> and <code>number</code> respectively.</p>\n<p>In a pure type construct, writing code like this is useless, and typically a mistake since developers usually assume they’re writing a type annotation.</p>\n<p>TypeScript 4.8 makes these an error unless they’re referenced later in the signature.\nThe correct way to write the above signature would be as follows:</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0000FF\">declare</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">makePerson</span><span style=\"color: #000000\">(</span><span style=\"color: #001080\">options</span><span style=\"color: #000000\">: { </span><span style=\"color: #001080\">name</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">string</span><span style=\"color: #000000\">, </span><span style=\"color: #001080\">age</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">number</span><span style=\"color: #000000\"> }): </span><span style=\"color: #1C6277\">Person</span><span style=\"color: #000000\">;</span></div><div class='line'></div><div class='line'><span style=\"color: #008000\">// or</span></div><div class='line'></div><div class='line'><span style=\"color: #0000FF\">declare</span><span style=\"color: #000000\"> </span><span style=\"color: #0000FF\">function</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">makePerson</span><span style=\"color: #000000\">({ </span><span style=\"color: #001080\">name</span><span style=\"color: #000000\">, </span><span style=\"color: #001080\">age</span><span style=\"color: #000000\"> }: { </span><span style=\"color: #001080\">name</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">string</span><span style=\"color: #000000\">, </span><span style=\"color: #001080\">age</span><span style=\"color: #000000\">: </span><span style=\"color: #1C6277\">number</span><span style=\"color: #000000\"> }): </span><span style=\"color: #1C6277\">Person</span><span style=\"color: #000000\">;</span></div></code></div></pre>\n<p>This change can catch bugs in declarations, and has been helpful for improving existing code.\nWe’d like to extend our thanks to <a href=\"https://github.com/uhyo\">GitHub user uhyo</a> for providing this check.\n<a href=\"https://github.com/microsoft/TypeScript/pull/41044\">You can read up on the change here</a>.</p>","headings":[{"value":"Improved Intersection Reduction, Union Compatibility, and Narrowing","depth":2},{"value":"Improved Inference for infer Types in Template String Types","depth":2},{"value":"--build, --watch, and --incremental Performance Improvements","depth":2},{"value":"Errors When Comparing Object and Array Literals","depth":2},{"value":"Improved Inference from Binding Patterns","depth":2},{"value":"File-Watching Fixes (Especially Across git checkouts)","depth":2},{"value":"Find-All-References Performance Improvements","depth":2},{"value":"Exclude Specific Files from Auto-Imports","depth":2},{"value":"Correctness Fixes and Breaking Changes","depth":2},{"value":"lib.d.ts Updates","depth":3},{"value":"Unconstrained Generics No Longer Assignable to {}","depth":3},{"value":"Decorators are placed on modifiers on TypeScript’s Syntax Trees","depth":3},{"value":"Types Cannot Be Imported/Exported in JavaScript Files","depth":3},{"value":"Binding Patterns Do Not Directly Contribute to Inference Candidates","depth":3},{"value":"Unused Renames in Binding Patterns are Now Errors in Type Signatures","depth":3}],"frontmatter":{"permalink":"/docs/handbook/release-notes/typescript-4-8.html","title":"TypeScript 4.8","disable_toc":null,"handbook":null,"oneline":"TypeScript 4.8 Release Notes","preamble":null,"deprecated_by":null,"deprecation_redirects":null,"experimental":null}},"prev":null,"next":null},"pageContext":{"id":"4-typescript-4.8","slug":"/docs/handbook/release-notes/typescript-4-8.html","repoPath":"/packages/documentation/copy/en/release-notes/TypeScript 4.8.md","lang":"en","modifiedTime":"2023-02-21T11:32:56.858Z"}},"staticQueryHashes":[]}