{"componentChunkName":"component---src-templates-docs-js","path":"/docs/how-to-contribute.html","result":{"data":{"markdownRemark":{"html":"<p>React 是 Facebook 首批开源项目中的一员，开发状态保持活跃，并在 <a href=\"https://www.facebook.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">facebook.com</a> 上为我们提供了源代码。现在，我们正不断解决若干个问题以使参与贡献 React 尽可能容易和公开透明，虽然目前还差得很远。我们希望本篇文章能够解释清楚贡献的流程，回答你可能会有的一些问题。</p>\n<h3 id=\"code-of-conduct\"><a href=\"#code-of-conduct\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"https://github.com/facebook/react/blob/main/CODE_OF_CONDUCT.md\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">行为规范</a> </h3>\n<p>Facebook 将<a href=\"https://www.contributor-covenant.org/zh-cn/version/1/4/code-of-conduct\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">参与者公约</a>作为行为规范，我们希望参与项目的各位严格遵守。请阅读<a href=\"https://github.com/facebook/react/blob/main/CODE_OF_CONDUCT.md\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">全文</a>去了解什么行为允许，什么行为不允许。</p>\n<h3 id=\"open-development\"><a href=\"#open-development\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>人人皆可开发 </h3>\n<p>React 的一切工作在 <a href=\"https://github.com/facebook/react\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">GitHub</a> 上完成，核心团队及其以外的贡献者发送 pull requests，其代码评审流程皆为一致。</p>\n<h3 id=\"semantic-versioning\"><a href=\"#semantic-versioning\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>语义化版本 </h3>\n<p>React 遵循<a href=\"https://semver.org/lang/zh-CN/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">语义化版本</a>。我们对重要的漏洞修复发布修订号；对新特性或不重要的变更发布次版本号；对重大且不兼容的变更发布主版本号。我们在开发重大且不兼容的变更时，还会在次版本号用 deprecation warnings 让用户得知将来的变更并提前迁移代码。请查看<a href=\"/docs/faq-versioning.html\">版本号规则</a>来了解更多我们在稳定性和渐进迁移方面要做哪些事情。</p>\n<p>每一个重要变更参见 <a href=\"https://github.com/facebook/react/blob/main/CHANGELOG.md\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">changelog file</a>。</p>\n<h3 id=\"branch-organization\"><a href=\"#branch-organization\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>分支管理 </h3>\n<p>请直接提交你的变更至 <a href=\"https://github.com/facebook/react/tree/main\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"gatsby-code-text\">main branch</code></a>。对于开发或即将推出的版本，我们不会另建分支。我们尽力保持 <code class=\"gatsby-code-text\">main</code> 不出问题，并通过所有测试。</p>\n<p>合并进入 <code class=\"gatsby-code-text\">main</code> 的代码必须与最新稳定版本兼容，可以有额外特性，但不能有重大变更。我们应从 <code class=\"gatsby-code-text\">main</code> 随时能发布新的次版本号。</p>\n<h3 id=\"feature-flags\"><a href=\"#feature-flags\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>特性切换（Feature Flags）</h3>\n<p>我们为了使 <code class=\"gatsby-code-text\">main</code> 能够发布，要求重大且不兼容的变更和实验性的特性必须用特性切换。</p>\n<p><a href=\"https://github.com/facebook/react/blob/main/packages/shared/ReactFeatureFlags.js\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"gatsby-code-text\">packages/shared/ReactFeatureFlags.js</code></a> 中定义了特性切换。React 的一些版本可能启用了不同的特性切换；比如，React Native 可能与 React DOM 有不同的配置。这些特性切换见于 <a href=\"https://github.com/facebook/react/tree/main/packages/shared/forks\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"gatsby-code-text\">packages/shared/forks</code></a>。特性切换使用了静态类型检查器 Flow，因此你可以运行 <code class=\"gatsby-code-text\">yarn flow</code> 来确认所有必要文件已更新。</p>\n<p>React 的构建系统（Build System）会先删去禁用的特性分支，之后再发布。每次 commit 都会运行持续集成（Continuous Integration）来检查包（Bundle）大小的变化。包大小的变化可以用来表明某特性正确合并。</p>\n<h3 id=\"bugs\"><a href=\"#bugs\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>漏洞 </h3>\n<h4 id=\"where-to-find-known-issues\"><a href=\"#where-to-find-known-issues\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>何处查找已知 issue </h4>\n<p>我们用 <a href=\"https://github.com/facebook/react/issues\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">GitHub Issues</a> 来公开漏洞。我们密切关注该版块，内部解决 bug 时也会想办法说明清楚。在你提交 issue 前，请确定没有重复 issue 出现。</p>\n<h4 id=\"reporting-new-issues\"><a href=\"#reporting-new-issues\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>报告新的 issue </h4>\n<p>修复 bug 的最佳方法是给出缩略版的测试用例。这个 <a href=\"https://jsfiddle.net/Luktwrdm/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">JSFiddle 模板</a>是个不错的起点。</p>\n<h4 id=\"security-bugs\"><a href=\"#security-bugs\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>安全漏洞 </h4>\n<p>为了发现安全漏洞，Facebook 实行了漏洞<a href=\"https://www.facebook.com/whitehat/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">举报奖励制度</a>（Bounty Program）。为此，请不要将这类漏洞提交到 public issues，而要遵循举报奖励制度页面所描述的流程。</p>\n<h3 id=\"how-to-get-in-touch\"><a href=\"#how-to-get-in-touch\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>如何联系我们 </h3>\n<ul>\n<li>因特网中继聊天（IRC）： <a href=\"https://webchat.freenode.net/?channels=reactjs\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">#reactjs on freenode</a></li>\n<li><a href=\"/community/support.html#popular-discussion-forums\">论坛</a></li>\n</ul>\n<p>你如果需要有关 React 的帮助，还可以前往 Discord 聊天平台，这里建有 React 用户们的<a href=\"https://www.reactiflux.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">活跃社区</a>。</p>\n<h3 id=\"proposing-a-change\"><a href=\"#proposing-a-change\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>提出变更 </h3>\n<p>如果你想改变公开的 API，或者对实现有不小的变更，我们建议你<a href=\"https://github.com/facebook/react/issues/new\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">发起 issue</a>，这会让我们先对你的提议达成一致，然后你再着手工作。</p>\n<p>如果只是修复漏洞，你当然可以立即提交 pull request，不过我们还是建议先去提出 issue 来说明你修复了什么，这就对一种情况来说就很方便：我们没有接受特定 bug 的修复但想跟进该 issue 的情况。</p>\n<h3 id=\"your-first-pull-request\"><a href=\"#your-first-pull-request\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>首个 Pull Request </h3>\n<p>在写第一个 Pull Request？你可以从这一系列视频中学习怎么做：</p>\n<p><strong><a href=\"https://app.egghead.io/courses/how-to-contribute-to-an-open-source-project-on-github\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">How to Contribute to an Open Source Project on GitHub</a></strong></p>\n<p>为了使你能够快速上手和熟悉贡献流程，我们这里有个列表 <strong><a href=\"https://github.com/facebook/react/issues?q=is:open+is:issue+label:%22good+first+issue%22\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">good first issues</a></strong>，里面有相对没那么笼统的漏洞，从这开始是个不错的选择。</p>\n<p>如果你想解决一个 issue，请确定检查了该 issue 下的评论以防有人正在处理它。如果目前没人在处理该 issue，那么请留下评论去表明你想处理该 issue 以便其他人不会意外重复你的工作。</p>\n<p>如果有人留言表明要处理该 issue 但是超过两周没有跟进，你可以接手工作，不过也应该留言说明。</p>\n<h3 id=\"sending-a-pull-request\"><a href=\"#sending-a-pull-request\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>提交 Pull Request </h3>\n<p>核心团队时刻关注 pull requests，我们会先评审你的 pull request，之后可能会合并，可能会要求再次更改，也可能会关闭该 pull request 并对此作出解释。对于 API 上的变更，我们可能得确认在 Facebook.com 上的内部 API 使用方法，因此该变更可能会推迟。我们会尽力全程更新和反馈。</p>\n<p><strong>提交 pull request 前</strong>，请确保完成以下步骤：</p>\n<ol>\n<li>Fork <a href=\"https://github.com/facebook/react\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">此仓库</a>，从 <code class=\"gatsby-code-text\">main</code> 创建分支。</li>\n<li>在仓库根目录下执行 <code class=\"gatsby-code-text\">yarn</code>。</li>\n<li>如果你修复了 bug 或者添加了代码，而这些内容需要测试，请添加测试！</li>\n<li>确保通过测试套件（<code class=\"gatsby-code-text\">yarn test</code>）。提示：开发环境下，<code class=\"gatsby-code-text\">yarn test --watch TestName</code> 很有用。</li>\n<li>生产环境下，执行 <code class=\"gatsby-code-text\">yarn test --prod</code>  来进行测试。</li>\n<li>如果需要调试，请执行 <code class=\"gatsby-code-text\">yarn debug-test --watch TestName</code>，打开 <code class=\"gatsby-code-text\">chrome://inspect</code>， 之后再打开 “审查”。</li>\n<li>使用 <a href=\"https://github.com/prettier/prettier\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">prettier</a>（<code class=\"gatsby-code-text\">yarn prettier</code>）来格式化代码。</li>\n<li>确保 lint 校验代码（<code class=\"gatsby-code-text\">yarn lint</code>）。提示：执行 <code class=\"gatsby-code-text\">yarn linc</code> 去只检查更改过的文件。</li>\n<li>运行 <a href=\"https://flowtype.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Flow</a> 来类型检查（<code class=\"gatsby-code-text\">yarn flow</code>）。</li>\n<li>请签订贡献者许可证协议（Contributor License Agreement）。</li>\n</ol>\n<h3 id=\"contributor-license-agreement-cla\"><a href=\"#contributor-license-agreement-cla\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>贡献者许可证协议 </h3>\n<p>为了让你的 pull request 得到接受，你得提交贡献者许可证协议。你只需提交该协议一次，所以如果你曾经对另一个 Facebook 开源项目提交过，那么你已经准备好了。如果你是第一次提交 pull request，请让我们得知你已提交协议，这样我们能多方核对你的 GitHub 用户名。</p>\n<p><strong><a href=\"https://code.facebook.com/cla\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">请在这里签订贡献者许可证协议</a></strong></p>\n<h3 id=\"contribution-prerequisites\"><a href=\"#contribution-prerequisites\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>必要条件 </h3>\n<ul>\n<li><a href=\"https://nodejs.org\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Node</a> v8.0.0+、<a href=\"https://yarnpkg.com/en/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Yarn</a> v1.2.0+。</li>\n<li>已安装 <a href=\"https://www.oracle.com/technetwork/java/javase/downloads/index.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">JDK</a>。</li>\n<li>你已安装 <code class=\"gatsby-code-text\">gcc</code>（或者你在有必要安装编译器的情况下也不觉得麻烦），因为一些依赖可能得经过编译，而在 OS X，Xcode 命令行工具会帮你处理；在 Ubuntu，<code class=\"gatsby-code-text\">apt-get install build-essential</code> 会安装所需的 package（其它 Linux 发行版的类似命令也有效）；在 Windows 上得做些额外步骤，请参考 <a href=\"https://github.com/nodejs/node-gyp#installation\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><code class=\"gatsby-code-text\">node-gyp</code> 安装步骤</a>。</li>\n<li>熟悉 Git。</li>\n</ul>\n<h3 id=\"development-workflow\"><a href=\"#development-workflow\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>开发工作流程 </h3>\n<p>克隆 React 项目后，执行 <code class=\"gatsby-code-text\">yarn</code> 来获取依赖。\n之后，你可以执行以下命令：</p>\n<ul>\n<li><code class=\"gatsby-code-text\">yarn lint</code> 检查代码风格。</li>\n<li><code class=\"gatsby-code-text\">yarn linc</code> 和 <code class=\"gatsby-code-text\">yarn lint</code> 差不多，但是运行地更快，因为只检查了分支中的不同文件。</li>\n<li><code class=\"gatsby-code-text\">yarn test</code> 运行完整的测试套装。</li>\n<li><code class=\"gatsby-code-text\">yarn test --watch</code> 运行交互式的测试监听器。</li>\n<li><code class=\"gatsby-code-text\">yarn test --prod</code> 在生产环境下运行测试。</li>\n<li><code class=\"gatsby-code-text\">yarn test &lt;pattern></code> 匹配文件名，运行响应测试。</li>\n<li><code class=\"gatsby-code-text\">yarn debug-test</code> 和 <code class=\"gatsby-code-text\">yarn test</code> 差不多，不过多了个调试器，你可以打开 <code class=\"gatsby-code-text\">chrome://inspect</code> 并审查。</li>\n<li><code class=\"gatsby-code-text\">yarn flow</code> 运行 <a href=\"https://flowtype.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Flow</a> 进行类型检查。</li>\n<li><code class=\"gatsby-code-text\">yarn build</code> 新建涉及所有包的 <code class=\"gatsby-code-text\">build</code> 文件夹。</li>\n<li><code class=\"gatsby-code-text\">yarn build react/index,react-dom/index --type=UMD</code> 生成只有 React 和 ReactDOM 的 UMD 版本。</li>\n</ul>\n<p>我们建议运行 <code class=\"gatsby-code-text\">yarn test</code>（或上述命令）以确保你的代码没有引入回归，不管怎样，这有助于尝试你的 React 构建版本。</p>\n<p>首先，运行 <code class=\"gatsby-code-text\">yarn build</code>，这会于 <code class=\"gatsby-code-text\">build</code> 文件夹中生成预先构建的 bundle，还会于 <code class=\"gatsby-code-text\">build/packages</code> 中生成 npm 包。</p>\n<p>想测试你做出的更改的话，最简单的方法就是运行 <code class=\"gatsby-code-text\">yarn build react/index,react-dom/index --type=UMD</code>，之后再打开 <code class=\"gatsby-code-text\">fixtures/packaging/babel-standalone/dev.html</code>，该文件已使用 <code class=\"gatsby-code-text\">build</code> 文件夹内的 <code class=\"gatsby-code-text\">react.development.js</code> 来搞定你的更改。</p>\n<p>如果你想测试你对已有 React 项目做出的更改，你可以复制 <code class=\"gatsby-code-text\">build/node_modules/react/umd/react.development.js</code> 和 <code class=\"gatsby-code-text\">build/node_modules/react-dom/umd/react-dom.development.js</code> 或其它构建版本，放入你的应用中并使用这些构建版本而非稳定版。</p>\n<p>如果你的项目用 npm，你可以从依赖中删去 <code class=\"gatsby-code-text\">react</code> 和 <code class=\"gatsby-code-text\">react-dom</code>，使用 <code class=\"gatsby-code-text\">yarn link</code> 将其指向本地文件夹的 <code class=\"gatsby-code-text\">build</code> 目录。请注意，**当请在构建时，传递 <code class=\"gatsby-code-text\">--type=NODE</code>，而不是 <code class=\"gatsby-code-text\">--type=UMD</code>。同时，你还需要构建 <code class=\"gatsby-code-text\">scheduler</code> 的 package：</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"gatsby-code-bash\"><code class=\"gatsby-code-bash\"><span class=\"token builtin class-name\">cd</span> ~/path_to_your_react_clone/\n<span class=\"token function\">yarn</span> build react/index,react/jsx,react-dom/index,scheduler --type<span class=\"token operator\">=</span>NODE\n\n<span class=\"token builtin class-name\">cd</span> build/node_modules/react\n<span class=\"token function\">yarn</span> <span class=\"token function\">link</span>\n<span class=\"token builtin class-name\">cd</span> build/node_modules/react-dom\n<span class=\"token function\">yarn</span> <span class=\"token function\">link</span>\n\n<span class=\"token builtin class-name\">cd</span> ~/path/to/your/project\n<span class=\"token function\">yarn</span> <span class=\"token function\">link</span> react react-dom</code></pre></div>\n<p>每当你在项目文件夹下运行 <code class=\"gatsby-code-text\">yarn build</code>，更新版本会出现在 <code class=\"gatsby-code-text\">node_modules</code> 文件夹，之后可以重新构建项目来测试更改。</p>\n<p>如果依然缺少某些 package（例如，可能在项目中使用到 <code class=\"gatsby-code-text\">react-dom/server</code>），则应始终执行 <code class=\"gatsby-code-text\">yarn build</code> 进行完整构建。请注意，不带选项运行 <code class=\"gatsby-code-text\">yarn build</code> 会耗费很长时间。</p>\n<p>我们仍要求：<code class=\"gatsby-code-text\">pull request</code> 得包括新功能对应的单元测试。这样，我们能确保以后你的代码不出问题。</p>\n<h3 id=\"style-guide\"><a href=\"#style-guide\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>风格指南 </h3>\n<p>我们使用自动化代码格式化软件 <a href=\"https://prettier.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Prettier</a>。\n对代码做出更改后，运行 <code class=\"gatsby-code-text\">yarn prettier</code>。</p>\n<p>之后，linter 会捕获代码中可能出现的多数问题。\n你可以运行 <code class=\"gatsby-code-text\">yarn linc</code> 来检查代码风格状态。</p>\n<p>不过，linter 也有不能搞定的一些风格。如果有些东西不确定，请查看 <a href=\"https://github.com/airbnb/javascript\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Airbnb’s Style Guide</a> 来指导自己。</p>\n<h3 id=\"request-for-comments-rfc\"><a href=\"#request-for-comments-rfc\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>请求意见稿（RFC） </h3>\n<p>许多更改（包括修复 bug 和完善文档）会经过通常所用的 GitHub pull request 工作流程来评审。</p>\n<p>不过有些更改较大，对此，我们要求这些更改得经过一番设计流程， 并在核心团队中达成共识。</p>\n<p>请求意见稿让新特性的合并入库经过一致且受控的流程。你可以前往 <a href=\"https://github.com/reactjs/rfcs\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">rfcs repository</a> 去贡献。</p>\n<h3 id=\"license\"><a href=\"#license\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>License </h3>\n<p>你贡献 React 的同时也就同意了你的贡献部分使用了 MIT 协议。</p>\n<h3 id=\"what-next\"><a href=\"#what-next\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>接下来做什么？ </h3>\n<p>请阅读<a href=\"/docs/codebase-overview.html\">下一部分</a>来学习代码库是如何组织的.</p>","frontmatter":{"title":"贡献流程","next":"codebase-overview.html","prev":null},"fields":{"path":"content/docs/how-to-contribute.md","slug":"docs/how-to-contribute.html"}}},"pageContext":{"slug":"docs/how-to-contribute.html"}},"staticQueryHashes":[]}