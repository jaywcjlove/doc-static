{"componentChunkName":"component---src-templates-playground-handbook-tsx","path":"/_playground-handbook/type-acquisition.html","result":{"pageContext":{"title":"Type Acquisition","lang":"en","html":"<h2 id=\"type-acquisition\" style=\"position:relative;\"><a href=\"#type-acquisition\" aria-label=\"type acquisition permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Type Acquisition</h2>\n<p>No Playground is an island. Well, not strictly, no playground <em>needs</em> to be an island. One of the first problem we hit when adding support for <code>.tsx</code>/<code>.jsx</code> to the Playground was that to <strong><em>really</em></strong> use JSX to write React components - you need the types for React.</p>\n<p>This left us with the dilemma of needing to either bundle React’s evolving types into the Playground, or to replicate the feature found in JavaScript projects utilizing TypeScript: Automatic Type Acquisition. The idea behind Automatic Type Acquisition (ATA) is that behind the scenes the Playground will look at any <code>import</code> / <code>require</code> / <a href=\"/docs/handbook/triple-slash-directives.html\"><code>/// &#x3C;reference types\"</code></a> and understand what npm modules have been referenced.</p>\n<p>For these referenced modules, TypeScript will search through the npm package contents, and potentially in the <code>@types</code> equivalent for <code>.d.ts</code> files to describe how the library works. This means to get the types for React, you would create a playground like:</p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #AF00DB\">import</span><span style=\"color: #000000\"> </span><span style=\"color: #001080\">React</span><span style=\"color: #000000\"> </span><span style=\"color: #AF00DB\">from</span><span style=\"color: #000000\"> </span><span style=\"color: #A31515\">\"react\"</span></div><div class='line'></div><div class='line'><span style=\"color: #0000FF\">const</span><span style=\"color: #000000\"> </span><span style=\"color: #795E26\">myComponent</span><span style=\"color: #000000\"> = () </span><span style=\"color: #0000FF\">=&gt;</span><span style=\"color: #000000\"> &lt;</span><span style=\"color: #1C6277\">h1</span><span style=\"color: #000000\">&gt;</span><span style=\"color: #001080\">Hello</span><span style=\"color: #000000\">, </span><span style=\"color: #0070C1\">world</span><span style=\"color: #000000\">&lt;/h1&gt;</span></div></code></div></pre>\n<p>Type Acquisition will:</p>\n<ul>\n<li>look in the package <code>react</code> on npm, see there are no <code>.d.ts</code> files in its contents</li>\n<li>look to see if <code>@types/react</code> exists, downloads all of the <code>.d.ts</code> files</li>\n<li>read the <code>.d.ts</code> files in <code>@types/react</code>, and discover they import from <code>csstype</code> and <code>prop-types</code>\n<ul>\n<li>look in the package <code>csstype</code> for <code>.d.ts</code> files and downloads them</li>\n<li>look in the package <code>prop-types</code> for <code>.d.ts</code> files and finds none</li>\n<li>look to see if <code>@types/prop-types</code> exists and download the <code>.d.ts</code> files from that</li>\n</ul>\n</li>\n</ul>\n<p>That one import line has downloaded the <code>.d.ts</code> files from <code>@types/react</code>, <code>@types/prop-types</code> and <code>csstype</code>. These are added to the Playground’s TypeScript project’s <code>node_modules</code> folder and TypeScript picks them up.</p>\n<p>This is all built on the <a href=\"https://www.jsdelivr.com/\">jsdelivr CDN</a> which has kept the complexity down, and the type acquisition system is available for other projects to use via npm on <a href=\"https://www.npmjs.com/package/@typescript/ata\"><code>@typescript/ata</code></a>.</p>\n<p>If you need more control over the version of the types which are imported into the Playground, you can append <code>// types: npm_tag_or_version</code></p>\n<pre class=\"shiki light-plus\" style=\"background-color: #FFFFFF; color: #000000\"><div class='code-container'><code><div class='line'><span style=\"color: undefined\">import { xy } from \"xyz\" // types: beta</span></div></code></div></pre>\n<p>The type acquisition as-is is quite eager and may start pulling your types before you’ve set the npm tag or version. In that case, you can reload your browser once it’s written to get the right version.</p>"}},"staticQueryHashes":[]}